{"id":"QQ37","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/dist/esm/utils/load-file.js.map","includedInParent":true,"mtime":1688284130571},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/package.json","includedInParent":true,"mtime":1688284130571},{"name":"../utils/assert","loc":{"line":1,"column":23,"index":23},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/dist/esm/utils/load-file.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/dist/esm/utils/assert.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.loadFile=o,exports.loadImage=n,exports.setPathPrefix=r;var e=require(\"../utils/assert\");let t=\"\";function r(e){t=e}function o(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,e.assert)(\"string\"==typeof r),r=t+r;const n=o.dataType||\"text\";return fetch(r,o).then(e=>e[n]())}function n(r,o){return(0,e.assert)(\"string\"==typeof r),r=t+r,new Promise((e,t)=>{try{const s=new Image;s.onload=(()=>e(s)),s.onerror=(()=>t(new Error(\"Could not load image \".concat(r,\".\")))),s.crossOrigin=o&&o.crossOrigin||\"anonymous\",s.src=r}catch(n){t(n)}})}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":85}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":87}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":95}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":105}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":107}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":115}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":129}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":131}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":135}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":137}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":145}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":164}},{"source":"../../../src/utils/load-file.js","name":"pathPrefix","original":{"line":3,"column":4},"generated":{"line":1,"column":168}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":3,"column":17},"generated":{"line":1,"column":170}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":8,"column":7},"generated":{"line":1,"column":173}},{"source":"../../../src/utils/load-file.js","name":"setPathPrefix","original":{"line":8,"column":16},"generated":{"line":1,"column":182}},{"source":"../../../src/utils/load-file.js","name":"prefix","original":{"line":8,"column":30},"generated":{"line":1,"column":184}},{"source":"../../../src/utils/load-file.js","name":"pathPrefix","original":{"line":9,"column":2},"generated":{"line":1,"column":187}},{"source":"../../../src/utils/load-file.js","name":"prefix","original":{"line":9,"column":15},"generated":{"line":1,"column":189}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":13,"column":7},"generated":{"line":1,"column":191}},{"source":"../../../src/utils/load-file.js","name":"loadFile","original":{"line":13,"column":16},"generated":{"line":1,"column":200}},{"source":"../../../src/utils/load-file.js","name":"url","original":{"line":13,"column":25},"generated":{"line":1,"column":202}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":13,"column":44},"generated":{"line":1,"column":205}},{"source":"../../../src/utils/load-file.js","name":"options","original":{"line":13,"column":30},"generated":{"line":1,"column":209}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":13,"column":44},"generated":{"line":1,"column":211}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":13,"column":44},"generated":{"line":1,"column":221}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":13,"column":44},"generated":{"line":1,"column":228}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":13,"column":44},"generated":{"line":1,"column":236}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":13,"column":44},"generated":{"line":1,"column":240}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":13,"column":44},"generated":{"line":1,"column":250}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":13,"column":44},"generated":{"line":1,"column":253}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":13,"column":44},"generated":{"line":1,"column":263}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":13,"column":40},"generated":{"line":1,"column":266}},{"source":"../../../src/utils/load-file.js","name":"assert","original":{"line":14,"column":2},"generated":{"line":1,"column":270}},{"source":"../../../src/utils/load-file.js","name":"assert","original":{"line":14,"column":2},"generated":{"line":1,"column":272}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":14,"column":8},"generated":{"line":1,"column":274}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":14,"column":24},"generated":{"line":1,"column":282}},{"source":"../../../src/utils/load-file.js","name":"url","original":{"line":14,"column":16},"generated":{"line":1,"column":299}},{"source":"../../../src/utils/load-file.js","name":"url","original":{"line":15,"column":2},"generated":{"line":1,"column":302}},{"source":"../../../src/utils/load-file.js","name":"pathPrefix","original":{"line":15,"column":8},"generated":{"line":1,"column":304}},{"source":"../../../src/utils/load-file.js","name":"url","original":{"line":15,"column":21},"generated":{"line":1,"column":306}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":308}},{"source":"../../../src/utils/load-file.js","name":"dataType","original":{"line":16,"column":8},"generated":{"line":1,"column":314}},{"source":"../../../src/utils/load-file.js","name":"options","original":{"line":16,"column":19},"generated":{"line":1,"column":316}},{"source":"../../../src/utils/load-file.js","name":"dataType","original":{"line":16,"column":27},"generated":{"line":1,"column":318}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":16,"column":39},"generated":{"line":1,"column":328}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":335}},{"source":"../../../src/utils/load-file.js","name":"fetch","original":{"line":17,"column":9},"generated":{"line":1,"column":342}},{"source":"../../../src/utils/load-file.js","name":"url","original":{"line":17,"column":15},"generated":{"line":1,"column":348}},{"source":"../../../src/utils/load-file.js","name":"options","original":{"line":17,"column":20},"generated":{"line":1,"column":350}},{"source":"../../../src/utils/load-file.js","name":"then","original":{"line":17,"column":29},"generated":{"line":1,"column":353}},{"source":"../../../src/utils/load-file.js","name":"res","original":{"line":17,"column":34},"generated":{"line":1,"column":358}},{"source":"../../../src/utils/load-file.js","name":"res","original":{"line":17,"column":41},"generated":{"line":1,"column":361}},{"source":"../../../src/utils/load-file.js","name":"dataType","original":{"line":17,"column":45},"generated":{"line":1,"column":363}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":25,"column":7},"generated":{"line":1,"column":369}},{"source":"../../../src/utils/load-file.js","name":"loadImage","original":{"line":25,"column":16},"generated":{"line":1,"column":378}},{"source":"../../../src/utils/load-file.js","name":"url","original":{"line":25,"column":26},"generated":{"line":1,"column":380}},{"source":"../../../src/utils/load-file.js","name":"opts","original":{"line":25,"column":31},"generated":{"line":1,"column":382}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":385}},{"source":"../../../src/utils/load-file.js","name":"assert","original":{"line":26,"column":2},"generated":{"line":1,"column":392}},{"source":"../../../src/utils/load-file.js","name":"assert","original":{"line":26,"column":2},"generated":{"line":1,"column":394}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":396}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":26,"column":24},"generated":{"line":1,"column":404}},{"source":"../../../src/utils/load-file.js","name":"url","original":{"line":26,"column":16},"generated":{"line":1,"column":421}},{"source":"../../../src/utils/load-file.js","name":"url","original":{"line":27,"column":2},"generated":{"line":1,"column":424}},{"source":"../../../src/utils/load-file.js","name":"pathPrefix","original":{"line":27,"column":8},"generated":{"line":1,"column":426}},{"source":"../../../src/utils/load-file.js","name":"url","original":{"line":27,"column":21},"generated":{"line":1,"column":428}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":28,"column":9},"generated":{"line":1,"column":430}},{"source":"../../../src/utils/load-file.js","name":"Promise","original":{"line":28,"column":13},"generated":{"line":1,"column":434}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":28,"column":21},"generated":{"line":1,"column":442}},{"source":"../../../src/utils/load-file.js","name":"resolve","original":{"line":28,"column":22},"generated":{"line":1,"column":443}},{"source":"../../../src/utils/load-file.js","name":"reject","original":{"line":28,"column":31},"generated":{"line":1,"column":445}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":450}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":30,"column":6},"generated":{"line":1,"column":454}},{"source":"../../../src/utils/load-file.js","name":"image","original":{"line":30,"column":12},"generated":{"line":1,"column":460}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":30,"column":20},"generated":{"line":1,"column":462}},{"source":"../../../src/utils/load-file.js","name":"Image","original":{"line":30,"column":24},"generated":{"line":1,"column":466}},{"source":"../../../src/utils/load-file.js","name":"image","original":{"line":31,"column":6},"generated":{"line":1,"column":472}},{"source":"../../../src/utils/load-file.js","name":"onload","original":{"line":31,"column":12},"generated":{"line":1,"column":474}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":31,"column":21},"generated":{"line":1,"column":481}},{"source":"../../../src/utils/load-file.js","name":"resolve","original":{"line":31,"column":27},"generated":{"line":1,"column":486}},{"source":"../../../src/utils/load-file.js","name":"image","original":{"line":31,"column":35},"generated":{"line":1,"column":488}},{"source":"../../../src/utils/load-file.js","name":"image","original":{"line":32,"column":6},"generated":{"line":1,"column":492}},{"source":"../../../src/utils/load-file.js","name":"onerror","original":{"line":32,"column":12},"generated":{"line":1,"column":494}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":32,"column":22},"generated":{"line":1,"column":502}},{"source":"../../../src/utils/load-file.js","name":"reject","original":{"line":32,"column":28},"generated":{"line":1,"column":507}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":32,"column":35},"generated":{"line":1,"column":509}},{"source":"../../../src/utils/load-file.js","name":"Error","original":{"line":32,"column":39},"generated":{"line":1,"column":513}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":32,"column":35},"generated":{"line":1,"column":519}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":32,"column":35},"generated":{"line":1,"column":543}},{"source":"../../../src/utils/load-file.js","name":"url","original":{"line":32,"column":69},"generated":{"line":1,"column":550}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":32,"column":35},"generated":{"line":1,"column":552}},{"source":"../../../src/utils/load-file.js","name":"image","original":{"line":33,"column":6},"generated":{"line":1,"column":560}},{"source":"../../../src/utils/load-file.js","name":"crossOrigin","original":{"line":33,"column":12},"generated":{"line":1,"column":562}},{"source":"../../../src/utils/load-file.js","name":"opts","original":{"line":33,"column":27},"generated":{"line":1,"column":574}},{"source":"../../../src/utils/load-file.js","name":"opts","original":{"line":33,"column":35},"generated":{"line":1,"column":577}},{"source":"../../../src/utils/load-file.js","name":"crossOrigin","original":{"line":33,"column":40},"generated":{"line":1,"column":579}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":33,"column":56},"generated":{"line":1,"column":592}},{"source":"../../../src/utils/load-file.js","name":"image","original":{"line":34,"column":6},"generated":{"line":1,"column":604}},{"source":"../../../src/utils/load-file.js","name":"src","original":{"line":34,"column":12},"generated":{"line":1,"column":606}},{"source":"../../../src/utils/load-file.js","name":"url","original":{"line":34,"column":18},"generated":{"line":1,"column":610}},{"source":"../../../src/utils/load-file.js","name":null,"original":{"line":35,"column":6},"generated":{"line":1,"column":612}},{"source":"../../../src/utils/load-file.js","name":"error","original":{"line":35,"column":13},"generated":{"line":1,"column":618}},{"source":"../../../src/utils/load-file.js","name":"reject","original":{"line":36,"column":6},"generated":{"line":1,"column":621}},{"source":"../../../src/utils/load-file.js","name":"error","original":{"line":36,"column":13},"generated":{"line":1,"column":623}}],"sources":{"../../../src/utils/load-file.js":"import {assert} from '../utils/assert';\n\nlet pathPrefix = '';\n\n/*\n * Set a relative path prefix\n */\nexport function setPathPrefix(prefix) {\n  pathPrefix = prefix;\n}\n\n// Reads raw file data from:\nexport function loadFile(url, options = {}) {\n  assert(typeof url === 'string');\n  url = pathPrefix + url;\n  const dataType = options.dataType || 'text';\n  return fetch(url, options).then(res => res[dataType]());\n}\n\n/*\n * Loads images asynchronously\n * image.crossOrigin can be set via opts.crossOrigin, default to 'anonymous'\n * returns a promise tracking the load\n */\nexport function loadImage(url, opts) {\n  assert(typeof url === 'string');\n  url = pathPrefix + url;\n  return new Promise((resolve, reject) => {\n    try {\n      const image = new Image();\n      image.onload = () => resolve(image);\n      image.onerror = () => reject(new Error(`Could not load image ${url}.`));\n      image.crossOrigin = (opts && opts.crossOrigin) || 'anonymous';\n      image.src = url;\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\n"},"lineCount":null}},"error":null,"hash":"21f6c1360d6359466ba7a5ca32002183","cacheData":{"env":{}}}