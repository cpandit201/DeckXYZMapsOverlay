{"id":"Q1FV","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/fetch/read-array-buffer.js.map","includedInParent":true,"mtime":1688284130527},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/package.json","includedInParent":true,"mtime":1688284130527},{"name":"@loaders.gl/loader-utils","loc":{"line":1,"column":19,"index":19},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/fetch/read-array-buffer.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/loader-utils/dist/esm/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.readArrayBuffer=e,exports.readBlob=o;var r=require(\"@loaders.gl/loader-utils\");async function e(e,a,t){if(\"number\"==typeof e)return await r.fs._readToArrayBuffer(e,a,t);e instanceof Blob||(e=new Blob([e]));const n=e.slice(a,a+t);return await o(n)}async function o(r){return await new Promise((e,o)=>{const a=new FileReader;a.onload=(r=>{var o;return e(null==r?void 0:null===(o=r.target)||void 0===o?void 0:o.result)}),a.onerror=(r=>o(r)),a.readAsArrayBuffer(r)})}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":92}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":94}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":102}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":111}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":113}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":117}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":119}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":127}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":11,"column":7},"generated":{"line":1,"column":155}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"readArrayBuffer","original":{"line":11,"column":22},"generated":{"line":1,"column":170}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"file","original":{"line":12,"column":2},"generated":{"line":1,"column":172}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"start","original":{"line":13,"column":2},"generated":{"line":1,"column":174}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"length","original":{"line":14,"column":2},"generated":{"line":1,"column":176}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":179}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":16,"column":22},"generated":{"line":1,"column":182}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"file","original":{"line":16,"column":13},"generated":{"line":1,"column":199}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":1,"column":201}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"fs","original":{"line":17,"column":17},"generated":{"line":1,"column":214}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":17,"column":19},"generated":{"line":1,"column":216}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"_readToArrayBuffer","original":{"line":17,"column":20},"generated":{"line":1,"column":219}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"file","original":{"line":17,"column":39},"generated":{"line":1,"column":238}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"start","original":{"line":17,"column":45},"generated":{"line":1,"column":240}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"length","original":{"line":17,"column":52},"generated":{"line":1,"column":242}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"file","original":{"line":20,"column":8},"generated":{"line":1,"column":245}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"Blob","original":{"line":20,"column":24},"generated":{"line":1,"column":258}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"file","original":{"line":21,"column":4},"generated":{"line":1,"column":265}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":21,"column":11},"generated":{"line":1,"column":267}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"Blob","original":{"line":21,"column":15},"generated":{"line":1,"column":271}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":21,"column":20},"generated":{"line":1,"column":276}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"file","original":{"line":21,"column":21},"generated":{"line":1,"column":277}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":282}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"slice","original":{"line":23,"column":8},"generated":{"line":1,"column":288}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"file","original":{"line":23,"column":16},"generated":{"line":1,"column":290}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"slice","original":{"line":23,"column":21},"generated":{"line":1,"column":292}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"start","original":{"line":23,"column":27},"generated":{"line":1,"column":298}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"start","original":{"line":23,"column":34},"generated":{"line":1,"column":300}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"length","original":{"line":23,"column":42},"generated":{"line":1,"column":302}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":305}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"readBlob","original":{"line":24,"column":15},"generated":{"line":1,"column":318}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"slice","original":{"line":24,"column":24},"generated":{"line":1,"column":320}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":34,"column":7},"generated":{"line":1,"column":323}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"readBlob","original":{"line":34,"column":22},"generated":{"line":1,"column":338}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"blob","original":{"line":34,"column":31},"generated":{"line":1,"column":340}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":343}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":35,"column":15},"generated":{"line":1,"column":356}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"Promise","original":{"line":35,"column":19},"generated":{"line":1,"column":360}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":35,"column":27},"generated":{"line":1,"column":368}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"resolve","original":{"line":35,"column":28},"generated":{"line":1,"column":369}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"reject","original":{"line":35,"column":37},"generated":{"line":1,"column":371}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":1,"column":376}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"fileReader","original":{"line":36,"column":10},"generated":{"line":1,"column":382}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":36,"column":23},"generated":{"line":1,"column":384}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"FileReader","original":{"line":36,"column":27},"generated":{"line":1,"column":388}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"fileReader","original":{"line":37,"column":4},"generated":{"line":1,"column":399}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"onload","original":{"line":37,"column":15},"generated":{"line":1,"column":401}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"event","original":{"line":37,"column":25},"generated":{"line":1,"column":408}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"event","original":{"line":37,"column":25},"generated":{"line":1,"column":409}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":37,"column":57},"generated":{"line":1,"column":413}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"_event$target","original":{"line":37,"column":57},"generated":{"line":1,"column":417}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":37,"column":57},"generated":{"line":1,"column":419}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"resolve","original":{"line":38,"column":6},"generated":{"line":1,"column":426}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"event","original":{"line":38,"column":14},"generated":{"line":1,"column":428}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"event","original":{"line":38,"column":14},"generated":{"line":1,"column":434}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":38,"column":19},"generated":{"line":1,"column":441}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":38,"column":27},"generated":{"line":1,"column":443}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"_event$target","original":{"line":38,"column":19},"generated":{"line":1,"column":451}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"event","original":{"line":38,"column":14},"generated":{"line":1,"column":453}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"target","original":{"line":38,"column":21},"generated":{"line":1,"column":455}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":38,"column":27},"generated":{"line":1,"column":469}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"_event$target","original":{"line":38,"column":27},"generated":{"line":1,"column":473}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":null,"original":{"line":38,"column":27},"generated":{"line":1,"column":480}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"_event$target","original":{"line":38,"column":14},"generated":{"line":1,"column":482}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"result","original":{"line":38,"column":29},"generated":{"line":1,"column":484}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"fileReader","original":{"line":40,"column":4},"generated":{"line":1,"column":494}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"onerror","original":{"line":40,"column":15},"generated":{"line":1,"column":496}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"error","original":{"line":40,"column":26},"generated":{"line":1,"column":504}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"error","original":{"line":40,"column":26},"generated":{"line":1,"column":505}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"reject","original":{"line":40,"column":63},"generated":{"line":1,"column":508}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"error","original":{"line":40,"column":70},"generated":{"line":1,"column":510}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"fileReader","original":{"line":41,"column":4},"generated":{"line":1,"column":514}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"readAsArrayBuffer","original":{"line":41,"column":15},"generated":{"line":1,"column":516}},{"source":"../../../../src/lib/fetch/read-array-buffer.ts","name":"blob","original":{"line":41,"column":33},"generated":{"line":1,"column":534}}],"sources":{"../../../../src/lib/fetch/read-array-buffer.ts":"//\nimport {fs} from '@loaders.gl/loader-utils';\n\n/**\n * Reads a chunk from a random access file\n * @param file\n * @param start\n * @param length\n * @returns\n */\nexport async function readArrayBuffer(\n  file: Blob | ArrayBuffer | string | number,\n  start: number,\n  length: number\n): Promise<ArrayBuffer> {\n  if (typeof file === 'number') {\n    return await fs._readToArrayBuffer(file, start, length);\n  }\n  // TODO - we can do better for ArrayBuffer and string\n  if (!(file instanceof Blob)) {\n    file = new Blob([file]);\n  }\n  const slice = file.slice(start, start + length);\n  return await readBlob(slice);\n}\n\n/**\n * Read a slice of a Blob or File, without loading the entire file into memory\n * The trick when reading File objects is to read successive \"slices\" of the File\n * Per spec https://w3c.github.io/FileAPI/, slicing a File only updates the start and end fields\n * Actually reading from file happens in `readAsArrayBuffer`\n * @param blob to read\n */\nexport async function readBlob(blob: Blob): Promise<ArrayBuffer> {\n  return await new Promise((resolve, reject) => {\n    const fileReader = new FileReader();\n    fileReader.onload = (event: ProgressEvent<FileReader>) =>\n      resolve(event?.target?.result as ArrayBuffer);\n    // TODO - reject with a proper Error\n    fileReader.onerror = (error: ProgressEvent<FileReader>) => reject(error);\n    fileReader.readAsArrayBuffer(blob);\n  });\n}\n"},"lineCount":null}},"error":null,"hash":"f937ccfd6af83553d3d7b75b82b5e38d","cacheData":{"env":{}}}