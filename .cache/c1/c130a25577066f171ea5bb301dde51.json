{"id":"RaIZ","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/utils/texture.js.map","includedInParent":true,"mtime":1688284130514},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/package.json","includedInParent":true,"mtime":1688284130514},{"name":"@luma.gl/core","loc":{"line":1,"column":26,"index":26},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/utils/texture.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/core/dist/esm/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.createTexture=n,exports.destroyTexture=o;var e=require(\"@luma.gl/core\");const t={10241:9987,10240:9729,10242:33071,10243:33071},r={};function n(n,o,u){if(o instanceof e.Texture2D)return o;o.constructor&&\"Object\"!==o.constructor.name&&(o={data:o});let c=null;o.compressed&&(c={10241:o.data.length>1?9985:9729});const s=new e.Texture2D(n,{...o,parameters:{...t,...c,...u}});return r[s.id]=!0,s}function o(t){t&&t instanceof e.Texture2D&&r[t.id]&&(t.delete(),delete r[t.id])}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":90}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":92}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":100}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":115}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":117}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":121}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":123}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":131}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":148}},{"source":"../../../src/utils/texture.ts","name":"DEFAULT_TEXTURE_PARAMETERS","original":{"line":4,"column":6},"generated":{"line":1,"column":154}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":4,"column":59},"generated":{"line":1,"column":156}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":5,"column":2},"generated":{"line":1,"column":157}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":5,"column":2},"generated":{"line":1,"column":163}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":6,"column":2},"generated":{"line":1,"column":168}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":6,"column":2},"generated":{"line":1,"column":174}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":7,"column":2},"generated":{"line":1,"column":179}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":7,"column":2},"generated":{"line":1,"column":185}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":191}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":197}},{"source":"../../../src/utils/texture.ts","name":"internalTextures","original":{"line":12,"column":6},"generated":{"line":1,"column":204}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":12,"column":50},"generated":{"line":1,"column":206}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":209}},{"source":"../../../src/utils/texture.ts","name":"createTexture","original":{"line":14,"column":16},"generated":{"line":1,"column":218}},{"source":"../../../src/utils/texture.ts","name":"gl","original":{"line":15,"column":2},"generated":{"line":1,"column":220}},{"source":"../../../src/utils/texture.ts","name":"image","original":{"line":16,"column":2},"generated":{"line":1,"column":222}},{"source":"../../../src/utils/texture.ts","name":"parameters","original":{"line":17,"column":2},"generated":{"line":1,"column":224}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":227}},{"source":"../../../src/utils/texture.ts","name":"image","original":{"line":23,"column":6},"generated":{"line":1,"column":230}},{"source":"../../../src/utils/texture.ts","name":"Texture2D","original":{"line":23,"column":23},"generated":{"line":1,"column":243}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":245}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":255}},{"source":"../../../src/utils/texture.ts","name":"image","original":{"line":24,"column":11},"generated":{"line":1,"column":262}},{"source":"../../../src/utils/texture.ts","name":"image","original":{"line":25,"column":13},"generated":{"line":1,"column":264}},{"source":"../../../src/utils/texture.ts","name":"constructor","original":{"line":25,"column":19},"generated":{"line":1,"column":266}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":25,"column":61},"generated":{"line":1,"column":279}},{"source":"../../../src/utils/texture.ts","name":"image","original":{"line":25,"column":34},"generated":{"line":1,"column":290}},{"source":"../../../src/utils/texture.ts","name":"constructor","original":{"line":25,"column":40},"generated":{"line":1,"column":292}},{"source":"../../../src/utils/texture.ts","name":"name","original":{"line":25,"column":52},"generated":{"line":1,"column":304}},{"source":"../../../src/utils/texture.ts","name":"image","original":{"line":27,"column":4},"generated":{"line":1,"column":311}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":27,"column":12},"generated":{"line":1,"column":313}},{"source":"../../../src/utils/texture.ts","name":"data","original":{"line":27,"column":13},"generated":{"line":1,"column":314}},{"source":"../../../src/utils/texture.ts","name":"image","original":{"line":27,"column":19},"generated":{"line":1,"column":319}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":323}},{"source":"../../../src/utils/texture.ts","name":"specialTextureParameters","original":{"line":30,"column":6},"generated":{"line":1,"column":327}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":30,"column":64},"generated":{"line":1,"column":329}},{"source":"../../../src/utils/texture.ts","name":"image","original":{"line":31,"column":6},"generated":{"line":1,"column":334}},{"source":"../../../src/utils/texture.ts","name":"compressed","original":{"line":31,"column":12},"generated":{"line":1,"column":336}},{"source":"../../../src/utils/texture.ts","name":"specialTextureParameters","original":{"line":32,"column":4},"generated":{"line":1,"column":349}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":32,"column":31},"generated":{"line":1,"column":351}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":33,"column":6},"generated":{"line":1,"column":352}},{"source":"../../../src/utils/texture.ts","name":"image","original":{"line":33,"column":31},"generated":{"line":1,"column":358}},{"source":"../../../src/utils/texture.ts","name":"data","original":{"line":33,"column":37},"generated":{"line":1,"column":360}},{"source":"../../../src/utils/texture.ts","name":"length","original":{"line":33,"column":42},"generated":{"line":1,"column":365}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":33,"column":51},"generated":{"line":1,"column":372}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":33,"column":31},"generated":{"line":1,"column":374}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":33,"column":31},"generated":{"line":1,"column":379}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":386}},{"source":"../../../src/utils/texture.ts","name":"texture","original":{"line":37,"column":8},"generated":{"line":1,"column":392}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":1,"column":394}},{"source":"../../../src/utils/texture.ts","name":"Texture2D","original":{"line":37,"column":22},"generated":{"line":1,"column":398}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":1,"column":400}},{"source":"../../../src/utils/texture.ts","name":"gl","original":{"line":37,"column":32},"generated":{"line":1,"column":410}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":37,"column":36},"generated":{"line":1,"column":412}},{"source":"../../../src/utils/texture.ts","name":"image","original":{"line":38,"column":7},"generated":{"line":1,"column":416}},{"source":"../../../src/utils/texture.ts","name":"parameters","original":{"line":39,"column":4},"generated":{"line":1,"column":418}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":429}},{"source":"../../../src/utils/texture.ts","name":"DEFAULT_TEXTURE_PARAMETERS","original":{"line":40,"column":9},"generated":{"line":1,"column":433}},{"source":"../../../src/utils/texture.ts","name":"specialTextureParameters","original":{"line":41,"column":9},"generated":{"line":1,"column":438}},{"source":"../../../src/utils/texture.ts","name":"parameters","original":{"line":42,"column":9},"generated":{"line":1,"column":443}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":448}},{"source":"../../../src/utils/texture.ts","name":"internalTextures","original":{"line":46,"column":2},"generated":{"line":1,"column":455}},{"source":"../../../src/utils/texture.ts","name":"texture","original":{"line":46,"column":19},"generated":{"line":1,"column":457}},{"source":"../../../src/utils/texture.ts","name":"id","original":{"line":46,"column":27},"generated":{"line":1,"column":459}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":46,"column":33},"generated":{"line":1,"column":464}},{"source":"../../../src/utils/texture.ts","name":"texture","original":{"line":47,"column":9},"generated":{"line":1,"column":466}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":50,"column":7},"generated":{"line":1,"column":468}},{"source":"../../../src/utils/texture.ts","name":"destroyTexture","original":{"line":50,"column":16},"generated":{"line":1,"column":477}},{"source":"../../../src/utils/texture.ts","name":"texture","original":{"line":50,"column":31},"generated":{"line":1,"column":479}},{"source":"../../../src/utils/texture.ts","name":"texture","original":{"line":51,"column":7},"generated":{"line":1,"column":482}},{"source":"../../../src/utils/texture.ts","name":"texture","original":{"line":51,"column":20},"generated":{"line":1,"column":485}},{"source":"../../../src/utils/texture.ts","name":"Texture2D","original":{"line":51,"column":39},"generated":{"line":1,"column":498}},{"source":"../../../src/utils/texture.ts","name":null,"original":{"line":51,"column":18},"generated":{"line":1,"column":500}},{"source":"../../../src/utils/texture.ts","name":"internalTextures","original":{"line":54,"column":6},"generated":{"line":1,"column":511}},{"source":"../../../src/utils/texture.ts","name":"texture","original":{"line":54,"column":23},"generated":{"line":1,"column":513}},{"source":"../../../src/utils/texture.ts","name":"id","original":{"line":54,"column":31},"generated":{"line":1,"column":515}},{"source":"../../../src/utils/texture.ts","name":"texture","original":{"line":55,"column":4},"generated":{"line":1,"column":521}},{"source":"../../../src/utils/texture.ts","name":"delete","original":{"line":55,"column":12},"generated":{"line":1,"column":523}},{"source":"../../../src/utils/texture.ts","name":"internalTextures","original":{"line":56,"column":11},"generated":{"line":1,"column":539}},{"source":"../../../src/utils/texture.ts","name":"texture","original":{"line":56,"column":28},"generated":{"line":1,"column":541}},{"source":"../../../src/utils/texture.ts","name":"id","original":{"line":56,"column":36},"generated":{"line":1,"column":543}}],"sources":{"../../../src/utils/texture.ts":"import {Texture2D} from '@luma.gl/core';\nimport GL from '@luma.gl/constants';\n\nconst DEFAULT_TEXTURE_PARAMETERS: Record<number, number> = {\n  [GL.TEXTURE_MIN_FILTER]: GL.LINEAR_MIPMAP_LINEAR,\n  [GL.TEXTURE_MAG_FILTER]: GL.LINEAR,\n  [GL.TEXTURE_WRAP_S]: GL.CLAMP_TO_EDGE,\n  [GL.TEXTURE_WRAP_T]: GL.CLAMP_TO_EDGE\n};\n\n// Track the textures that are created by us. They need to be released when they are no longer used.\nconst internalTextures: Record<string, boolean> = {};\n\nexport function createTexture(\n  gl: WebGLRenderingContext,\n  image: any,\n  parameters: Record<number, number>\n): Texture2D | null {\n  // image could be one of:\n  //  - Texture2D\n  //  - Browser object: Image, ImageData, ImageData, HTMLCanvasElement, HTMLVideoElement, ImageBitmap\n  //  - Plain object: {width: <number>, height: <number>, data: <Uint8Array>}\n  if (image instanceof Texture2D) {\n    return image;\n  } else if (image.constructor && image.constructor.name !== 'Object') {\n    // Browser object\n    image = {data: image};\n  }\n\n  let specialTextureParameters: Record<number, number> | null = null;\n  if (image.compressed) {\n    specialTextureParameters = {\n      [GL.TEXTURE_MIN_FILTER]: image.data.length > 1 ? GL.LINEAR_MIPMAP_NEAREST : GL.LINEAR\n    };\n  }\n\n  const texture = new Texture2D(gl, {\n    ...image,\n    parameters: {\n      ...DEFAULT_TEXTURE_PARAMETERS,\n      ...specialTextureParameters,\n      ...parameters\n    }\n  });\n  // Track this texture\n  internalTextures[texture.id] = true;\n  return texture;\n}\n\nexport function destroyTexture(texture: Texture2D) {\n  if (!texture || !(texture instanceof Texture2D)) {\n    return;\n  }\n  if (internalTextures[texture.id]) {\n    texture.delete();\n    delete internalTextures[texture.id];\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"636cbd76a68059c33642112d57ee2633","cacheData":{"env":{}}}