{"id":"TZJt","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/dist/esm/state-tracker/unified-parameter-api.js.map","includedInParent":true,"mtime":1688284131786},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/package.json","includedInParent":true,"mtime":1688284131786},{"name":"./webgl-parameter-tables","loc":{"line":1,"column":114,"index":114},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/dist/esm/state-tracker/unified-parameter-api.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/dist/esm/state-tracker/webgl-parameter-tables.js"},{"name":"./track-context-state","loc":{"line":2,"column":50,"index":192},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/dist/esm/state-tracker/unified-parameter-api.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/dist/esm/state-tracker/track-context-state.js"},{"name":"../utils/assert","loc":{"line":3,"column":23,"index":240},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/dist/esm/state-tracker/unified-parameter-api.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/dist/esm/utils/assert.js"},{"name":"../utils/webgl-checks","loc":{"line":4,"column":24,"index":283},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/dist/esm/state-tracker/unified-parameter-api.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/dist/esm/utils/webgl-checks.js"},{"name":"../utils/utils","loc":{"line":5,"column":30,"index":338},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/dist/esm/state-tracker/unified-parameter-api.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/dist/esm/utils/utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getParameters=a,exports.resetParameters=i,exports.setParameters=o,exports.withParameters=c;var e=require(\"./webgl-parameter-tables\"),t=require(\"./track-context-state\"),r=require(\"../utils/assert\"),s=require(\"../utils/webgl-checks\"),n=require(\"../utils/utils\");function o(t,o){if((0,r.assert)((0,s.isWebGL)(t),\"setParameters requires a WebGL context\"),(0,n.isObjectEmpty)(o))return;const a={};for(const r in o){const s=Number(r),n=e.GL_PARAMETER_SETTERS[r];n&&(\"string\"==typeof n?a[n]=!0:n(t,o[r],s))}const i=t.state&&t.state.cache;if(i)for(const r in a){(0,e.GL_COMPOSITE_PARAMETER_SETTERS[r])(t,o,i)}}function a(t,r){if(\"number\"==typeof(r=r||e.GL_PARAMETER_DEFAULTS)){const s=r,n=e.GL_PARAMETER_GETTERS[s];return n?n(t,s):t.getParameter(s)}const s=Array.isArray(r)?r:Object.keys(r),n={};for(const o of s){const r=e.GL_PARAMETER_GETTERS[o];n[o]=r?r(t,Number(o)):t.getParameter(Number(o))}return n}function i(t){o(t,e.GL_PARAMETER_DEFAULTS)}function c(e,r,s){if((0,n.isObjectEmpty)(r))return s(e);const{nocatch:a=!0}=r;let i;if((0,t.pushContextState)(e),o(e,r),a)i=s(e),(0,t.popContextState)(e);else try{i=s(e)}finally{(0,t.popContextState)(e)}return i}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":90}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":92}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":100}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":116}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":118}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":126}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":140}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":142}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":150}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":134,"column":1},"generated":{"line":1,"column":165}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":167}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":171}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":173}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":181}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":209}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":211}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":219}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":244}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":246}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":254}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":273}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":275}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":283}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":308}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":310}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":318}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":19,"column":7},"generated":{"line":1,"column":336}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"setParameters","original":{"line":19,"column":16},"generated":{"line":1,"column":345}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":19,"column":30},"generated":{"line":1,"column":347}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"values","original":{"line":19,"column":34},"generated":{"line":1,"column":349}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":352}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"assert","original":{"line":20,"column":2},"generated":{"line":1,"column":356}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"assert","original":{"line":20,"column":2},"generated":{"line":1,"column":358}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":360}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"isWebGL","original":{"line":20,"column":9},"generated":{"line":1,"column":369}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"isWebGL","original":{"line":20,"column":9},"generated":{"line":1,"column":371}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":20,"column":16},"generated":{"line":1,"column":373}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":20,"column":17},"generated":{"line":1,"column":382}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":20,"column":22},"generated":{"line":1,"column":385}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"isObjectEmpty","original":{"line":22,"column":6},"generated":{"line":1,"column":428}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"isObjectEmpty","original":{"line":22,"column":6},"generated":{"line":1,"column":430}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":22,"column":19},"generated":{"line":1,"column":432}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"values","original":{"line":22,"column":20},"generated":{"line":1,"column":447}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":450}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":457}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"compositeSetters","original":{"line":26,"column":8},"generated":{"line":1,"column":463}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":26,"column":27},"generated":{"line":1,"column":465}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":468}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":472}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"key","original":{"line":30,"column":13},"generated":{"line":1,"column":478}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"values","original":{"line":30,"column":20},"generated":{"line":1,"column":483}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":30,"column":28},"generated":{"line":1,"column":485}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":486}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"glConstant","original":{"line":31,"column":10},"generated":{"line":1,"column":492}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"Number","original":{"line":31,"column":23},"generated":{"line":1,"column":494}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"key","original":{"line":31,"column":30},"generated":{"line":1,"column":501}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"setter","original":{"line":32,"column":10},"generated":{"line":1,"column":504}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"GL_PARAMETER_SETTERS","original":{"line":32,"column":19},"generated":{"line":1,"column":506}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":32,"column":39},"generated":{"line":1,"column":508}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"key","original":{"line":32,"column":40},"generated":{"line":1,"column":529}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"setter","original":{"line":33,"column":8},"generated":{"line":1,"column":532}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":35,"column":28},"generated":{"line":1,"column":536}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"setter","original":{"line":35,"column":17},"generated":{"line":1,"column":553}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"compositeSetters","original":{"line":36,"column":8},"generated":{"line":1,"column":555}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"setter","original":{"line":36,"column":25},"generated":{"line":1,"column":557}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":36,"column":35},"generated":{"line":1,"column":561}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"setter","original":{"line":42,"column":8},"generated":{"line":1,"column":563}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":42,"column":15},"generated":{"line":1,"column":565}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"values","original":{"line":42,"column":19},"generated":{"line":1,"column":567}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"key","original":{"line":42,"column":26},"generated":{"line":1,"column":569}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"glConstant","original":{"line":42,"column":32},"generated":{"line":1,"column":572}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":54,"column":2},"generated":{"line":1,"column":576}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"cache","original":{"line":54,"column":8},"generated":{"line":1,"column":582}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":54,"column":16},"generated":{"line":1,"column":584}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"state","original":{"line":54,"column":19},"generated":{"line":1,"column":586}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":54,"column":28},"generated":{"line":1,"column":593}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"state","original":{"line":54,"column":31},"generated":{"line":1,"column":595}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"cache","original":{"line":54,"column":37},"generated":{"line":1,"column":601}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":55,"column":2},"generated":{"line":1,"column":607}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"cache","original":{"line":55,"column":6},"generated":{"line":1,"column":610}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":56,"column":4},"generated":{"line":1,"column":612}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":616}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"key","original":{"line":56,"column":15},"generated":{"line":1,"column":622}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"compositeSetters","original":{"line":56,"column":22},"generated":{"line":1,"column":627}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":56,"column":40},"generated":{"line":1,"column":629}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"compositeSetter","original":{"line":61,"column":6},"generated":{"line":1,"column":631}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"GL_COMPOSITE_PARAMETER_SETTERS","original":{"line":58,"column":30},"generated":{"line":1,"column":633}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":58,"column":60},"generated":{"line":1,"column":635}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"key","original":{"line":58,"column":61},"generated":{"line":1,"column":666}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":61,"column":22},"generated":{"line":1,"column":670}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"values","original":{"line":61,"column":26},"generated":{"line":1,"column":672}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"cache","original":{"line":61,"column":34},"generated":{"line":1,"column":674}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":74,"column":7},"generated":{"line":1,"column":678}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"getParameters","original":{"line":74,"column":16},"generated":{"line":1,"column":687}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":74,"column":30},"generated":{"line":1,"column":689}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"parameters","original":{"line":74,"column":34},"generated":{"line":1,"column":691}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":79,"column":2},"generated":{"line":1,"column":694}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":79,"column":28},"generated":{"line":1,"column":697}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"parameters","original":{"line":76,"column":2},"generated":{"line":1,"column":714}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"parameters","original":{"line":76,"column":15},"generated":{"line":1,"column":716}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"GL_PARAMETER_DEFAULTS","original":{"line":76,"column":29},"generated":{"line":1,"column":719}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":76,"column":2},"generated":{"line":1,"column":721}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":79,"column":38},"generated":{"line":1,"column":744}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":745}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"key","original":{"line":81,"column":10},"generated":{"line":1,"column":751}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"parameters","original":{"line":81,"column":16},"generated":{"line":1,"column":753}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"getter","original":{"line":82,"column":10},"generated":{"line":1,"column":755}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"GL_PARAMETER_GETTERS","original":{"line":82,"column":19},"generated":{"line":1,"column":757}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":82,"column":39},"generated":{"line":1,"column":759}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"key","original":{"line":82,"column":40},"generated":{"line":1,"column":780}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":83,"column":4},"generated":{"line":1,"column":783}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"getter","original":{"line":83,"column":11},"generated":{"line":1,"column":790}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"getter","original":{"line":83,"column":20},"generated":{"line":1,"column":792}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":83,"column":27},"generated":{"line":1,"column":794}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"key","original":{"line":83,"column":31},"generated":{"line":1,"column":796}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":83,"column":38},"generated":{"line":1,"column":799}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"getParameter","original":{"line":83,"column":41},"generated":{"line":1,"column":801}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"key","original":{"line":83,"column":54},"generated":{"line":1,"column":814}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":817}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"parameterKeys","original":{"line":86,"column":8},"generated":{"line":1,"column":823}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"Array","original":{"line":86,"column":24},"generated":{"line":1,"column":825}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"isArray","original":{"line":86,"column":30},"generated":{"line":1,"column":831}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"parameters","original":{"line":86,"column":38},"generated":{"line":1,"column":839}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"parameters","original":{"line":86,"column":52},"generated":{"line":1,"column":842}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"Object","original":{"line":86,"column":65},"generated":{"line":1,"column":844}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"keys","original":{"line":86,"column":72},"generated":{"line":1,"column":851}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"parameters","original":{"line":86,"column":77},"generated":{"line":1,"column":856}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"state","original":{"line":88,"column":8},"generated":{"line":1,"column":859}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":88,"column":16},"generated":{"line":1,"column":861}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":89,"column":2},"generated":{"line":1,"column":864}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":89,"column":7},"generated":{"line":1,"column":868}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"key","original":{"line":89,"column":13},"generated":{"line":1,"column":874}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"parameterKeys","original":{"line":89,"column":20},"generated":{"line":1,"column":879}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":89,"column":35},"generated":{"line":1,"column":881}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":90,"column":4},"generated":{"line":1,"column":882}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"getter","original":{"line":90,"column":10},"generated":{"line":1,"column":888}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"GL_PARAMETER_GETTERS","original":{"line":90,"column":19},"generated":{"line":1,"column":890}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":90,"column":39},"generated":{"line":1,"column":892}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"key","original":{"line":90,"column":40},"generated":{"line":1,"column":913}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"state","original":{"line":91,"column":4},"generated":{"line":1,"column":916}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"key","original":{"line":91,"column":10},"generated":{"line":1,"column":918}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"getter","original":{"line":91,"column":17},"generated":{"line":1,"column":921}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"getter","original":{"line":91,"column":26},"generated":{"line":1,"column":923}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":91,"column":33},"generated":{"line":1,"column":925}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"Number","original":{"line":91,"column":37},"generated":{"line":1,"column":927}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"key","original":{"line":91,"column":44},"generated":{"line":1,"column":934}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":91,"column":52},"generated":{"line":1,"column":938}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"getParameter","original":{"line":91,"column":55},"generated":{"line":1,"column":940}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"Number","original":{"line":91,"column":68},"generated":{"line":1,"column":953}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"key","original":{"line":91,"column":75},"generated":{"line":1,"column":960}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":93,"column":2},"generated":{"line":1,"column":964}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"state","original":{"line":93,"column":9},"generated":{"line":1,"column":971}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":100,"column":7},"generated":{"line":1,"column":973}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"resetParameters","original":{"line":100,"column":16},"generated":{"line":1,"column":982}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":100,"column":32},"generated":{"line":1,"column":984}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"setParameters","original":{"line":101,"column":2},"generated":{"line":1,"column":987}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":101,"column":16},"generated":{"line":1,"column":989}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"GL_PARAMETER_DEFAULTS","original":{"line":101,"column":20},"generated":{"line":1,"column":991}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":101,"column":15},"generated":{"line":1,"column":993}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":106,"column":7},"generated":{"line":1,"column":1016}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"withParameters","original":{"line":106,"column":16},"generated":{"line":1,"column":1025}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":106,"column":31},"generated":{"line":1,"column":1027}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"parameters","original":{"line":106,"column":35},"generated":{"line":1,"column":1029}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"func","original":{"line":106,"column":47},"generated":{"line":1,"column":1031}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":107,"column":2},"generated":{"line":1,"column":1034}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"isObjectEmpty","original":{"line":107,"column":6},"generated":{"line":1,"column":1038}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"isObjectEmpty","original":{"line":107,"column":6},"generated":{"line":1,"column":1040}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":107,"column":19},"generated":{"line":1,"column":1042}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"parameters","original":{"line":107,"column":20},"generated":{"line":1,"column":1057}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":109,"column":4},"generated":{"line":1,"column":1060}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"func","original":{"line":109,"column":11},"generated":{"line":1,"column":1067}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":109,"column":16},"generated":{"line":1,"column":1069}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":112,"column":2},"generated":{"line":1,"column":1072}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":112,"column":8},"generated":{"line":1,"column":1078}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"nocatch","original":{"line":112,"column":9},"generated":{"line":1,"column":1086}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":112,"column":19},"generated":{"line":1,"column":1089}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"parameters","original":{"line":112,"column":27},"generated":{"line":1,"column":1092}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":118,"column":2},"generated":{"line":1,"column":1094}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"value","original":{"line":118,"column":6},"generated":{"line":1,"column":1098}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":120,"column":2},"generated":{"line":1,"column":1100}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"pushContextState","original":{"line":114,"column":2},"generated":{"line":1,"column":1104}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"pushContextState","original":{"line":114,"column":2},"generated":{"line":1,"column":1106}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":114,"column":18},"generated":{"line":1,"column":1108}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":114,"column":19},"generated":{"line":1,"column":1126}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"setParameters","original":{"line":115,"column":2},"generated":{"line":1,"column":1129}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":115,"column":16},"generated":{"line":1,"column":1131}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"parameters","original":{"line":115,"column":20},"generated":{"line":1,"column":1133}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"nocatch","original":{"line":120,"column":6},"generated":{"line":1,"column":1136}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"value","original":{"line":122,"column":4},"generated":{"line":1,"column":1138}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"func","original":{"line":122,"column":12},"generated":{"line":1,"column":1140}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":122,"column":17},"generated":{"line":1,"column":1142}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"popContextState","original":{"line":123,"column":4},"generated":{"line":1,"column":1146}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"popContextState","original":{"line":123,"column":4},"generated":{"line":1,"column":1148}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":123,"column":19},"generated":{"line":1,"column":1150}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":123,"column":20},"generated":{"line":1,"column":1167}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":126,"column":4},"generated":{"line":1,"column":1175}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"value","original":{"line":127,"column":6},"generated":{"line":1,"column":1179}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"func","original":{"line":127,"column":14},"generated":{"line":1,"column":1181}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":127,"column":19},"generated":{"line":1,"column":1183}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":128,"column":14},"generated":{"line":1,"column":1186}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"popContextState","original":{"line":129,"column":6},"generated":{"line":1,"column":1195}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"popContextState","original":{"line":129,"column":6},"generated":{"line":1,"column":1197}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":129,"column":21},"generated":{"line":1,"column":1199}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"gl","original":{"line":129,"column":22},"generated":{"line":1,"column":1216}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":null,"original":{"line":133,"column":2},"generated":{"line":1,"column":1219}},{"source":"../../../src/state-tracker/unified-parameter-api.js","name":"value","original":{"line":133,"column":9},"generated":{"line":1,"column":1226}}],"sources":{"../../../src/state-tracker/unified-parameter-api.js":"// Provides a unified API for getting and setting any WebGL parameter\n// Also knows default values of all parameters, enabling fast cache initialization\n// Provides base functionality for the state caching.\nimport {\n  GL_PARAMETER_DEFAULTS,\n  GL_PARAMETER_SETTERS,\n  GL_COMPOSITE_PARAMETER_SETTERS,\n  GL_PARAMETER_GETTERS\n} from './webgl-parameter-tables';\n\nimport {pushContextState, popContextState} from './track-context-state';\nimport {assert} from '../utils/assert';\nimport {isWebGL} from '../utils/webgl-checks';\nimport {isObjectEmpty} from '../utils/utils';\n\n// Sets any GL parameter regardless of function (gl.blendMode, ...)\n// Note: requires a `cache` object to be set on the context (gl.state.cache)\n// This object is used to fill in any missing values for composite setter functions\nexport function setParameters(gl, values) {\n  assert(isWebGL(gl), 'setParameters requires a WebGL context');\n\n  if (isObjectEmpty(values)) {\n    return;\n  }\n\n  const compositeSetters = {};\n\n  // HANDLE PRIMITIVE SETTERS (and make note of any composite setters)\n\n  for (const key in values) {\n    const glConstant = Number(key);\n    const setter = GL_PARAMETER_SETTERS[key];\n    if (setter) {\n      // Composite setters should only be called once, so save them\n      if (typeof setter === 'string') {\n        compositeSetters[setter] = true;\n      } else {\n        // if (gl[glConstant] !== undefined) {\n        // TODO - added above check since this is being called on WebGL2 values in WebGL1...\n        // TODO - deep equal on values? only call setter if value has changed?\n        // NOTE - the setter will automatically update this.state\n        setter(gl, values[key], glConstant);\n      }\n    }\n  }\n\n  // HANDLE COMPOSITE SETTERS\n\n  // NOTE: any non-provided values needed by composite setters are filled in from state cache\n  // The cache parameter is automatically retrieved from the context\n  // This depends on `trackContextState`, which is technically a \"circular\" dependency.\n  // But it is too inconvenient to always require a cache parameter here.\n  // This is the ONLY external dependency in this module/\n  const cache = gl.state && gl.state.cache;\n  if (cache) {\n    for (const key in compositeSetters) {\n      // TODO - avoid calling composite setters if values have not changed.\n      const compositeSetter = GL_COMPOSITE_PARAMETER_SETTERS[key];\n      // Note - if `trackContextState` has been called,\n      // the setter will automatically update this.state.cache\n      compositeSetter(gl, values, cache);\n    }\n  }\n\n  // Add a log for the else case?\n}\n\n// Copies the state from a context (gl.getParameter should not be overriden)\n// Reads the entire WebGL state from a context\n// Caveat: This generates a huge amount of synchronous driver roundtrips and should be\n// considered a very slow operation, to be used only if/when a context already manipulated\n// by external code needs to be synchronized for the first time\n// @return {Object} - a newly created map, with values keyed by GL parameters\nexport function getParameters(gl, parameters) {\n  // default to querying all parameters\n  parameters = parameters || GL_PARAMETER_DEFAULTS;\n  // support both arrays of parameters and objects (keys represent parameters)\n\n  if (typeof parameters === 'number') {\n    // single GL enum\n    const key = parameters;\n    const getter = GL_PARAMETER_GETTERS[key];\n    return getter ? getter(gl, key) : gl.getParameter(key);\n  }\n\n  const parameterKeys = Array.isArray(parameters) ? parameters : Object.keys(parameters);\n\n  const state = {};\n  for (const key of parameterKeys) {\n    const getter = GL_PARAMETER_GETTERS[key];\n    state[key] = getter ? getter(gl, Number(key)) : gl.getParameter(Number(key));\n  }\n  return state;\n}\n\n// Reset all parameters to a (almost) pure context state\n// NOTE: viewport and scissor will be set to the values in GL_PARAMETER_DEFAULTS,\n//   NOT the canvas size dimensions, so they will have to be properly set after\n//   calling this function.\nexport function resetParameters(gl) {\n  setParameters(gl, GL_PARAMETER_DEFAULTS);\n}\n\n// Stores current \"global\" WebGL context settings, changes selected parameters,\n// executes function, restores parameters\nexport function withParameters(gl, parameters, func) {\n  if (isObjectEmpty(parameters)) {\n    // Avoid setting state if no parameters provided. Just call and return\n    return func(gl);\n  }\n\n  const {nocatch = true} = parameters;\n\n  pushContextState(gl);\n  setParameters(gl, parameters);\n\n  // Setup is done, call the function\n  let value;\n\n  if (nocatch) {\n    // Avoid try catch to minimize stack size impact for safe execution paths\n    value = func(gl);\n    popContextState(gl);\n  } else {\n    // Wrap in a try-catch to ensure that parameters are restored on exceptions\n    try {\n      value = func(gl);\n    } finally {\n      popContextState(gl);\n    }\n  }\n\n  return value;\n}\n"},"lineCount":null}},"error":null,"hash":"b76eb7321153e79b1113794bd71e56b0","cacheData":{"env":{}}}