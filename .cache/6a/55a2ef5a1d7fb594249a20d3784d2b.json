{"id":"xsAN","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/iterators/make-iterator/make-array-buffer-iterator.js.map","includedInParent":true,"mtime":1688284130527},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/package.json","includedInParent":true,"mtime":1688284130527}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.makeArrayBufferIterator=t;const e=262144;function t(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){const{chunkSize:n=e}=r;let o=0;for(;o<t.byteLength;){const e=Math.min(t.byteLength-o,n),r=new ArrayBuffer(e),i=new Uint8Array(t,o,e);new Uint8Array(r).set(i),o+=e,yield r}}()}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":100}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":102}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"DEFAULT_CHUNK_SIZE","original":{"line":3,"column":6},"generated":{"line":1,"column":108}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":3,"column":27},"generated":{"line":1,"column":110}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":11,"column":7},"generated":{"line":1,"column":117}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"makeArrayBufferIterator","original":{"line":11,"column":17},"generated":{"line":1,"column":126}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"arrayBuffer","original":{"line":12,"column":2},"generated":{"line":1,"column":128}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":12,"column":26},"generated":{"line":1,"column":131}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"options","original":{"line":13,"column":2},"generated":{"line":1,"column":135}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"arguments","original":{"line":13,"column":26},"generated":{"line":1,"column":137}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"length","original":{"line":13,"column":26},"generated":{"line":1,"column":147}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":13,"column":26},"generated":{"line":1,"column":154}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"undefined","original":{"line":13,"column":26},"generated":{"line":1,"column":162}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"arguments","original":{"line":13,"column":26},"generated":{"line":1,"column":166}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":13,"column":26},"generated":{"line":1,"column":176}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"arguments","original":{"line":13,"column":26},"generated":{"line":1,"column":179}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":13,"column":26},"generated":{"line":1,"column":189}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":13,"column":29},"generated":{"line":1,"column":192}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":1,"column":195}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":1,"column":202}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":214}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":15,"column":8},"generated":{"line":1,"column":220}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"chunkSize","original":{"line":15,"column":9},"generated":{"line":1,"column":230}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"DEFAULT_CHUNK_SIZE","original":{"line":15,"column":21},"generated":{"line":1,"column":232}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"options","original":{"line":15,"column":43},"generated":{"line":1,"column":235}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":237}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"byteOffset","original":{"line":17,"column":6},"generated":{"line":1,"column":241}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":17,"column":19},"generated":{"line":1,"column":243}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":245}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"byteOffset","original":{"line":19,"column":9},"generated":{"line":1,"column":250}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"arrayBuffer","original":{"line":19,"column":22},"generated":{"line":1,"column":252}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"byteLength","original":{"line":19,"column":34},"generated":{"line":1,"column":254}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":19,"column":46},"generated":{"line":1,"column":266}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":1,"column":267}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"chunkByteLength","original":{"line":21,"column":10},"generated":{"line":1,"column":273}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"Math","original":{"line":21,"column":28},"generated":{"line":1,"column":275}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"min","original":{"line":21,"column":33},"generated":{"line":1,"column":280}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"arrayBuffer","original":{"line":21,"column":37},"generated":{"line":1,"column":284}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"byteLength","original":{"line":21,"column":49},"generated":{"line":1,"column":286}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"byteOffset","original":{"line":21,"column":62},"generated":{"line":1,"column":297}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"chunkSize","original":{"line":21,"column":74},"generated":{"line":1,"column":299}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"chunk","original":{"line":22,"column":10},"generated":{"line":1,"column":302}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":22,"column":18},"generated":{"line":1,"column":304}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"ArrayBuffer","original":{"line":22,"column":22},"generated":{"line":1,"column":308}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"chunkByteLength","original":{"line":22,"column":34},"generated":{"line":1,"column":320}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"sourceArray","original":{"line":25,"column":10},"generated":{"line":1,"column":323}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":25,"column":24},"generated":{"line":1,"column":325}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"Uint8Array","original":{"line":25,"column":28},"generated":{"line":1,"column":329}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"arrayBuffer","original":{"line":25,"column":39},"generated":{"line":1,"column":340}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"byteOffset","original":{"line":25,"column":52},"generated":{"line":1,"column":342}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"chunkByteLength","original":{"line":25,"column":64},"generated":{"line":1,"column":344}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":26,"column":23},"generated":{"line":1,"column":347}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"Uint8Array","original":{"line":26,"column":27},"generated":{"line":1,"column":351}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"chunk","original":{"line":26,"column":38},"generated":{"line":1,"column":362}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"set","original":{"line":27,"column":15},"generated":{"line":1,"column":365}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"sourceArray","original":{"line":27,"column":19},"generated":{"line":1,"column":369}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"byteOffset","original":{"line":30,"column":4},"generated":{"line":1,"column":372}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"chunkByteLength","original":{"line":30,"column":18},"generated":{"line":1,"column":375}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":"chunk","original":{"line":31,"column":10},"generated":{"line":1,"column":383}},{"source":"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":1,"column":386}}],"sources":{"../../../../src/iterators/make-iterator/make-array-buffer-iterator.ts":"import type {IteratorOptions} from './make-iterator';\n\nconst DEFAULT_CHUNK_SIZE = 256 * 1024;\n\n/**\n * Returns an iterator that breaks a big ArrayBuffer into chunks and yields them one-by-one\n * @param blob ArrayBuffer to iterate over\n * @param options\n * @param options.chunkSize\n */\nexport function* makeArrayBufferIterator(\n  arrayBuffer: ArrayBuffer,\n  options: IteratorOptions = {}\n): Iterable<ArrayBuffer> {\n  const {chunkSize = DEFAULT_CHUNK_SIZE} = options;\n\n  let byteOffset = 0;\n\n  while (byteOffset < arrayBuffer.byteLength) {\n    // Create a chunk of the right size\n    const chunkByteLength = Math.min(arrayBuffer.byteLength - byteOffset, chunkSize);\n    const chunk = new ArrayBuffer(chunkByteLength);\n\n    // Copy data from the big chunk\n    const sourceArray = new Uint8Array(arrayBuffer, byteOffset, chunkByteLength);\n    const chunkArray = new Uint8Array(chunk);\n    chunkArray.set(sourceArray);\n\n    // yield the chunk\n    byteOffset += chunkByteLength;\n    yield chunk;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"8ca7bcaa6d6023c277fdf89f54f6774e","cacheData":{"env":{}}}