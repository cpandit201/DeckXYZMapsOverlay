{"id":"t8Kj","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/parse.js.map","includedInParent":true,"mtime":1688284130527},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/package.json","includedInParent":true,"mtime":1688284130527},{"name":"@loaders.gl/worker-utils","loc":{"line":1,"column":46,"index":46},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/parse.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/worker-utils/dist/esm/index.js"},{"name":"@loaders.gl/loader-utils","loc":{"line":2,"column":52,"index":126},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/parse.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/loader-utils/dist/esm/index.js"},{"name":"../loader-utils/normalize-loader","loc":{"line":3,"column":31,"index":185},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/parse.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/normalize-loader.js"},{"name":"../../javascript-utils/is-type","loc":{"line":4,"column":27,"index":248},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/parse.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/javascript-utils/is-type.js"},{"name":"../loader-utils/option-utils","loc":{"line":5,"column":33,"index":315},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/parse.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/option-utils.js"},{"name":"../loader-utils/get-data","loc":{"line":6,"column":47,"index":394},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/parse.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/get-data.js"},{"name":"../loader-utils/loader-context","loc":{"line":7,"column":56,"index":478},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/parse.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/loader-context.js"},{"name":"../utils/resource-utils","loc":{"line":8,"column":31,"index":543},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/parse.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/utils/resource-utils.js"},{"name":"./select-loader","loc":{"line":9,"column":29,"index":599},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/parse.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/select-loader.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.parse=n;var e=require(\"@loaders.gl/worker-utils\"),r=require(\"@loaders.gl/loader-utils\"),t=require(\"../loader-utils/normalize-loader\"),a=require(\"../../javascript-utils/is-type\"),s=require(\"../loader-utils/option-utils\"),i=require(\"../loader-utils/get-data\"),o=require(\"../loader-utils/loader-context\"),u=require(\"../utils/resource-utils\"),l=require(\"./select-loader\");async function n(r,a,i,p){(0,e.assert)(!p||\"object\"==typeof p),!a||Array.isArray(a)||(0,t.isLoaderObject)(a)||(p=void 0,i=a,a=void 0),r=await r,i=i||{};const c=(0,u.getResourceUrl)(r),y=a,f=(0,o.getLoadersFromContext)(y,p),x=await(0,l.selectLoader)(r,f,i);return x?(i=(0,s.normalizeOptions)(i,x,f,c),p=(0,o.getLoaderContext)({url:c,parse:n,loaders:f},i,p||null),await d(x,r,i,p)):null}async function d(t,s,o,u){if((0,e.validateWorkerVersion)(t),(0,a.isResponse)(s)){const e=s,{ok:r,redirected:t,status:a,statusText:i,type:o,url:l}=e,n=Object.fromEntries(e.headers.entries());u.response={headers:n,ok:r,redirected:t,status:a,statusText:i,type:o,url:l}}if(s=await(0,i.getArrayBufferOrStringFromData)(s,t,o),t.parseTextSync&&\"string\"==typeof s)return o.dataType=\"text\",t.parseTextSync(s,o,u,t);if((0,r.canParseWithWorker)(t,o))return await(0,r.parseWithWorker)(t,s,o,u,n);if(t.parseText&&\"string\"==typeof s)return await t.parseText(s,o,u,t);if(t.parse)return await t.parse(s,o,u,t);throw(0,e.assert)(!t.parseSync),new Error(\"\".concat(t.id,\" loader - no parser found and worker is disabled\"))}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":101,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":101,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":101,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":101,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":101,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":101,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":101,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":101,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":101,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":101,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":101,"column":0},"generated":{"line":1,"column":82}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":84}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":88}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":90}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":98}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":126}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":128}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":136}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":164}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":166}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":174}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":210}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":212}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":220}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":254}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":256}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":264}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":296}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":298}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":306}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":334}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":336}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":344}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":378}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":380}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":388}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":415}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":417}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":425}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":19,"column":7},"generated":{"line":1,"column":444}},{"source":"../../../../src/lib/api/parse.ts","name":"parse","original":{"line":19,"column":22},"generated":{"line":1,"column":459}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":20,"column":2},"generated":{"line":1,"column":461}},{"source":"../../../../src/lib/api/parse.ts","name":"loaders","original":{"line":21,"column":2},"generated":{"line":1,"column":463}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":22,"column":2},"generated":{"line":1,"column":465}},{"source":"../../../../src/lib/api/parse.ts","name":"context","original":{"line":23,"column":2},"generated":{"line":1,"column":467}},{"source":"../../../../src/lib/api/parse.ts","name":"assert","original":{"line":25,"column":2},"generated":{"line":1,"column":471}},{"source":"../../../../src/lib/api/parse.ts","name":"assert","original":{"line":25,"column":2},"generated":{"line":1,"column":473}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":475}},{"source":"../../../../src/lib/api/parse.ts","name":"context","original":{"line":25,"column":10},"generated":{"line":1,"column":484}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":25,"column":40},"generated":{"line":1,"column":487}},{"source":"../../../../src/lib/api/parse.ts","name":"context","original":{"line":25,"column":28},"generated":{"line":1,"column":504}},{"source":"../../../../src/lib/api/parse.ts","name":"loaders","original":{"line":29,"column":6},"generated":{"line":1,"column":508}},{"source":"../../../../src/lib/api/parse.ts","name":"Array","original":{"line":29,"column":18},"generated":{"line":1,"column":511}},{"source":"../../../../src/lib/api/parse.ts","name":"isArray","original":{"line":29,"column":24},"generated":{"line":1,"column":517}},{"source":"../../../../src/lib/api/parse.ts","name":"loaders","original":{"line":29,"column":32},"generated":{"line":1,"column":525}},{"source":"../../../../src/lib/api/parse.ts","name":"isLoaderObject","original":{"line":29,"column":45},"generated":{"line":1,"column":530}},{"source":"../../../../src/lib/api/parse.ts","name":"isLoaderObject","original":{"line":29,"column":45},"generated":{"line":1,"column":532}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":29,"column":59},"generated":{"line":1,"column":534}},{"source":"../../../../src/lib/api/parse.ts","name":"loaders","original":{"line":29,"column":60},"generated":{"line":1,"column":550}},{"source":"../../../../src/lib/api/parse.ts","name":"context","original":{"line":30,"column":4},"generated":{"line":1,"column":555}},{"source":"../../../../src/lib/api/parse.ts","name":"undefined","original":{"line":30,"column":14},"generated":{"line":1,"column":562}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":31,"column":4},"generated":{"line":1,"column":564}},{"source":"../../../../src/lib/api/parse.ts","name":"loaders","original":{"line":31,"column":14},"generated":{"line":1,"column":566}},{"source":"../../../../src/lib/api/parse.ts","name":"loaders","original":{"line":32,"column":4},"generated":{"line":1,"column":568}},{"source":"../../../../src/lib/api/parse.ts","name":"undefined","original":{"line":32,"column":14},"generated":{"line":1,"column":575}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":35,"column":2},"generated":{"line":1,"column":578}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":35,"column":15},"generated":{"line":1,"column":586}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":36,"column":2},"generated":{"line":1,"column":588}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":36,"column":12},"generated":{"line":1,"column":590}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":36,"column":23},"generated":{"line":1,"column":593}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":596}},{"source":"../../../../src/lib/api/parse.ts","name":"url","original":{"line":39,"column":8},"generated":{"line":1,"column":602}},{"source":"../../../../src/lib/api/parse.ts","name":"getResourceUrl","original":{"line":39,"column":14},"generated":{"line":1,"column":605}},{"source":"../../../../src/lib/api/parse.ts","name":"getResourceUrl","original":{"line":39,"column":14},"generated":{"line":1,"column":607}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":39,"column":28},"generated":{"line":1,"column":609}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":39,"column":29},"generated":{"line":1,"column":625}},{"source":"../../../../src/lib/api/parse.ts","name":"typedLoaders","original":{"line":43,"column":8},"generated":{"line":1,"column":628}},{"source":"../../../../src/lib/api/parse.ts","name":"loaders","original":{"line":43,"column":23},"generated":{"line":1,"column":630}},{"source":"../../../../src/lib/api/parse.ts","name":"candidateLoaders","original":{"line":44,"column":8},"generated":{"line":1,"column":632}},{"source":"../../../../src/lib/api/parse.ts","name":"getLoadersFromContext","original":{"line":44,"column":27},"generated":{"line":1,"column":635}},{"source":"../../../../src/lib/api/parse.ts","name":"getLoadersFromContext","original":{"line":44,"column":27},"generated":{"line":1,"column":637}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":44,"column":48},"generated":{"line":1,"column":639}},{"source":"../../../../src/lib/api/parse.ts","name":"typedLoaders","original":{"line":44,"column":49},"generated":{"line":1,"column":662}},{"source":"../../../../src/lib/api/parse.ts","name":"context","original":{"line":44,"column":63},"generated":{"line":1,"column":664}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":46,"column":8},"generated":{"line":1,"column":667}},{"source":"../../../../src/lib/api/parse.ts","name":"selectLoader","original":{"line":46,"column":23},"generated":{"line":1,"column":675}},{"source":"../../../../src/lib/api/parse.ts","name":"selectLoader","original":{"line":46,"column":23},"generated":{"line":1,"column":677}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":46,"column":35},"generated":{"line":1,"column":679}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":46,"column":36},"generated":{"line":1,"column":693}},{"source":"../../../../src/lib/api/parse.ts","name":"candidateLoaders","original":{"line":46,"column":57},"generated":{"line":1,"column":695}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":46,"column":75},"generated":{"line":1,"column":697}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":48,"column":2},"generated":{"line":1,"column":700}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":48,"column":7},"generated":{"line":1,"column":707}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":53,"column":2},"generated":{"line":1,"column":710}},{"source":"../../../../src/lib/api/parse.ts","name":"normalizeOptions","original":{"line":53,"column":12},"generated":{"line":1,"column":713}},{"source":"../../../../src/lib/api/parse.ts","name":"normalizeOptions","original":{"line":53,"column":12},"generated":{"line":1,"column":715}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":53,"column":28},"generated":{"line":1,"column":717}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":53,"column":29},"generated":{"line":1,"column":735}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":53,"column":38},"generated":{"line":1,"column":737}},{"source":"../../../../src/lib/api/parse.ts","name":"candidateLoaders","original":{"line":53,"column":46},"generated":{"line":1,"column":739}},{"source":"../../../../src/lib/api/parse.ts","name":"url","original":{"line":53,"column":64},"generated":{"line":1,"column":741}},{"source":"../../../../src/lib/api/parse.ts","name":"context","original":{"line":56,"column":2},"generated":{"line":1,"column":744}},{"source":"../../../../src/lib/api/parse.ts","name":"getLoaderContext","original":{"line":56,"column":12},"generated":{"line":1,"column":747}},{"source":"../../../../src/lib/api/parse.ts","name":"getLoaderContext","original":{"line":56,"column":12},"generated":{"line":1,"column":749}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":56,"column":28},"generated":{"line":1,"column":751}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":56,"column":29},"generated":{"line":1,"column":769}},{"source":"../../../../src/lib/api/parse.ts","name":"url","original":{"line":56,"column":30},"generated":{"line":1,"column":770}},{"source":"../../../../src/lib/api/parse.ts","name":"url","original":{"line":56,"column":30},"generated":{"line":1,"column":774}},{"source":"../../../../src/lib/api/parse.ts","name":"parse","original":{"line":56,"column":35},"generated":{"line":1,"column":776}},{"source":"../../../../src/lib/api/parse.ts","name":"parse","original":{"line":56,"column":35},"generated":{"line":1,"column":782}},{"source":"../../../../src/lib/api/parse.ts","name":"loaders","original":{"line":56,"column":42},"generated":{"line":1,"column":784}},{"source":"../../../../src/lib/api/parse.ts","name":"candidateLoaders","original":{"line":56,"column":51},"generated":{"line":1,"column":792}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":56,"column":70},"generated":{"line":1,"column":795}},{"source":"../../../../src/lib/api/parse.ts","name":"context","original":{"line":56,"column":79},"generated":{"line":1,"column":797}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":56,"column":90},"generated":{"line":1,"column":800}},{"source":"../../../../src/lib/api/parse.ts","name":"parseWithLoader","original":{"line":58,"column":15},"generated":{"line":1,"column":812}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":58,"column":31},"generated":{"line":1,"column":814}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":58,"column":39},"generated":{"line":1,"column":816}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":58,"column":45},"generated":{"line":1,"column":818}},{"source":"../../../../src/lib/api/parse.ts","name":"context","original":{"line":58,"column":54},"generated":{"line":1,"column":820}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":49,"column":11},"generated":{"line":1,"column":824}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":1,"column":829}},{"source":"../../../../src/lib/api/parse.ts","name":"parseWithLoader","original":{"line":63,"column":15},"generated":{"line":1,"column":844}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":63,"column":31},"generated":{"line":1,"column":846}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":63,"column":39},"generated":{"line":1,"column":848}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":63,"column":45},"generated":{"line":1,"column":850}},{"source":"../../../../src/lib/api/parse.ts","name":"context","original":{"line":63,"column":54},"generated":{"line":1,"column":852}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":1,"column":855}},{"source":"../../../../src/lib/api/parse.ts","name":"validateWorkerVersion","original":{"line":64,"column":2},"generated":{"line":1,"column":859}},{"source":"../../../../src/lib/api/parse.ts","name":"validateWorkerVersion","original":{"line":64,"column":2},"generated":{"line":1,"column":861}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":64,"column":23},"generated":{"line":1,"column":863}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":64,"column":24},"generated":{"line":1,"column":886}},{"source":"../../../../src/lib/api/parse.ts","name":"isResponse","original":{"line":66,"column":6},"generated":{"line":1,"column":890}},{"source":"../../../../src/lib/api/parse.ts","name":"isResponse","original":{"line":66,"column":6},"generated":{"line":1,"column":892}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":66,"column":16},"generated":{"line":1,"column":894}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":66,"column":17},"generated":{"line":1,"column":906}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":66,"column":24},"generated":{"line":1,"column":909}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":1,"column":910}},{"source":"../../../../src/lib/api/parse.ts","name":"response","original":{"line":68,"column":10},"generated":{"line":1,"column":916}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":68,"column":21},"generated":{"line":1,"column":918}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":69,"column":10},"generated":{"line":1,"column":921}},{"source":"../../../../src/lib/api/parse.ts","name":"ok","original":{"line":69,"column":11},"generated":{"line":1,"column":924}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":69,"column":13},"generated":{"line":1,"column":926}},{"source":"../../../../src/lib/api/parse.ts","name":"redirected","original":{"line":69,"column":15},"generated":{"line":1,"column":937}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":69,"column":25},"generated":{"line":1,"column":939}},{"source":"../../../../src/lib/api/parse.ts","name":"status","original":{"line":69,"column":27},"generated":{"line":1,"column":946}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":69,"column":33},"generated":{"line":1,"column":948}},{"source":"../../../../src/lib/api/parse.ts","name":"statusText","original":{"line":69,"column":35},"generated":{"line":1,"column":959}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":69,"column":45},"generated":{"line":1,"column":961}},{"source":"../../../../src/lib/api/parse.ts","name":"type","original":{"line":69,"column":47},"generated":{"line":1,"column":966}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":69,"column":51},"generated":{"line":1,"column":968}},{"source":"../../../../src/lib/api/parse.ts","name":"url","original":{"line":69,"column":53},"generated":{"line":1,"column":972}},{"source":"../../../../src/lib/api/parse.ts","name":"response","original":{"line":69,"column":60},"generated":{"line":1,"column":975}},{"source":"../../../../src/lib/api/parse.ts","name":"headers","original":{"line":70,"column":10},"generated":{"line":1,"column":977}},{"source":"../../../../src/lib/api/parse.ts","name":"Object","original":{"line":70,"column":20},"generated":{"line":1,"column":979}},{"source":"../../../../src/lib/api/parse.ts","name":"fromEntries","original":{"line":70,"column":27},"generated":{"line":1,"column":986}},{"source":"../../../../src/lib/api/parse.ts","name":"response","original":{"line":70,"column":39},"generated":{"line":1,"column":998}},{"source":"../../../../src/lib/api/parse.ts","name":"headers","original":{"line":70,"column":48},"generated":{"line":1,"column":1000}},{"source":"../../../../src/lib/api/parse.ts","name":"entries","original":{"line":70,"column":56},"generated":{"line":1,"column":1008}},{"source":"../../../../src/lib/api/parse.ts","name":"context","original":{"line":71,"column":4},"generated":{"line":1,"column":1019}},{"source":"../../../../src/lib/api/parse.ts","name":"response","original":{"line":71,"column":12},"generated":{"line":1,"column":1021}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":71,"column":23},"generated":{"line":1,"column":1030}},{"source":"../../../../src/lib/api/parse.ts","name":"headers","original":{"line":71,"column":24},"generated":{"line":1,"column":1031}},{"source":"../../../../src/lib/api/parse.ts","name":"headers","original":{"line":71,"column":24},"generated":{"line":1,"column":1039}},{"source":"../../../../src/lib/api/parse.ts","name":"ok","original":{"line":71,"column":33},"generated":{"line":1,"column":1041}},{"source":"../../../../src/lib/api/parse.ts","name":"ok","original":{"line":71,"column":33},"generated":{"line":1,"column":1044}},{"source":"../../../../src/lib/api/parse.ts","name":"redirected","original":{"line":71,"column":37},"generated":{"line":1,"column":1046}},{"source":"../../../../src/lib/api/parse.ts","name":"redirected","original":{"line":71,"column":37},"generated":{"line":1,"column":1057}},{"source":"../../../../src/lib/api/parse.ts","name":"status","original":{"line":71,"column":49},"generated":{"line":1,"column":1059}},{"source":"../../../../src/lib/api/parse.ts","name":"status","original":{"line":71,"column":49},"generated":{"line":1,"column":1066}},{"source":"../../../../src/lib/api/parse.ts","name":"statusText","original":{"line":71,"column":57},"generated":{"line":1,"column":1068}},{"source":"../../../../src/lib/api/parse.ts","name":"statusText","original":{"line":71,"column":57},"generated":{"line":1,"column":1079}},{"source":"../../../../src/lib/api/parse.ts","name":"type","original":{"line":71,"column":69},"generated":{"line":1,"column":1081}},{"source":"../../../../src/lib/api/parse.ts","name":"type","original":{"line":71,"column":69},"generated":{"line":1,"column":1086}},{"source":"../../../../src/lib/api/parse.ts","name":"url","original":{"line":71,"column":75},"generated":{"line":1,"column":1088}},{"source":"../../../../src/lib/api/parse.ts","name":"url","original":{"line":71,"column":75},"generated":{"line":1,"column":1092}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":77,"column":2},"generated":{"line":1,"column":1095}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":74,"column":2},"generated":{"line":1,"column":1098}},{"source":"../../../../src/lib/api/parse.ts","name":"getArrayBufferOrStringFromData","original":{"line":74,"column":15},"generated":{"line":1,"column":1106}},{"source":"../../../../src/lib/api/parse.ts","name":"getArrayBufferOrStringFromData","original":{"line":74,"column":15},"generated":{"line":1,"column":1108}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":74,"column":45},"generated":{"line":1,"column":1110}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":74,"column":46},"generated":{"line":1,"column":1142}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":74,"column":52},"generated":{"line":1,"column":1144}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":74,"column":60},"generated":{"line":1,"column":1146}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":77,"column":6},"generated":{"line":1,"column":1149}},{"source":"../../../../src/lib/api/parse.ts","name":"parseTextSync","original":{"line":77,"column":13},"generated":{"line":1,"column":1151}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":77,"column":46},"generated":{"line":1,"column":1166}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":77,"column":37},"generated":{"line":1,"column":1183}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":79,"column":4},"generated":{"line":1,"column":1185}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":78,"column":4},"generated":{"line":1,"column":1192}},{"source":"../../../../src/lib/api/parse.ts","name":"dataType","original":{"line":78,"column":12},"generated":{"line":1,"column":1194}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":78,"column":23},"generated":{"line":1,"column":1203}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":79,"column":11},"generated":{"line":1,"column":1210}},{"source":"../../../../src/lib/api/parse.ts","name":"parseTextSync","original":{"line":79,"column":18},"generated":{"line":1,"column":1212}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":79,"column":32},"generated":{"line":1,"column":1226}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":79,"column":38},"generated":{"line":1,"column":1228}},{"source":"../../../../src/lib/api/parse.ts","name":"context","original":{"line":79,"column":47},"generated":{"line":1,"column":1230}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":79,"column":56},"generated":{"line":1,"column":1232}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":83,"column":2},"generated":{"line":1,"column":1235}},{"source":"../../../../src/lib/api/parse.ts","name":"canParseWithWorker","original":{"line":83,"column":6},"generated":{"line":1,"column":1239}},{"source":"../../../../src/lib/api/parse.ts","name":"canParseWithWorker","original":{"line":83,"column":6},"generated":{"line":1,"column":1241}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":83,"column":24},"generated":{"line":1,"column":1243}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":83,"column":25},"generated":{"line":1,"column":1263}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":83,"column":33},"generated":{"line":1,"column":1265}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":84,"column":4},"generated":{"line":1,"column":1268}},{"source":"../../../../src/lib/api/parse.ts","name":"parseWithWorker","original":{"line":84,"column":17},"generated":{"line":1,"column":1281}},{"source":"../../../../src/lib/api/parse.ts","name":"parseWithWorker","original":{"line":84,"column":17},"generated":{"line":1,"column":1283}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":84,"column":32},"generated":{"line":1,"column":1285}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":84,"column":33},"generated":{"line":1,"column":1302}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":84,"column":41},"generated":{"line":1,"column":1304}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":84,"column":47},"generated":{"line":1,"column":1306}},{"source":"../../../../src/lib/api/parse.ts","name":"context","original":{"line":84,"column":56},"generated":{"line":1,"column":1308}},{"source":"../../../../src/lib/api/parse.ts","name":"parse","original":{"line":84,"column":65},"generated":{"line":1,"column":1310}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":88,"column":2},"generated":{"line":1,"column":1313}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":88,"column":6},"generated":{"line":1,"column":1316}},{"source":"../../../../src/lib/api/parse.ts","name":"parseText","original":{"line":88,"column":13},"generated":{"line":1,"column":1318}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":88,"column":42},"generated":{"line":1,"column":1329}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":88,"column":33},"generated":{"line":1,"column":1346}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":89,"column":4},"generated":{"line":1,"column":1348}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":89,"column":17},"generated":{"line":1,"column":1361}},{"source":"../../../../src/lib/api/parse.ts","name":"parseText","original":{"line":89,"column":24},"generated":{"line":1,"column":1363}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":89,"column":34},"generated":{"line":1,"column":1373}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":89,"column":40},"generated":{"line":1,"column":1375}},{"source":"../../../../src/lib/api/parse.ts","name":"context","original":{"line":89,"column":49},"generated":{"line":1,"column":1377}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":89,"column":58},"generated":{"line":1,"column":1379}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":1382}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":92,"column":6},"generated":{"line":1,"column":1385}},{"source":"../../../../src/lib/api/parse.ts","name":"parse","original":{"line":92,"column":13},"generated":{"line":1,"column":1387}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":93,"column":4},"generated":{"line":1,"column":1393}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":93,"column":17},"generated":{"line":1,"column":1406}},{"source":"../../../../src/lib/api/parse.ts","name":"parse","original":{"line":93,"column":24},"generated":{"line":1,"column":1408}},{"source":"../../../../src/lib/api/parse.ts","name":"data","original":{"line":93,"column":30},"generated":{"line":1,"column":1414}},{"source":"../../../../src/lib/api/parse.ts","name":"options","original":{"line":93,"column":36},"generated":{"line":1,"column":1416}},{"source":"../../../../src/lib/api/parse.ts","name":"context","original":{"line":93,"column":45},"generated":{"line":1,"column":1418}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":93,"column":54},"generated":{"line":1,"column":1420}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":100,"column":2},"generated":{"line":1,"column":1423}},{"source":"../../../../src/lib/api/parse.ts","name":"assert","original":{"line":97,"column":2},"generated":{"line":1,"column":1429}},{"source":"../../../../src/lib/api/parse.ts","name":"assert","original":{"line":97,"column":2},"generated":{"line":1,"column":1431}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":97,"column":8},"generated":{"line":1,"column":1433}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":97,"column":10},"generated":{"line":1,"column":1442}},{"source":"../../../../src/lib/api/parse.ts","name":"parseSync","original":{"line":97,"column":17},"generated":{"line":1,"column":1444}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":100,"column":8},"generated":{"line":1,"column":1455}},{"source":"../../../../src/lib/api/parse.ts","name":"Error","original":{"line":100,"column":12},"generated":{"line":1,"column":1459}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":100,"column":17},"generated":{"line":1,"column":1465}},{"source":"../../../../src/lib/api/parse.ts","name":"concat","original":{"line":100,"column":17},"generated":{"line":1,"column":1468}},{"source":"../../../../src/lib/api/parse.ts","name":"loader","original":{"line":100,"column":21},"generated":{"line":1,"column":1475}},{"source":"../../../../src/lib/api/parse.ts","name":"id","original":{"line":100,"column":28},"generated":{"line":1,"column":1477}},{"source":"../../../../src/lib/api/parse.ts","name":null,"original":{"line":100,"column":30},"generated":{"line":1,"column":1480}}],"sources":{"../../../../src/lib/api/parse.ts":"import type {DataType, Loader, LoaderContext, LoaderOptions} from '@loaders.gl/loader-utils';\nimport {assert, validateWorkerVersion} from '@loaders.gl/worker-utils';\nimport {parseWithWorker, canParseWithWorker} from '@loaders.gl/loader-utils';\nimport {isLoaderObject} from '../loader-utils/normalize-loader';\nimport {isResponse} from '../../javascript-utils/is-type';\nimport {normalizeOptions} from '../loader-utils/option-utils';\nimport {getArrayBufferOrStringFromData} from '../loader-utils/get-data';\nimport {getLoaderContext, getLoadersFromContext} from '../loader-utils/loader-context';\nimport {getResourceUrl} from '../utils/resource-utils';\nimport {selectLoader} from './select-loader';\n\n/**\n * Parses `data` using a specified loader\n * @param data\n * @param loaders\n * @param options\n * @param context\n */\nexport async function parse(\n  data: DataType | Promise<DataType>,\n  loaders?: Loader | Loader[] | LoaderOptions,\n  options?: LoaderOptions,\n  context?: LoaderContext\n): Promise<any> {\n  assert(!context || typeof context === 'object'); // parse no longer accepts final url\n\n  // Signature: parse(data, options, context | url)\n  // Uses registered loaders\n  if (loaders && !Array.isArray(loaders) && !isLoaderObject(loaders)) {\n    context = undefined; // context not supported in short signature\n    options = loaders as LoaderOptions;\n    loaders = undefined;\n  }\n\n  data = await data; // Resolve any promise\n  options = options || {};\n\n  // Extract a url for auto detection\n  const url = getResourceUrl(data);\n\n  // Chooses a loader (and normalizes it)\n  // Also use any loaders in the context, new loaders take priority\n  const typedLoaders = loaders as Loader | Loader[] | undefined;\n  const candidateLoaders = getLoadersFromContext(typedLoaders, context);\n  // todo hacky type cast\n  const loader = await selectLoader(data as ArrayBuffer, candidateLoaders, options);\n  // Note: if no loader was found, if so just return null\n  if (!loader) {\n    return null;\n  }\n\n  // Normalize options\n  options = normalizeOptions(options, loader, candidateLoaders, url);\n\n  // Get a context (if already present, will be unchanged)\n  context = getLoaderContext({url, parse, loaders: candidateLoaders}, options, context || null);\n\n  return await parseWithLoader(loader, data, options, context);\n}\n\n// TODO: support progress and abort\n// TODO - should accept loader.parseAsyncIterator and concatenate.\nasync function parseWithLoader(loader, data, options, context) {\n  validateWorkerVersion(loader);\n\n  if (isResponse(data)) {\n    // Serialize to support passing the response to web worker\n    const response = data as Response;\n    const {ok, redirected, status, statusText, type, url} = response;\n    const headers = Object.fromEntries(response.headers.entries());\n    context.response = {headers, ok, redirected, status, statusText, type, url};\n  }\n\n  data = await getArrayBufferOrStringFromData(data, loader, options);\n\n  // First check for synchronous text parser, wrap results in promises\n  if (loader.parseTextSync && typeof data === 'string') {\n    options.dataType = 'text';\n    return loader.parseTextSync(data, options, context, loader);\n  }\n\n  // If we have a workerUrl and the loader can parse the given options efficiently in a worker\n  if (canParseWithWorker(loader, options)) {\n    return await parseWithWorker(loader, data, options, context, parse);\n  }\n\n  // Check for asynchronous parser\n  if (loader.parseText && typeof data === 'string') {\n    return await loader.parseText(data, options, context, loader);\n  }\n\n  if (loader.parse) {\n    return await loader.parse(data, options, context, loader);\n  }\n\n  // This should not happen, all sync loaders should also offer `parse` function\n  assert(!loader.parseSync);\n\n  // TBD - If asynchronous parser not available, return null\n  throw new Error(`${loader.id} loader - no parser found and worker is disabled`);\n}\n"},"lineCount":null}},"error":null,"hash":"9a2863bd442c9391c4b6623284dfa4e5","cacheData":{"env":{}}}