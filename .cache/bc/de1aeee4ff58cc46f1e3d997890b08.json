{"id":"tHha","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@math.gl/web-mercator/dist/esm/get-bounds.js.map","includedInParent":true,"mtime":1688284131006},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@math.gl/web-mercator/package.json","includedInParent":true,"mtime":1688284131006},{"name":"./web-mercator-utils","loc":{"line":1,"column":30,"index":30},"parent":"/project/deck-gl-examples-01/node_modules/@math.gl/web-mercator/dist/esm/get-bounds.js","resolved":"/project/deck-gl-examples-01/node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js"},{"name":"gl-matrix/vec2","loc":{"line":2,"column":22,"index":76},"parent":"/project/deck-gl-examples-01/node_modules/@math.gl/web-mercator/dist/esm/get-bounds.js","resolved":"/project/deck-gl-examples-01/node_modules/gl-matrix/esm/vec2.js"},{"name":"./math-utils","loc":{"line":3,"column":32,"index":126},"parent":"/project/deck-gl-examples-01/node_modules/@math.gl/web-mercator/dist/esm/get-bounds.js","resolved":"/project/deck-gl-examples-01/node_modules/@math.gl/web-mercator/dist/esm/math-utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=a;var e=require(\"./web-mercator-utils\"),t=o(require(\"gl-matrix/vec2\")),r=require(\"./math-utils\");function n(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=u?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}const u=Math.PI/180;function a(e,t=0){const{width:r,height:n,unproject:o}=e,a={targetZ:t},c=o([0,n],a),f=o([r,n],a);let l,p;return(e.fovy?.5*e.fovy*u:Math.atan(.5/e.altitude))>(90-e.pitch)*u-.01?(l=i(e,0,t),p=i(e,r,t)):(l=o([0,0],a),p=o([r,0],a)),[c,f,p,l]}function i(n,o,u){const{pixelUnprojectionMatrix:a}=n,i=(0,r.transformVector)(a,[o,0,1,1]),c=(0,r.transformVector)(a,[o,n.height,1,1]),f=(u*n.distanceScales.unitsPerMeter[2]-i[2])/(c[2]-i[2]),l=t.lerp([],i,c,f),p=(0,e.worldToLngLat)(l);return p.push(u),p}"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/get-bounds.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":0}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":13}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":20}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":35}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":43}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":56}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":57}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":64}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":68}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":76}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":84}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":124}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":126}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":128}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":136}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":155}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":157}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":165}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":181}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":190}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":192}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":195}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":198}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":217}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":225}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":232}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":237}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":241}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":243}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":247}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":255}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":257}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":261}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":269}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":276}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":278}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":287}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":290}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":297}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":299}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":301}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":305}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":308}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":317}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":319}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":321}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":324}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":328}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":331}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":334}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":336}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":347}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":354}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":356}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":359}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":366}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":369}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":386}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":389}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":408}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":410}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":416}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":417}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":425}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":428}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":432}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":434}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":436}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":439}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":442}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":445}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":447}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":451}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":454}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":461}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":463}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":467}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":470}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":474}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":476}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":479}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":481}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":488}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":504}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":511}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":536}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":540}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":544}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":549}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":551}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":554}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":566}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":569}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":576}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":586}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":601}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":606}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":608}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":611}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":612}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":616}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":618}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":620}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":627}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":652}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":654}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":657}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":662}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":666}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":668}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":673}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":675}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":680}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":687}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":702}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":704}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":706}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":709}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":711}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":714}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":716}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":719}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":726}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":728}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":736}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":738}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":741}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":743}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":747}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":749}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":752}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":754}},{"source":"../../src/get-bounds.ts","name":"DEGREES_TO_RADIANS","original":{"line":6,"column":6},"generated":{"line":1,"column":760}},{"source":"../../src/get-bounds.ts","name":"Math","original":{"line":6,"column":27},"generated":{"line":1,"column":762}},{"source":"../../src/get-bounds.ts","name":"PI","original":{"line":6,"column":32},"generated":{"line":1,"column":767}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":6,"column":37},"generated":{"line":1,"column":770}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":13,"column":15},"generated":{"line":1,"column":774}},{"source":"../../src/get-bounds.ts","name":"getBounds","original":{"line":13,"column":24},"generated":{"line":1,"column":783}},{"source":"../../src/get-bounds.ts","name":"viewport","original":{"line":13,"column":34},"generated":{"line":1,"column":785}},{"source":"../../src/get-bounds.ts","name":"z","original":{"line":13,"column":65},"generated":{"line":1,"column":787}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":13,"column":77},"generated":{"line":1,"column":789}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":792}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":15,"column":8},"generated":{"line":1,"column":798}},{"source":"../../src/get-bounds.ts","name":"width","original":{"line":15,"column":9},"generated":{"line":1,"column":804}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":15,"column":8},"generated":{"line":1,"column":806}},{"source":"../../src/get-bounds.ts","name":"height","original":{"line":15,"column":16},"generated":{"line":1,"column":813}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":15,"column":8},"generated":{"line":1,"column":815}},{"source":"../../src/get-bounds.ts","name":"unproject","original":{"line":15,"column":24},"generated":{"line":1,"column":825}},{"source":"../../src/get-bounds.ts","name":"viewport","original":{"line":15,"column":37},"generated":{"line":1,"column":828}},{"source":"../../src/get-bounds.ts","name":"unprojectOps","original":{"line":16,"column":8},"generated":{"line":1,"column":830}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":16,"column":23},"generated":{"line":1,"column":832}},{"source":"../../src/get-bounds.ts","name":"targetZ","original":{"line":16,"column":24},"generated":{"line":1,"column":833}},{"source":"../../src/get-bounds.ts","name":"z","original":{"line":16,"column":33},"generated":{"line":1,"column":841}},{"source":"../../src/get-bounds.ts","name":"bottomLeft","original":{"line":17,"column":8},"generated":{"line":1,"column":844}},{"source":"../../src/get-bounds.ts","name":"unproject","original":{"line":17,"column":21},"generated":{"line":1,"column":846}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":17,"column":31},"generated":{"line":1,"column":848}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":17,"column":32},"generated":{"line":1,"column":849}},{"source":"../../src/get-bounds.ts","name":"height","original":{"line":17,"column":35},"generated":{"line":1,"column":851}},{"source":"../../src/get-bounds.ts","name":"unprojectOps","original":{"line":17,"column":44},"generated":{"line":1,"column":854}},{"source":"../../src/get-bounds.ts","name":"bottomRight","original":{"line":18,"column":8},"generated":{"line":1,"column":857}},{"source":"../../src/get-bounds.ts","name":"unproject","original":{"line":18,"column":22},"generated":{"line":1,"column":859}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":18,"column":32},"generated":{"line":1,"column":861}},{"source":"../../src/get-bounds.ts","name":"width","original":{"line":18,"column":33},"generated":{"line":1,"column":862}},{"source":"../../src/get-bounds.ts","name":"height","original":{"line":18,"column":40},"generated":{"line":1,"column":864}},{"source":"../../src/get-bounds.ts","name":"unprojectOps","original":{"line":18,"column":49},"generated":{"line":1,"column":867}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":870}},{"source":"../../src/get-bounds.ts","name":"topLeft","original":{"line":19,"column":6},"generated":{"line":1,"column":874}},{"source":"../../src/get-bounds.ts","name":"topRight","original":{"line":20,"column":6},"generated":{"line":1,"column":876}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":878}},{"source":"../../src/get-bounds.ts","name":"viewport","original":{"line":22,"column":18},"generated":{"line":1,"column":885}},{"source":"../../src/get-bounds.ts","name":"fovy","original":{"line":22,"column":27},"generated":{"line":1,"column":887}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":23,"column":6},"generated":{"line":1,"column":892}},{"source":"../../src/get-bounds.ts","name":"viewport","original":{"line":23,"column":12},"generated":{"line":1,"column":895}},{"source":"../../src/get-bounds.ts","name":"fovy","original":{"line":23,"column":21},"generated":{"line":1,"column":897}},{"source":"../../src/get-bounds.ts","name":"DEGREES_TO_RADIANS","original":{"line":23,"column":28},"generated":{"line":1,"column":902}},{"source":"../../src/get-bounds.ts","name":"Math","original":{"line":24,"column":6},"generated":{"line":1,"column":904}},{"source":"../../src/get-bounds.ts","name":"atan","original":{"line":24,"column":11},"generated":{"line":1,"column":909}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":24,"column":16},"generated":{"line":1,"column":914}},{"source":"../../src/get-bounds.ts","name":"viewport","original":{"line":24,"column":22},"generated":{"line":1,"column":917}},{"source":"../../src/get-bounds.ts","name":"altitude","original":{"line":24,"column":31},"generated":{"line":1,"column":919}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":25,"column":25},"generated":{"line":1,"column":931}},{"source":"../../src/get-bounds.ts","name":"viewport","original":{"line":25,"column":30},"generated":{"line":1,"column":934}},{"source":"../../src/get-bounds.ts","name":"pitch","original":{"line":25,"column":39},"generated":{"line":1,"column":936}},{"source":"../../src/get-bounds.ts","name":"DEGREES_TO_RADIANS","original":{"line":25,"column":48},"generated":{"line":1,"column":943}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":27,"column":32},"generated":{"line":1,"column":945}},{"source":"../../src/get-bounds.ts","name":"topLeft","original":{"line":29,"column":4},"generated":{"line":1,"column":950}},{"source":"../../src/get-bounds.ts","name":"unprojectOnFarPlane","original":{"line":29,"column":14},"generated":{"line":1,"column":952}},{"source":"../../src/get-bounds.ts","name":"viewport","original":{"line":29,"column":34},"generated":{"line":1,"column":954}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":29,"column":44},"generated":{"line":1,"column":956}},{"source":"../../src/get-bounds.ts","name":"z","original":{"line":29,"column":47},"generated":{"line":1,"column":958}},{"source":"../../src/get-bounds.ts","name":"topRight","original":{"line":30,"column":4},"generated":{"line":1,"column":961}},{"source":"../../src/get-bounds.ts","name":"unprojectOnFarPlane","original":{"line":30,"column":15},"generated":{"line":1,"column":963}},{"source":"../../src/get-bounds.ts","name":"viewport","original":{"line":30,"column":35},"generated":{"line":1,"column":965}},{"source":"../../src/get-bounds.ts","name":"width","original":{"line":30,"column":45},"generated":{"line":1,"column":967}},{"source":"../../src/get-bounds.ts","name":"z","original":{"line":30,"column":52},"generated":{"line":1,"column":969}},{"source":"../../src/get-bounds.ts","name":"topLeft","original":{"line":33,"column":4},"generated":{"line":1,"column":974}},{"source":"../../src/get-bounds.ts","name":"unproject","original":{"line":33,"column":14},"generated":{"line":1,"column":976}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":33,"column":24},"generated":{"line":1,"column":978}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":33,"column":25},"generated":{"line":1,"column":979}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":33,"column":28},"generated":{"line":1,"column":981}},{"source":"../../src/get-bounds.ts","name":"unprojectOps","original":{"line":33,"column":32},"generated":{"line":1,"column":984}},{"source":"../../src/get-bounds.ts","name":"topRight","original":{"line":34,"column":4},"generated":{"line":1,"column":987}},{"source":"../../src/get-bounds.ts","name":"unproject","original":{"line":34,"column":15},"generated":{"line":1,"column":989}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":34,"column":25},"generated":{"line":1,"column":991}},{"source":"../../src/get-bounds.ts","name":"width","original":{"line":34,"column":26},"generated":{"line":1,"column":992}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":34,"column":33},"generated":{"line":1,"column":994}},{"source":"../../src/get-bounds.ts","name":"unprojectOps","original":{"line":34,"column":37},"generated":{"line":1,"column":997}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":37,"column":9},"generated":{"line":1,"column":1001}},{"source":"../../src/get-bounds.ts","name":"bottomLeft","original":{"line":37,"column":10},"generated":{"line":1,"column":1002}},{"source":"../../src/get-bounds.ts","name":"bottomRight","original":{"line":37,"column":22},"generated":{"line":1,"column":1004}},{"source":"../../src/get-bounds.ts","name":"topRight","original":{"line":37,"column":35},"generated":{"line":1,"column":1006}},{"source":"../../src/get-bounds.ts","name":"topLeft","original":{"line":37,"column":45},"generated":{"line":1,"column":1008}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":46,"column":0},"generated":{"line":1,"column":1011}},{"source":"../../src/get-bounds.ts","name":"unprojectOnFarPlane","original":{"line":46,"column":9},"generated":{"line":1,"column":1020}},{"source":"../../src/get-bounds.ts","name":"viewport","original":{"line":46,"column":29},"generated":{"line":1,"column":1022}},{"source":"../../src/get-bounds.ts","name":"x","original":{"line":46,"column":60},"generated":{"line":1,"column":1024}},{"source":"../../src/get-bounds.ts","name":"targetZ","original":{"line":46,"column":71},"generated":{"line":1,"column":1026}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":1029}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":1,"column":1035}},{"source":"../../src/get-bounds.ts","name":"pixelUnprojectionMatrix","original":{"line":47,"column":9},"generated":{"line":1,"column":1059}},{"source":"../../src/get-bounds.ts","name":"viewport","original":{"line":47,"column":36},"generated":{"line":1,"column":1062}},{"source":"../../src/get-bounds.ts","name":"coord0","original":{"line":48,"column":8},"generated":{"line":1,"column":1064}},{"source":"../../src/get-bounds.ts","name":"transformVector","original":{"line":48,"column":17},"generated":{"line":1,"column":1067}},{"source":"../../src/get-bounds.ts","name":"transformVector","original":{"line":48,"column":17},"generated":{"line":1,"column":1069}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":48,"column":32},"generated":{"line":1,"column":1071}},{"source":"../../src/get-bounds.ts","name":"pixelUnprojectionMatrix","original":{"line":48,"column":33},"generated":{"line":1,"column":1088}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":48,"column":58},"generated":{"line":1,"column":1090}},{"source":"../../src/get-bounds.ts","name":"x","original":{"line":48,"column":59},"generated":{"line":1,"column":1091}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":48,"column":62},"generated":{"line":1,"column":1093}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":48,"column":65},"generated":{"line":1,"column":1095}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":48,"column":68},"generated":{"line":1,"column":1097}},{"source":"../../src/get-bounds.ts","name":"coord1","original":{"line":49,"column":8},"generated":{"line":1,"column":1101}},{"source":"../../src/get-bounds.ts","name":"transformVector","original":{"line":49,"column":17},"generated":{"line":1,"column":1104}},{"source":"../../src/get-bounds.ts","name":"transformVector","original":{"line":49,"column":17},"generated":{"line":1,"column":1106}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":49,"column":32},"generated":{"line":1,"column":1108}},{"source":"../../src/get-bounds.ts","name":"pixelUnprojectionMatrix","original":{"line":49,"column":33},"generated":{"line":1,"column":1125}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":49,"column":58},"generated":{"line":1,"column":1127}},{"source":"../../src/get-bounds.ts","name":"x","original":{"line":49,"column":59},"generated":{"line":1,"column":1128}},{"source":"../../src/get-bounds.ts","name":"viewport","original":{"line":49,"column":62},"generated":{"line":1,"column":1130}},{"source":"../../src/get-bounds.ts","name":"height","original":{"line":49,"column":71},"generated":{"line":1,"column":1132}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":49,"column":79},"generated":{"line":1,"column":1139}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":49,"column":82},"generated":{"line":1,"column":1141}},{"source":"../../src/get-bounds.ts","name":"t","original":{"line":52,"column":8},"generated":{"line":1,"column":1145}},{"source":"../../src/get-bounds.ts","name":"targetZ","original":{"line":51,"column":12},"generated":{"line":1,"column":1148}},{"source":"../../src/get-bounds.ts","name":"viewport","original":{"line":51,"column":22},"generated":{"line":1,"column":1150}},{"source":"../../src/get-bounds.ts","name":"distanceScales","original":{"line":51,"column":31},"generated":{"line":1,"column":1152}},{"source":"../../src/get-bounds.ts","name":"unitsPerMeter","original":{"line":51,"column":46},"generated":{"line":1,"column":1167}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":51,"column":60},"generated":{"line":1,"column":1181}},{"source":"../../src/get-bounds.ts","name":"coord0","original":{"line":52,"column":17},"generated":{"line":1,"column":1184}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":52,"column":24},"generated":{"line":1,"column":1186}},{"source":"../../src/get-bounds.ts","name":"coord1","original":{"line":52,"column":31},"generated":{"line":1,"column":1191}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":52,"column":38},"generated":{"line":1,"column":1193}},{"source":"../../src/get-bounds.ts","name":"coord0","original":{"line":52,"column":43},"generated":{"line":1,"column":1196}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":52,"column":50},"generated":{"line":1,"column":1198}},{"source":"../../src/get-bounds.ts","name":"coord","original":{"line":53,"column":8},"generated":{"line":1,"column":1202}},{"source":"../../src/get-bounds.ts","name":"vec2","original":{"line":53,"column":16},"generated":{"line":1,"column":1204}},{"source":"../../src/get-bounds.ts","name":"lerp","original":{"line":53,"column":21},"generated":{"line":1,"column":1206}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":53,"column":26},"generated":{"line":1,"column":1211}},{"source":"../../src/get-bounds.ts","name":"coord0","original":{"line":53,"column":30},"generated":{"line":1,"column":1214}},{"source":"../../src/get-bounds.ts","name":"coord1","original":{"line":53,"column":38},"generated":{"line":1,"column":1216}},{"source":"../../src/get-bounds.ts","name":"t","original":{"line":53,"column":46},"generated":{"line":1,"column":1218}},{"source":"../../src/get-bounds.ts","name":"result","original":{"line":55,"column":8},"generated":{"line":1,"column":1221}},{"source":"../../src/get-bounds.ts","name":"worldToLngLat","original":{"line":55,"column":17},"generated":{"line":1,"column":1224}},{"source":"../../src/get-bounds.ts","name":"worldToLngLat","original":{"line":55,"column":17},"generated":{"line":1,"column":1226}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":55,"column":30},"generated":{"line":1,"column":1228}},{"source":"../../src/get-bounds.ts","name":"coord","original":{"line":55,"column":31},"generated":{"line":1,"column":1243}},{"source":"../../src/get-bounds.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":1246}},{"source":"../../src/get-bounds.ts","name":"result","original":{"line":56,"column":2},"generated":{"line":1,"column":1253}},{"source":"../../src/get-bounds.ts","name":"push","original":{"line":56,"column":9},"generated":{"line":1,"column":1255}},{"source":"../../src/get-bounds.ts","name":"targetZ","original":{"line":56,"column":14},"generated":{"line":1,"column":1260}},{"source":"../../src/get-bounds.ts","name":"result","original":{"line":57,"column":9},"generated":{"line":1,"column":1263}}],"sources":{"../../src/get-bounds.ts":"import {worldToLngLat} from './web-mercator-utils';\nimport * as vec2 from 'gl-matrix/vec2';\nimport {transformVector} from './math-utils';\nimport type WebMercatorViewport from './web-mercator-viewport';\n\nconst DEGREES_TO_RADIANS = Math.PI / 180;\n\n/*\n * Returns the quad at the intersection of the frustum and the given z plane\n * @param {WebMercatorViewport} viewport\n * @param {Number} z - elevation in meters\n */\nexport default function getBounds(viewport: WebMercatorViewport, z: number = 0): number[][] {\n  // eslint-disable-next-line @typescript-eslint/unbound-method\n  const {width, height, unproject} = viewport;\n  const unprojectOps = {targetZ: z};\n  const bottomLeft = unproject([0, height], unprojectOps);\n  const bottomRight = unproject([width, height], unprojectOps);\n  let topLeft: number[];\n  let topRight: number[];\n\n  const halfFov = viewport.fovy\n    ? 0.5 * viewport.fovy * DEGREES_TO_RADIANS\n    : Math.atan(0.5 / viewport.altitude);\n  const angleToGround = (90 - viewport.pitch) * DEGREES_TO_RADIANS;\n  // The top plane is parallel to the ground if halfFov == angleToGround\n  if (halfFov > angleToGround - 0.01) {\n    // intersect with the far plane\n    topLeft = unprojectOnFarPlane(viewport, 0, z);\n    topRight = unprojectOnFarPlane(viewport, width, z);\n  } else {\n    // intersect with the top plane\n    topLeft = unproject([0, 0], unprojectOps);\n    topRight = unproject([width, 0], unprojectOps);\n  }\n\n  return [bottomLeft, bottomRight, topRight, topLeft];\n}\n\n/*\n * Find a point on the far clipping plane of the viewport\n * @param {WebMercatorViewport} viewport\n * @param {Number} x - projected x in screen space\n * @param {Number} targetZ - the elevation of the point in meters\n */\nfunction unprojectOnFarPlane(viewport: WebMercatorViewport, x: number, targetZ: number): number[] {\n  const {pixelUnprojectionMatrix} = viewport;\n  const coord0 = transformVector(pixelUnprojectionMatrix, [x, 0, 1, 1]);\n  const coord1 = transformVector(pixelUnprojectionMatrix, [x, viewport.height, 1, 1]);\n\n  const z = targetZ * viewport.distanceScales.unitsPerMeter[2];\n  const t = (z - coord0[2]) / (coord1[2] - coord0[2]);\n  const coord = vec2.lerp([], coord0, coord1, t);\n\n  const result = worldToLngLat(coord);\n  result.push(targetZ);\n  return result;\n}\n"},"lineCount":null}},"error":null,"hash":"1a8d600090ddca523a1bbc9e550c6483","cacheData":{"env":{}}}