{"id":"tUfq","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/texture-api/async-deep-map.js.map","includedInParent":true,"mtime":1688284131151},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/package.json","includedInParent":true,"mtime":1688284131151}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.asyncDeepMap=e,exports.mapSubtree=n;const t=t=>t&&\"object\"==typeof t;async function e(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return await n(t,e,r)}async function n(e,n,o){if(Array.isArray(e))return await a(e,n,o);if(t(e))return await r(e,n,o);const s=e;return await n(s,o)}async function r(t,e,r){const a=[],o={};for(const s in t){const i=n(t[s],e,r).then(t=>{o[s]=t});a.push(i)}return await Promise.all(a),o}async function a(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=t.map(t=>n(t,e,r));return await Promise.all(a)}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":89}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":91}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":99}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":110}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":112}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"isObject","original":{"line":17,"column":6},"generated":{"line":1,"column":118}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"value","original":{"line":17,"column":18},"generated":{"line":1,"column":120}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"value","original":{"line":17,"column":28},"generated":{"line":1,"column":123}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":17,"column":54},"generated":{"line":1,"column":126}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"value","original":{"line":17,"column":44},"generated":{"line":1,"column":143}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":22,"column":7},"generated":{"line":1,"column":145}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"asyncDeepMap","original":{"line":22,"column":22},"generated":{"line":1,"column":160}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"tree","original":{"line":22,"column":35},"generated":{"line":1,"column":162}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"func","original":{"line":22,"column":41},"generated":{"line":1,"column":164}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":22,"column":61},"generated":{"line":1,"column":167}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"options","original":{"line":22,"column":47},"generated":{"line":1,"column":171}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"arguments","original":{"line":22,"column":54},"generated":{"line":1,"column":173}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"length","original":{"line":22,"column":54},"generated":{"line":1,"column":183}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":22,"column":54},"generated":{"line":1,"column":190}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"undefined","original":{"line":22,"column":54},"generated":{"line":1,"column":198}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"arguments","original":{"line":22,"column":54},"generated":{"line":1,"column":202}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":22,"column":54},"generated":{"line":1,"column":212}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"arguments","original":{"line":22,"column":54},"generated":{"line":1,"column":215}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":22,"column":54},"generated":{"line":1,"column":225}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":22,"column":57},"generated":{"line":1,"column":228}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":231}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"mapSubtree","original":{"line":23,"column":15},"generated":{"line":1,"column":244}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"tree","original":{"line":23,"column":26},"generated":{"line":1,"column":246}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"func","original":{"line":23,"column":32},"generated":{"line":1,"column":248}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"options","original":{"line":23,"column":38},"generated":{"line":1,"column":250}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":26,"column":7},"generated":{"line":1,"column":253}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"mapSubtree","original":{"line":26,"column":22},"generated":{"line":1,"column":268}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"object","original":{"line":26,"column":33},"generated":{"line":1,"column":270}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"func","original":{"line":26,"column":41},"generated":{"line":1,"column":272}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"options","original":{"line":26,"column":47},"generated":{"line":1,"column":274}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":277}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"Array","original":{"line":27,"column":6},"generated":{"line":1,"column":280}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"isArray","original":{"line":27,"column":12},"generated":{"line":1,"column":286}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"object","original":{"line":27,"column":20},"generated":{"line":1,"column":294}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":297}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"mapArray","original":{"line":28,"column":17},"generated":{"line":1,"column":310}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"object","original":{"line":28,"column":26},"generated":{"line":1,"column":312}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"func","original":{"line":28,"column":34},"generated":{"line":1,"column":314}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"options","original":{"line":28,"column":40},"generated":{"line":1,"column":316}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":1,"column":319}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"isObject","original":{"line":31,"column":6},"generated":{"line":1,"column":322}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"object","original":{"line":31,"column":15},"generated":{"line":1,"column":324}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":327}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"mapObject","original":{"line":32,"column":17},"generated":{"line":1,"column":340}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"object","original":{"line":32,"column":27},"generated":{"line":1,"column":342}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"func","original":{"line":32,"column":35},"generated":{"line":1,"column":344}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"options","original":{"line":32,"column":41},"generated":{"line":1,"column":346}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":349}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"url","original":{"line":36,"column":8},"generated":{"line":1,"column":355}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"object","original":{"line":36,"column":14},"generated":{"line":1,"column":357}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":359}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"func","original":{"line":37,"column":15},"generated":{"line":1,"column":372}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"url","original":{"line":37,"column":20},"generated":{"line":1,"column":374}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"options","original":{"line":37,"column":25},"generated":{"line":1,"column":376}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":42,"column":0},"generated":{"line":1,"column":379}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"mapObject","original":{"line":42,"column":15},"generated":{"line":1,"column":394}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"object","original":{"line":42,"column":25},"generated":{"line":1,"column":396}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"func","original":{"line":42,"column":33},"generated":{"line":1,"column":398}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"options","original":{"line":42,"column":39},"generated":{"line":1,"column":400}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":1,"column":403}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"promises","original":{"line":43,"column":8},"generated":{"line":1,"column":409}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":43,"column":35},"generated":{"line":1,"column":411}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"values","original":{"line":44,"column":8},"generated":{"line":1,"column":414}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":44,"column":17},"generated":{"line":1,"column":416}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":1,"column":419}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":46,"column":7},"generated":{"line":1,"column":423}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"key","original":{"line":46,"column":13},"generated":{"line":1,"column":429}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"object","original":{"line":46,"column":20},"generated":{"line":1,"column":434}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":46,"column":28},"generated":{"line":1,"column":436}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":1,"column":437}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"promise","original":{"line":48,"column":10},"generated":{"line":1,"column":443}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"mapSubtree","original":{"line":48,"column":20},"generated":{"line":1,"column":445}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"object","original":{"line":47,"column":16},"generated":{"line":1,"column":447}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"key","original":{"line":47,"column":23},"generated":{"line":1,"column":449}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"func","original":{"line":48,"column":36},"generated":{"line":1,"column":452}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"options","original":{"line":48,"column":42},"generated":{"line":1,"column":454}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"then","original":{"line":48,"column":51},"generated":{"line":1,"column":457}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"value","original":{"line":48,"column":57},"generated":{"line":1,"column":462}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"values","original":{"line":49,"column":6},"generated":{"line":1,"column":466}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"key","original":{"line":49,"column":13},"generated":{"line":1,"column":468}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"value","original":{"line":49,"column":20},"generated":{"line":1,"column":471}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"promises","original":{"line":51,"column":4},"generated":{"line":1,"column":475}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"push","original":{"line":51,"column":13},"generated":{"line":1,"column":477}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"promise","original":{"line":51,"column":18},"generated":{"line":1,"column":482}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":56,"column":2},"generated":{"line":1,"column":485}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"Promise","original":{"line":54,"column":8},"generated":{"line":1,"column":498}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"all","original":{"line":54,"column":16},"generated":{"line":1,"column":506}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"promises","original":{"line":54,"column":20},"generated":{"line":1,"column":510}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"values","original":{"line":56,"column":9},"generated":{"line":1,"column":513}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":59,"column":0},"generated":{"line":1,"column":515}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"mapArray","original":{"line":59,"column":15},"generated":{"line":1,"column":530}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"urlArray","original":{"line":59,"column":24},"generated":{"line":1,"column":532}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"func","original":{"line":59,"column":34},"generated":{"line":1,"column":534}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":59,"column":54},"generated":{"line":1,"column":537}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"options","original":{"line":59,"column":40},"generated":{"line":1,"column":541}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"arguments","original":{"line":59,"column":47},"generated":{"line":1,"column":543}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"length","original":{"line":59,"column":47},"generated":{"line":1,"column":553}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":59,"column":47},"generated":{"line":1,"column":560}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"undefined","original":{"line":59,"column":47},"generated":{"line":1,"column":568}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"arguments","original":{"line":59,"column":47},"generated":{"line":1,"column":572}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":59,"column":47},"generated":{"line":1,"column":582}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"arguments","original":{"line":59,"column":47},"generated":{"line":1,"column":585}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":59,"column":47},"generated":{"line":1,"column":595}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":59,"column":50},"generated":{"line":1,"column":598}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":60,"column":2},"generated":{"line":1,"column":601}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"promises","original":{"line":60,"column":8},"generated":{"line":1,"column":607}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"urlArray","original":{"line":60,"column":19},"generated":{"line":1,"column":609}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"map","original":{"line":60,"column":28},"generated":{"line":1,"column":611}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"url","original":{"line":60,"column":33},"generated":{"line":1,"column":615}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"mapSubtree","original":{"line":60,"column":41},"generated":{"line":1,"column":618}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"url","original":{"line":60,"column":52},"generated":{"line":1,"column":620}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"func","original":{"line":60,"column":57},"generated":{"line":1,"column":622}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"options","original":{"line":60,"column":63},"generated":{"line":1,"column":624}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":null,"original":{"line":61,"column":2},"generated":{"line":1,"column":628}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"Promise","original":{"line":61,"column":15},"generated":{"line":1,"column":641}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"all","original":{"line":61,"column":23},"generated":{"line":1,"column":649}},{"source":"../../../../src/lib/texture-api/async-deep-map.ts","name":"promises","original":{"line":61,"column":27},"generated":{"line":1,"column":653}}],"sources":{"../../../../src/lib/texture-api/async-deep-map.ts":"/*\nAsynchronously maps a deep structure of values (e.g. objects and arrays of urls).\n\nE.g. a mipmapped cubemap\n{\n  [CUBE_FACE_FRONT]: [\n    \"image-front-0.jpg\",\n    \"image-front-1.jpg\",\n    \"image-front-2.jpg\",\n  ],\n  [CUBE_MAP_BACK]: [\n    ...\n  ]\n}\n*/\n\nconst isObject = (value) => value && typeof value === 'object';\n\n// Loads a deep structure of urls (objects and arrays of urls)\n// Returns an object with six key-value pairs containing the images (or image mip arrays)\n// for each cube face\nexport async function asyncDeepMap(tree, func, options = {}) {\n  return await mapSubtree(tree, func, options);\n}\n\nexport async function mapSubtree(object, func, options) {\n  if (Array.isArray(object)) {\n    return await mapArray(object, func, options);\n  }\n\n  if (isObject(object)) {\n    return await mapObject(object, func, options);\n  }\n\n  // TODO - ignore non-urls, non-arraybuffers?\n  const url = object;\n  return await func(url, options);\n}\n\n// HELPERS\n\nasync function mapObject(object, func, options) {\n  const promises: Promise<any>[] = [];\n  const values = {};\n\n  for (const key in object) {\n    const url = object[key];\n    const promise = mapSubtree(url, func, options).then((value) => {\n      values[key] = value;\n    });\n    promises.push(promise);\n  }\n\n  await Promise.all(promises);\n\n  return values;\n}\n\nasync function mapArray(urlArray, func, options = {}) {\n  const promises = urlArray.map((url) => mapSubtree(url, func, options));\n  return await Promise.all(promises);\n}\n"},"lineCount":null}},"error":null,"hash":"a4e0a452a12bf6419e873ccc800c6468","cacheData":{"env":{}}}