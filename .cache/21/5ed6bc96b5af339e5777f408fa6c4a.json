{"id":"XFGE","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/category-api/binary-image-api.js.map","includedInParent":true,"mtime":1688284131151},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/package.json","includedInParent":true,"mtime":1688284131151},{"name":"./parse-isobmff-binary","loc":{"line":1,"column":36,"index":36},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/category-api/binary-image-api.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/category-api/parse-isobmff-binary.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getBinaryImageMetadata=i,exports.getBmpMetadata=u;var t=require(\"./parse-isobmff-binary\");const e=!1,n=!0;function i(t){const e=s(t);return a(e)||o(e)||g(e)||u(e)||r(e)}function r(e){const n=new Uint8Array(e instanceof DataView?e.buffer:e),i=(0,t.getISOBMFFMediaType)(n);return i?{mimeType:i.mimeType,width:0,height:0}:null}function a(t){const n=s(t);return n.byteLength>=24&&2303741511===n.getUint32(0,e)?{mimeType:\"image/png\",width:n.getUint32(16,e),height:n.getUint32(20,e)}:null}function g(t){const i=s(t);return i.byteLength>=10&&1195984440===i.getUint32(0,e)?{mimeType:\"image/gif\",width:i.getUint16(6,n),height:i.getUint16(8,n)}:null}function u(t){const i=s(t);return i.byteLength>=14&&16973===i.getUint16(0,e)&&i.getUint32(2,n)===i.byteLength?{mimeType:\"image/bmp\",width:i.getUint32(18,n),height:i.getUint32(22,n)}:null}function o(t){const n=s(t);if(!(n.byteLength>=3&&65496===n.getUint16(0,e)&&255===n.getUint8(2)))return null;const{tableMarkers:i,sofMarkers:r}=f();let a=2;for(;a+9<n.byteLength;){const t=n.getUint16(a,e);if(r.has(t))return{mimeType:\"image/jpeg\",height:n.getUint16(a+5,e),width:n.getUint16(a+7,e)};if(!i.has(t))return null;a+=2,a+=n.getUint16(a,e)}return null}function f(){const t=new Set([65499,65476,65484,65501,65534]);for(let e=65504;e<65520;++e)t.add(e);return{tableMarkers:t,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function s(t){if(t instanceof DataView)return t;if(ArrayBuffer.isView(t))return new DataView(t.buffer);if(t instanceof ArrayBuffer)return new DataView(t);throw new Error(\"toDataView\")}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":200,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":200,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":200,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":200,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":200,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":200,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":200,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":200,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":200,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":200,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":200,"column":0},"generated":{"line":1,"column":99}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":200,"column":0},"generated":{"line":1,"column":101}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":200,"column":0},"generated":{"line":1,"column":109}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":200,"column":0},"generated":{"line":1,"column":124}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":126}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":130}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":132}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":140}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":166}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"BIG_ENDIAN","original":{"line":18,"column":6},"generated":{"line":1,"column":172}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":18,"column":19},"generated":{"line":1,"column":175}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"LITTLE_ENDIAN","original":{"line":19,"column":6},"generated":{"line":1,"column":177}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":19,"column":22},"generated":{"line":1,"column":180}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":27,"column":7},"generated":{"line":1,"column":182}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getBinaryImageMetadata","original":{"line":27,"column":16},"generated":{"line":1,"column":191}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"binaryData","original":{"line":28,"column":2},"generated":{"line":1,"column":193}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":196}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":30,"column":8},"generated":{"line":1,"column":202}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"toDataView","original":{"line":30,"column":19},"generated":{"line":1,"column":204}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"binaryData","original":{"line":30,"column":30},"generated":{"line":1,"column":206}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":1,"column":209}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getPngMetadata","original":{"line":32,"column":4},"generated":{"line":1,"column":216}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":32,"column":19},"generated":{"line":1,"column":218}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getJpegMetadata","original":{"line":33,"column":4},"generated":{"line":1,"column":222}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":33,"column":20},"generated":{"line":1,"column":224}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getGifMetadata","original":{"line":34,"column":4},"generated":{"line":1,"column":228}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":34,"column":19},"generated":{"line":1,"column":230}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getBmpMetadata","original":{"line":35,"column":4},"generated":{"line":1,"column":234}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":35,"column":19},"generated":{"line":1,"column":236}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getISOBMFFMetadata","original":{"line":36,"column":4},"generated":{"line":1,"column":240}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":36,"column":23},"generated":{"line":1,"column":242}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":42,"column":0},"generated":{"line":1,"column":245}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getISOBMFFMetadata","original":{"line":42,"column":9},"generated":{"line":1,"column":254}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"binaryData","original":{"line":42,"column":28},"generated":{"line":1,"column":256}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":1,"column":259}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"buffer","original":{"line":43,"column":8},"generated":{"line":1,"column":265}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":43,"column":17},"generated":{"line":1,"column":267}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"Uint8Array","original":{"line":43,"column":21},"generated":{"line":1,"column":271}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"binaryData","original":{"line":43,"column":32},"generated":{"line":1,"column":282}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"DataView","original":{"line":43,"column":54},"generated":{"line":1,"column":295}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"binaryData","original":{"line":43,"column":65},"generated":{"line":1,"column":304}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"buffer","original":{"line":43,"column":76},"generated":{"line":1,"column":306}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"binaryData","original":{"line":43,"column":85},"generated":{"line":1,"column":313}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"mediaType","original":{"line":44,"column":8},"generated":{"line":1,"column":316}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getISOBMFFMediaType","original":{"line":44,"column":20},"generated":{"line":1,"column":319}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getISOBMFFMediaType","original":{"line":44,"column":20},"generated":{"line":1,"column":321}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":44,"column":39},"generated":{"line":1,"column":323}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"buffer","original":{"line":44,"column":40},"generated":{"line":1,"column":344}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":1,"column":347}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"mediaType","original":{"line":45,"column":7},"generated":{"line":1,"column":354}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":1,"column":356}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"mimeType","original":{"line":49,"column":4},"generated":{"line":1,"column":357}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"mediaType","original":{"line":49,"column":14},"generated":{"line":1,"column":366}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"mimeType","original":{"line":49,"column":24},"generated":{"line":1,"column":368}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"width","original":{"line":51,"column":4},"generated":{"line":1,"column":377}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":51,"column":11},"generated":{"line":1,"column":383}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"height","original":{"line":52,"column":4},"generated":{"line":1,"column":385}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":52,"column":12},"generated":{"line":1,"column":392}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":46,"column":11},"generated":{"line":1,"column":395}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":58,"column":0},"generated":{"line":1,"column":400}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getPngMetadata","original":{"line":58,"column":9},"generated":{"line":1,"column":409}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"binaryData","original":{"line":58,"column":24},"generated":{"line":1,"column":411}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":59,"column":2},"generated":{"line":1,"column":414}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":59,"column":8},"generated":{"line":1,"column":420}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"toDataView","original":{"line":59,"column":19},"generated":{"line":1,"column":422}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"binaryData","original":{"line":59,"column":30},"generated":{"line":1,"column":424}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":1,"column":427}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":61,"column":16},"generated":{"line":1,"column":434}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"byteLength","original":{"line":61,"column":25},"generated":{"line":1,"column":436}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":61,"column":39},"generated":{"line":1,"column":448}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":61,"column":83},"generated":{"line":1,"column":452}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":61,"column":45},"generated":{"line":1,"column":465}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint32","original":{"line":61,"column":54},"generated":{"line":1,"column":467}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":61,"column":64},"generated":{"line":1,"column":477}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"BIG_ENDIAN","original":{"line":61,"column":67},"generated":{"line":1,"column":479}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":67,"column":9},"generated":{"line":1,"column":482}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"mimeType","original":{"line":68,"column":4},"generated":{"line":1,"column":483}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":68,"column":14},"generated":{"line":1,"column":492}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"width","original":{"line":69,"column":4},"generated":{"line":1,"column":504}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":69,"column":11},"generated":{"line":1,"column":510}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint32","original":{"line":69,"column":20},"generated":{"line":1,"column":512}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":69,"column":30},"generated":{"line":1,"column":522}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"BIG_ENDIAN","original":{"line":69,"column":34},"generated":{"line":1,"column":525}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"height","original":{"line":70,"column":4},"generated":{"line":1,"column":528}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":70,"column":12},"generated":{"line":1,"column":535}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint32","original":{"line":70,"column":21},"generated":{"line":1,"column":537}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":70,"column":31},"generated":{"line":1,"column":547}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"BIG_ENDIAN","original":{"line":70,"column":35},"generated":{"line":1,"column":550}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":63,"column":11},"generated":{"line":1,"column":554}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":78,"column":0},"generated":{"line":1,"column":559}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getGifMetadata","original":{"line":78,"column":9},"generated":{"line":1,"column":568}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"binaryData","original":{"line":78,"column":24},"generated":{"line":1,"column":570}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":79,"column":2},"generated":{"line":1,"column":573}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":79,"column":8},"generated":{"line":1,"column":579}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"toDataView","original":{"line":79,"column":19},"generated":{"line":1,"column":581}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"binaryData","original":{"line":79,"column":30},"generated":{"line":1,"column":583}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":586}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":81,"column":16},"generated":{"line":1,"column":593}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"byteLength","original":{"line":81,"column":25},"generated":{"line":1,"column":595}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":81,"column":39},"generated":{"line":1,"column":607}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":1,"column":611}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":81,"column":45},"generated":{"line":1,"column":624}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint32","original":{"line":81,"column":54},"generated":{"line":1,"column":626}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":81,"column":64},"generated":{"line":1,"column":636}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"BIG_ENDIAN","original":{"line":81,"column":67},"generated":{"line":1,"column":638}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":87,"column":9},"generated":{"line":1,"column":641}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"mimeType","original":{"line":88,"column":4},"generated":{"line":1,"column":642}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":88,"column":14},"generated":{"line":1,"column":651}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"width","original":{"line":89,"column":4},"generated":{"line":1,"column":663}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":89,"column":11},"generated":{"line":1,"column":669}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint16","original":{"line":89,"column":20},"generated":{"line":1,"column":671}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":89,"column":30},"generated":{"line":1,"column":681}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"LITTLE_ENDIAN","original":{"line":89,"column":33},"generated":{"line":1,"column":683}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"height","original":{"line":90,"column":4},"generated":{"line":1,"column":686}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":90,"column":12},"generated":{"line":1,"column":693}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint16","original":{"line":90,"column":21},"generated":{"line":1,"column":695}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":90,"column":31},"generated":{"line":1,"column":705}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"LITTLE_ENDIAN","original":{"line":90,"column":34},"generated":{"line":1,"column":707}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":83,"column":11},"generated":{"line":1,"column":711}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":97,"column":7},"generated":{"line":1,"column":716}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getBmpMetadata","original":{"line":97,"column":16},"generated":{"line":1,"column":725}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"binaryData","original":{"line":97,"column":31},"generated":{"line":1,"column":727}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":98,"column":2},"generated":{"line":1,"column":730}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":98,"column":8},"generated":{"line":1,"column":736}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"toDataView","original":{"line":98,"column":19},"generated":{"line":1,"column":738}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"binaryData","original":{"line":98,"column":30},"generated":{"line":1,"column":740}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":743}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":102,"column":4},"generated":{"line":1,"column":750}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"byteLength","original":{"line":102,"column":13},"generated":{"line":1,"column":752}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":102,"column":27},"generated":{"line":1,"column":764}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":103,"column":42},"generated":{"line":1,"column":768}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":103,"column":4},"generated":{"line":1,"column":776}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint16","original":{"line":103,"column":13},"generated":{"line":1,"column":778}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":103,"column":23},"generated":{"line":1,"column":788}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"BIG_ENDIAN","original":{"line":103,"column":26},"generated":{"line":1,"column":790}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":104,"column":4},"generated":{"line":1,"column":794}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint32","original":{"line":104,"column":13},"generated":{"line":1,"column":796}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":104,"column":23},"generated":{"line":1,"column":806}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"LITTLE_ENDIAN","original":{"line":104,"column":26},"generated":{"line":1,"column":808}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":104,"column":45},"generated":{"line":1,"column":813}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"byteLength","original":{"line":104,"column":54},"generated":{"line":1,"column":815}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":111,"column":9},"generated":{"line":1,"column":826}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"mimeType","original":{"line":112,"column":4},"generated":{"line":1,"column":827}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":112,"column":14},"generated":{"line":1,"column":836}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"width","original":{"line":113,"column":4},"generated":{"line":1,"column":848}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":113,"column":11},"generated":{"line":1,"column":854}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint32","original":{"line":113,"column":20},"generated":{"line":1,"column":856}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":113,"column":30},"generated":{"line":1,"column":866}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"LITTLE_ENDIAN","original":{"line":113,"column":34},"generated":{"line":1,"column":869}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"height","original":{"line":114,"column":4},"generated":{"line":1,"column":872}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":114,"column":12},"generated":{"line":1,"column":879}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint32","original":{"line":114,"column":21},"generated":{"line":1,"column":881}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":114,"column":31},"generated":{"line":1,"column":891}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"LITTLE_ENDIAN","original":{"line":114,"column":35},"generated":{"line":1,"column":894}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":107,"column":11},"generated":{"line":1,"column":898}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":121,"column":0},"generated":{"line":1,"column":903}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getJpegMetadata","original":{"line":121,"column":9},"generated":{"line":1,"column":912}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"binaryData","original":{"line":121,"column":25},"generated":{"line":1,"column":914}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":122,"column":2},"generated":{"line":1,"column":917}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":122,"column":8},"generated":{"line":1,"column":923}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"toDataView","original":{"line":122,"column":19},"generated":{"line":1,"column":925}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"binaryData","original":{"line":122,"column":30},"generated":{"line":1,"column":927}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":130,"column":2},"generated":{"line":1,"column":930}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":126,"column":4},"generated":{"line":1,"column":935}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"byteLength","original":{"line":126,"column":13},"generated":{"line":1,"column":937}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":126,"column":27},"generated":{"line":1,"column":949}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":127,"column":42},"generated":{"line":1,"column":952}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":127,"column":4},"generated":{"line":1,"column":960}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint16","original":{"line":127,"column":13},"generated":{"line":1,"column":962}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":127,"column":23},"generated":{"line":1,"column":972}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"BIG_ENDIAN","original":{"line":127,"column":26},"generated":{"line":1,"column":974}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":128,"column":29},"generated":{"line":1,"column":978}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":128,"column":4},"generated":{"line":1,"column":984}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint8","original":{"line":128,"column":13},"generated":{"line":1,"column":986}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":128,"column":22},"generated":{"line":1,"column":995}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":131,"column":4},"generated":{"line":1,"column":999}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":131,"column":11},"generated":{"line":1,"column":1006}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":134,"column":2},"generated":{"line":1,"column":1011}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":134,"column":8},"generated":{"line":1,"column":1017}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"tableMarkers","original":{"line":134,"column":9},"generated":{"line":1,"column":1030}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":134,"column":21},"generated":{"line":1,"column":1032}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"sofMarkers","original":{"line":134,"column":23},"generated":{"line":1,"column":1043}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getJpegMarkers","original":{"line":134,"column":37},"generated":{"line":1,"column":1046}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":137,"column":2},"generated":{"line":1,"column":1050}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"i","original":{"line":137,"column":6},"generated":{"line":1,"column":1054}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":137,"column":10},"generated":{"line":1,"column":1056}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":138,"column":2},"generated":{"line":1,"column":1058}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"i","original":{"line":138,"column":9},"generated":{"line":1,"column":1063}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":138,"column":13},"generated":{"line":1,"column":1065}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":138,"column":17},"generated":{"line":1,"column":1067}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"byteLength","original":{"line":138,"column":26},"generated":{"line":1,"column":1069}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":138,"column":38},"generated":{"line":1,"column":1081}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":1,"column":1082}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"marker","original":{"line":139,"column":10},"generated":{"line":1,"column":1088}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":139,"column":19},"generated":{"line":1,"column":1090}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint16","original":{"line":139,"column":28},"generated":{"line":1,"column":1092}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"i","original":{"line":139,"column":38},"generated":{"line":1,"column":1102}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"BIG_ENDIAN","original":{"line":139,"column":41},"generated":{"line":1,"column":1104}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":142,"column":4},"generated":{"line":1,"column":1107}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"sofMarkers","original":{"line":142,"column":8},"generated":{"line":1,"column":1110}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"has","original":{"line":142,"column":19},"generated":{"line":1,"column":1112}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"marker","original":{"line":142,"column":23},"generated":{"line":1,"column":1116}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":143,"column":6},"generated":{"line":1,"column":1119}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":143,"column":13},"generated":{"line":1,"column":1125}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"mimeType","original":{"line":144,"column":8},"generated":{"line":1,"column":1126}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":144,"column":18},"generated":{"line":1,"column":1135}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"height","original":{"line":145,"column":8},"generated":{"line":1,"column":1148}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":145,"column":16},"generated":{"line":1,"column":1155}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint16","original":{"line":145,"column":25},"generated":{"line":1,"column":1157}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"i","original":{"line":145,"column":35},"generated":{"line":1,"column":1167}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":145,"column":39},"generated":{"line":1,"column":1169}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"BIG_ENDIAN","original":{"line":145,"column":42},"generated":{"line":1,"column":1171}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"width","original":{"line":146,"column":8},"generated":{"line":1,"column":1174}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":146,"column":15},"generated":{"line":1,"column":1180}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint16","original":{"line":146,"column":24},"generated":{"line":1,"column":1182}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"i","original":{"line":146,"column":34},"generated":{"line":1,"column":1192}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":146,"column":38},"generated":{"line":1,"column":1194}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"BIG_ENDIAN","original":{"line":146,"column":41},"generated":{"line":1,"column":1196}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":151,"column":4},"generated":{"line":1,"column":1200}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"tableMarkers","original":{"line":151,"column":9},"generated":{"line":1,"column":1204}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"has","original":{"line":151,"column":22},"generated":{"line":1,"column":1206}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"marker","original":{"line":151,"column":26},"generated":{"line":1,"column":1210}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":152,"column":6},"generated":{"line":1,"column":1213}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":152,"column":13},"generated":{"line":1,"column":1220}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"i","original":{"line":156,"column":4},"generated":{"line":1,"column":1225}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":156,"column":9},"generated":{"line":1,"column":1228}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"i","original":{"line":157,"column":4},"generated":{"line":1,"column":1230}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"dataView","original":{"line":157,"column":9},"generated":{"line":1,"column":1233}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getUint16","original":{"line":157,"column":18},"generated":{"line":1,"column":1235}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"i","original":{"line":157,"column":28},"generated":{"line":1,"column":1245}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"BIG_ENDIAN","original":{"line":157,"column":31},"generated":{"line":1,"column":1247}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":160,"column":2},"generated":{"line":1,"column":1250}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":160,"column":9},"generated":{"line":1,"column":1257}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":163,"column":0},"generated":{"line":1,"column":1262}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"getJpegMarkers","original":{"line":163,"column":9},"generated":{"line":1,"column":1271}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":166,"column":2},"generated":{"line":1,"column":1275}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"tableMarkers","original":{"line":166,"column":8},"generated":{"line":1,"column":1281}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":166,"column":23},"generated":{"line":1,"column":1283}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"Set","original":{"line":166,"column":27},"generated":{"line":1,"column":1287}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":166,"column":31},"generated":{"line":1,"column":1291}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":166,"column":32},"generated":{"line":1,"column":1292}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":166,"column":40},"generated":{"line":1,"column":1298}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":166,"column":48},"generated":{"line":1,"column":1304}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":166,"column":56},"generated":{"line":1,"column":1310}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":166,"column":64},"generated":{"line":1,"column":1316}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":167,"column":2},"generated":{"line":1,"column":1324}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":167,"column":7},"generated":{"line":1,"column":1328}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"i","original":{"line":167,"column":11},"generated":{"line":1,"column":1332}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":167,"column":15},"generated":{"line":1,"column":1334}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"i","original":{"line":167,"column":23},"generated":{"line":1,"column":1340}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":167,"column":27},"generated":{"line":1,"column":1342}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"i","original":{"line":167,"column":37},"generated":{"line":1,"column":1350}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"tableMarkers","original":{"line":168,"column":4},"generated":{"line":1,"column":1352}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"add","original":{"line":168,"column":17},"generated":{"line":1,"column":1354}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"i","original":{"line":168,"column":21},"generated":{"line":1,"column":1358}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":178,"column":2},"generated":{"line":1,"column":1361}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":178,"column":9},"generated":{"line":1,"column":1367}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"tableMarkers","original":{"line":178,"column":10},"generated":{"line":1,"column":1368}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"tableMarkers","original":{"line":178,"column":10},"generated":{"line":1,"column":1381}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"sofMarkers","original":{"line":178,"column":24},"generated":{"line":1,"column":1383}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":173,"column":21},"generated":{"line":1,"column":1394}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"Set","original":{"line":173,"column":25},"generated":{"line":1,"column":1398}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":173,"column":29},"generated":{"line":1,"column":1402}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":174,"column":4},"generated":{"line":1,"column":1403}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":174,"column":12},"generated":{"line":1,"column":1409}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":174,"column":20},"generated":{"line":1,"column":1415}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":174,"column":28},"generated":{"line":1,"column":1421}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":174,"column":36},"generated":{"line":1,"column":1427}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":174,"column":44},"generated":{"line":1,"column":1433}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":174,"column":52},"generated":{"line":1,"column":1439}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":174,"column":60},"generated":{"line":1,"column":1445}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":174,"column":68},"generated":{"line":1,"column":1451}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":174,"column":76},"generated":{"line":1,"column":1457}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":174,"column":84},"generated":{"line":1,"column":1463}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":174,"column":92},"generated":{"line":1,"column":1469}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":175,"column":4},"generated":{"line":1,"column":1475}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":175,"column":12},"generated":{"line":1,"column":1481}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":182,"column":0},"generated":{"line":1,"column":1490}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"toDataView","original":{"line":182,"column":9},"generated":{"line":1,"column":1499}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"data","original":{"line":182,"column":20},"generated":{"line":1,"column":1501}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":183,"column":2},"generated":{"line":1,"column":1504}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"data","original":{"line":183,"column":6},"generated":{"line":1,"column":1507}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"DataView","original":{"line":183,"column":22},"generated":{"line":1,"column":1520}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":184,"column":4},"generated":{"line":1,"column":1529}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"data","original":{"line":184,"column":11},"generated":{"line":1,"column":1536}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":186,"column":2},"generated":{"line":1,"column":1538}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"ArrayBuffer","original":{"line":186,"column":6},"generated":{"line":1,"column":1541}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"isView","original":{"line":186,"column":18},"generated":{"line":1,"column":1553}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"data","original":{"line":186,"column":25},"generated":{"line":1,"column":1560}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":187,"column":4},"generated":{"line":1,"column":1563}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":187,"column":11},"generated":{"line":1,"column":1570}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"DataView","original":{"line":187,"column":15},"generated":{"line":1,"column":1574}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"data","original":{"line":187,"column":24},"generated":{"line":1,"column":1583}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"buffer","original":{"line":187,"column":29},"generated":{"line":1,"column":1585}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":196,"column":2},"generated":{"line":1,"column":1593}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"data","original":{"line":196,"column":6},"generated":{"line":1,"column":1596}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"ArrayBuffer","original":{"line":196,"column":22},"generated":{"line":1,"column":1609}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":197,"column":4},"generated":{"line":1,"column":1621}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":197,"column":11},"generated":{"line":1,"column":1628}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"DataView","original":{"line":197,"column":15},"generated":{"line":1,"column":1632}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"data","original":{"line":197,"column":24},"generated":{"line":1,"column":1641}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":199,"column":2},"generated":{"line":1,"column":1644}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":199,"column":8},"generated":{"line":1,"column":1650}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":"Error","original":{"line":199,"column":12},"generated":{"line":1,"column":1654}},{"source":"../../../../src/lib/category-api/binary-image-api.ts","name":null,"original":{"line":199,"column":18},"generated":{"line":1,"column":1660}}],"sources":{"../../../../src/lib/category-api/binary-image-api.ts":"// Attributions\n// * Based on binary-gltf-utils under MIT license: Copyright (c) 2016-17 Karl Cheng\n\n// TODO: make these functions work for Node.js buffers?\n// Quarantine references to Buffer to prevent bundler from adding big polyfills\n// import {bufferToArrayBuffer} from '../node/buffer-to-array-buffer';\n// TODO - this should be handled in @loaders.gl/polyfills\n\nimport {getISOBMFFMediaType} from './parse-isobmff-binary';\n\n/** MIME type, width and height extracted from binary compressed image data */\nexport type BinaryImageMetadata = {\n  mimeType: string;\n  width: number;\n  height: number;\n};\n\nconst BIG_ENDIAN = false;\nconst LITTLE_ENDIAN = true;\n\n/**\n * Extracts `{mimeType, width and height}` from a memory buffer containing a known image format\n * Currently supports `image/png`, `image/jpeg`, `image/bmp` and `image/gif`.\n * @param binaryData: DataView | ArrayBuffer image file memory to parse\n * @returns metadata or null if memory is not a valid image file format layout.\n */\nexport function getBinaryImageMetadata(\n  binaryData: DataView | ArrayBuffer\n): BinaryImageMetadata | null {\n  const dataView = toDataView(binaryData);\n  return (\n    getPngMetadata(dataView) ||\n    getJpegMetadata(dataView) ||\n    getGifMetadata(dataView) ||\n    getBmpMetadata(dataView) ||\n    getISOBMFFMetadata(dataView)\n  );\n}\n\n// ISOBMFF\n\nfunction getISOBMFFMetadata(binaryData: DataView | ArrayBuffer): BinaryImageMetadata | null {\n  const buffer = new Uint8Array(binaryData instanceof DataView ? binaryData.buffer : binaryData);\n  const mediaType = getISOBMFFMediaType(buffer);\n  if (!mediaType) {\n    return null;\n  }\n  return {\n    mimeType: mediaType.mimeType,\n    // TODO - decode width and height\n    width: 0,\n    height: 0\n  };\n}\n\n// PNG\n\nfunction getPngMetadata(binaryData: DataView | ArrayBuffer): BinaryImageMetadata | null {\n  const dataView = toDataView(binaryData);\n  // Check file contains the first 4 bytes of the PNG signature.\n  const isPng = dataView.byteLength >= 24 && dataView.getUint32(0, BIG_ENDIAN) === 0x89504e47;\n  if (!isPng) {\n    return null;\n  }\n\n  // Extract size from a binary PNG file\n  return {\n    mimeType: 'image/png',\n    width: dataView.getUint32(16, BIG_ENDIAN),\n    height: dataView.getUint32(20, BIG_ENDIAN)\n  };\n}\n\n// GIF\n\n// Extract size from a binary GIF file\n// TODO: GIF is not this simple\nfunction getGifMetadata(binaryData: DataView | ArrayBuffer): BinaryImageMetadata | null {\n  const dataView = toDataView(binaryData);\n  // Check first 4 bytes of the GIF signature (\"GIF8\").\n  const isGif = dataView.byteLength >= 10 && dataView.getUint32(0, BIG_ENDIAN) === 0x47494638;\n  if (!isGif) {\n    return null;\n  }\n\n  // GIF is little endian.\n  return {\n    mimeType: 'image/gif',\n    width: dataView.getUint16(6, LITTLE_ENDIAN),\n    height: dataView.getUint16(8, LITTLE_ENDIAN)\n  };\n}\n\n// BMP\n\n// TODO: BMP is not this simple\nexport function getBmpMetadata(binaryData: DataView | ArrayBuffer): BinaryImageMetadata | null {\n  const dataView = toDataView(binaryData);\n  // Check magic number is valid (first 2 characters should be \"BM\").\n  // The mandatory bitmap file header is 14 bytes long.\n  const isBmp =\n    dataView.byteLength >= 14 &&\n    dataView.getUint16(0, BIG_ENDIAN) === 0x424d &&\n    dataView.getUint32(2, LITTLE_ENDIAN) === dataView.byteLength;\n\n  if (!isBmp) {\n    return null;\n  }\n\n  // BMP is little endian.\n  return {\n    mimeType: 'image/bmp',\n    width: dataView.getUint32(18, LITTLE_ENDIAN),\n    height: dataView.getUint32(22, LITTLE_ENDIAN)\n  };\n}\n\n// JPEG\n\n// Extract width and height from a binary JPEG file\nfunction getJpegMetadata(binaryData: DataView | ArrayBuffer): BinaryImageMetadata | null {\n  const dataView = toDataView(binaryData);\n  // Check file contains the JPEG \"start of image\" (SOI) marker\n  // followed by another marker.\n  const isJpeg =\n    dataView.byteLength >= 3 &&\n    dataView.getUint16(0, BIG_ENDIAN) === 0xffd8 &&\n    dataView.getUint8(2) === 0xff;\n\n  if (!isJpeg) {\n    return null;\n  }\n\n  const {tableMarkers, sofMarkers} = getJpegMarkers();\n\n  // Exclude the two byte SOI marker.\n  let i = 2;\n  while (i + 9 < dataView.byteLength) {\n    const marker = dataView.getUint16(i, BIG_ENDIAN);\n\n    // The frame that contains the width and height of the JPEG image.\n    if (sofMarkers.has(marker)) {\n      return {\n        mimeType: 'image/jpeg',\n        height: dataView.getUint16(i + 5, BIG_ENDIAN), // Number of lines\n        width: dataView.getUint16(i + 7, BIG_ENDIAN) // Number of pixels per line\n      };\n    }\n\n    // Miscellaneous tables/data preceding the frame header.\n    if (!tableMarkers.has(marker)) {\n      return null;\n    }\n\n    // Length includes size of length parameter but not the two byte header.\n    i += 2;\n    i += dataView.getUint16(i, BIG_ENDIAN);\n  }\n\n  return null;\n}\n\nfunction getJpegMarkers() {\n  // Tables/misc header markers.\n  // DQT, DHT, DAC, DRI, COM, APP_n\n  const tableMarkers = new Set([0xffdb, 0xffc4, 0xffcc, 0xffdd, 0xfffe]);\n  for (let i = 0xffe0; i < 0xfff0; ++i) {\n    tableMarkers.add(i);\n  }\n\n  // SOF markers and DHP marker.\n  // These markers are after tables/misc data.\n  const sofMarkers = new Set([\n    0xffc0, 0xffc1, 0xffc2, 0xffc3, 0xffc5, 0xffc6, 0xffc7, 0xffc9, 0xffca, 0xffcb, 0xffcd, 0xffce,\n    0xffcf, 0xffde\n  ]);\n\n  return {tableMarkers, sofMarkers};\n}\n\n// TODO - move into image module?\nfunction toDataView(data) {\n  if (data instanceof DataView) {\n    return data;\n  }\n  if (ArrayBuffer.isView(data)) {\n    return new DataView(data.buffer);\n  }\n\n  // TODO: make these functions work for Node.js buffers?\n  // if (bufferToArrayBuffer) {\n  //   data = bufferToArrayBuffer(data);\n  // }\n\n  // Careful - Node Buffers will look like ArrayBuffers (keep after isBuffer)\n  if (data instanceof ArrayBuffer) {\n    return new DataView(data);\n  }\n  throw new Error('toDataView');\n}\n"},"lineCount":null}},"error":null,"hash":"d7adc5365441a262bfc8622240c941ae","cacheData":{"env":{}}}