{"id":"YiDX","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/dist/esm/polygon.js.map","includedInParent":true,"mtime":1688284133040},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/package.json","includedInParent":true,"mtime":1688284133040},{"name":"@babel/runtime/helpers/esm/defineProperty","loc":{"line":1,"column":28,"index":28},"parent":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/dist/esm/polygon.js","resolved":"/project/deck-gl-examples-01/node_modules/@babel/runtime/helpers/esm/defineProperty.js"},{"name":"@math.gl/core","loc":{"line":2,"column":24,"index":97},"parent":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/dist/esm/polygon.js","resolved":"/project/deck-gl-examples-01/node_modules/@math.gl/core/dist/esm/index.js"},{"name":"./polygon-utils","loc":{"line":3,"column":189,"index":303},"parent":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/dist/esm/polygon.js","resolved":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/dist/esm/polygon-utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=s(require(\"@babel/runtime/helpers/esm/defineProperty\")),i=require(\"@math.gl/core\"),e=require(\"./polygon-utils\");function s(t){return t&&t.__esModule?t:{default:t}}class o{constructor(e,s={}){(0,t.default)(this,\"points\",void 0),(0,t.default)(this,\"isFlatArray\",void 0),(0,t.default)(this,\"options\",void 0),this.points=e,this.isFlatArray=!(0,i.isArray)(e[0]),this.options={start:s.start||0,end:s.end||e.length,size:s.size||2,isClosed:s.isClosed},Object.freeze(this)}getSignedArea(){return this.isFlatArray?(0,e.getPolygonSignedArea)(this.points,this.options):(0,e.getPolygonSignedAreaPoints)(this.points,this.options)}getArea(){return Math.abs(this.getSignedArea())}getWindingDirection(){return Math.sign(this.getSignedArea())}forEachSegment(t){this.isFlatArray?(0,e.forEachSegmentInPolygon)(this.points,(i,e,s,o,n,r)=>{t([i,e],[s,o],n,r)},this.options):(0,e.forEachSegmentInPolygonPoints)(this.points,t,this.options)}modifyWindingDirection(t){return this.isFlatArray?(0,e.modifyPolygonWindingDirection)(this.points,t,this.options):(0,e.modifyPolygonWindingDirectionPoints)(this.points,t,this.options)}}exports.default=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":0}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":13}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":20}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":35}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":43}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":56}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":57}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":64}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":68}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":76}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":89}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":91}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":95}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":97}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":99}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":107}},{"source":"../../src/polygon.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":153}},{"source":"../../src/polygon.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":155}},{"source":"../../src/polygon.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":163}},{"source":"../../src/polygon.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":180}},{"source":"../../src/polygon.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":182}},{"source":"../../src/polygon.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":190}},{"source":"../../src/polygon.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":209}},{"source":"../../src/polygon.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":218}},{"source":"../../src/polygon.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":220}},{"source":"../../src/polygon.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":223}},{"source":"../../src/polygon.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":230}},{"source":"../../src/polygon.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":233}},{"source":"../../src/polygon.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":235}},{"source":"../../src/polygon.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":246}},{"source":"../../src/polygon.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":248}},{"source":"../../src/polygon.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":249}},{"source":"../../src/polygon.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":257}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":15},"generated":{"line":1,"column":260}},{"source":"../../src/polygon.ts","name":"Polygon","original":{"line":22,"column":21},"generated":{"line":1,"column":266}},{"source":"../../src/polygon.ts","name":"constructor","original":{"line":27,"column":2},"generated":{"line":1,"column":268}},{"source":"../../src/polygon.ts","name":"points","original":{"line":27,"column":14},"generated":{"line":1,"column":280}},{"source":"../../src/polygon.ts","name":"options","original":{"line":27,"column":49},"generated":{"line":1,"column":282}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":75},"generated":{"line":1,"column":284}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":289}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":291}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":293}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":302}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":307}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":321}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":325}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":327}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":329}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":338}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":343}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":362}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":366}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":368}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":370}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":379}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":384}},{"source":"../../src/polygon.ts","name":null,"original":{"line":27,"column":79},"generated":{"line":1,"column":399}},{"source":"../../src/polygon.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":402}},{"source":"../../src/polygon.ts","name":"points","original":{"line":28,"column":9},"generated":{"line":1,"column":407}},{"source":"../../src/polygon.ts","name":"points","original":{"line":28,"column":18},"generated":{"line":1,"column":414}},{"source":"../../src/polygon.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":416}},{"source":"../../src/polygon.ts","name":"isFlatArray","original":{"line":29,"column":9},"generated":{"line":1,"column":421}},{"source":"../../src/polygon.ts","name":"isArray","original":{"line":29,"column":24},"generated":{"line":1,"column":435}},{"source":"../../src/polygon.ts","name":"isArray","original":{"line":29,"column":24},"generated":{"line":1,"column":437}},{"source":"../../src/polygon.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":1,"column":439}},{"source":"../../src/polygon.ts","name":"points","original":{"line":29,"column":32},"generated":{"line":1,"column":448}},{"source":"../../src/polygon.ts","name":null,"original":{"line":29,"column":39},"generated":{"line":1,"column":450}},{"source":"../../src/polygon.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":454}},{"source":"../../src/polygon.ts","name":"options","original":{"line":31,"column":9},"generated":{"line":1,"column":459}},{"source":"../../src/polygon.ts","name":null,"original":{"line":31,"column":19},"generated":{"line":1,"column":467}},{"source":"../../src/polygon.ts","name":"start","original":{"line":32,"column":6},"generated":{"line":1,"column":468}},{"source":"../../src/polygon.ts","name":"options","original":{"line":32,"column":13},"generated":{"line":1,"column":474}},{"source":"../../src/polygon.ts","name":"start","original":{"line":32,"column":21},"generated":{"line":1,"column":476}},{"source":"../../src/polygon.ts","name":null,"original":{"line":32,"column":30},"generated":{"line":1,"column":483}},{"source":"../../src/polygon.ts","name":"end","original":{"line":33,"column":6},"generated":{"line":1,"column":485}},{"source":"../../src/polygon.ts","name":"options","original":{"line":33,"column":11},"generated":{"line":1,"column":489}},{"source":"../../src/polygon.ts","name":"end","original":{"line":33,"column":19},"generated":{"line":1,"column":491}},{"source":"../../src/polygon.ts","name":"points","original":{"line":33,"column":26},"generated":{"line":1,"column":496}},{"source":"../../src/polygon.ts","name":"length","original":{"line":33,"column":33},"generated":{"line":1,"column":498}},{"source":"../../src/polygon.ts","name":"size","original":{"line":34,"column":6},"generated":{"line":1,"column":505}},{"source":"../../src/polygon.ts","name":"options","original":{"line":34,"column":12},"generated":{"line":1,"column":510}},{"source":"../../src/polygon.ts","name":"size","original":{"line":34,"column":20},"generated":{"line":1,"column":512}},{"source":"../../src/polygon.ts","name":null,"original":{"line":34,"column":28},"generated":{"line":1,"column":518}},{"source":"../../src/polygon.ts","name":"isClosed","original":{"line":35,"column":6},"generated":{"line":1,"column":520}},{"source":"../../src/polygon.ts","name":"options","original":{"line":35,"column":16},"generated":{"line":1,"column":529}},{"source":"../../src/polygon.ts","name":"isClosed","original":{"line":35,"column":24},"generated":{"line":1,"column":531}},{"source":"../../src/polygon.ts","name":"Object","original":{"line":38,"column":4},"generated":{"line":1,"column":541}},{"source":"../../src/polygon.ts","name":"freeze","original":{"line":38,"column":11},"generated":{"line":1,"column":548}},{"source":"../../src/polygon.ts","name":null,"original":{"line":38,"column":18},"generated":{"line":1,"column":555}},{"source":"../../src/polygon.ts","name":"getSignedArea","original":{"line":45,"column":2},"generated":{"line":1,"column":561}},{"source":"../../src/polygon.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":1,"column":577}},{"source":"../../src/polygon.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":584}},{"source":"../../src/polygon.ts","name":"isFlatArray","original":{"line":46,"column":13},"generated":{"line":1,"column":589}},{"source":"../../src/polygon.ts","name":"getPolygonSignedArea","original":{"line":46,"column":33},"generated":{"line":1,"column":602}},{"source":"../../src/polygon.ts","name":"getPolygonSignedArea","original":{"line":46,"column":33},"generated":{"line":1,"column":604}},{"source":"../../src/polygon.ts","name":null,"original":{"line":46,"column":53},"generated":{"line":1,"column":606}},{"source":"../../src/polygon.ts","name":null,"original":{"line":46,"column":54},"generated":{"line":1,"column":628}},{"source":"../../src/polygon.ts","name":"points","original":{"line":46,"column":59},"generated":{"line":1,"column":633}},{"source":"../../src/polygon.ts","name":null,"original":{"line":46,"column":83},"generated":{"line":1,"column":640}},{"source":"../../src/polygon.ts","name":"options","original":{"line":46,"column":88},"generated":{"line":1,"column":645}},{"source":"../../src/polygon.ts","name":"getPolygonSignedAreaPoints","original":{"line":48,"column":11},"generated":{"line":1,"column":655}},{"source":"../../src/polygon.ts","name":"getPolygonSignedAreaPoints","original":{"line":48,"column":11},"generated":{"line":1,"column":657}},{"source":"../../src/polygon.ts","name":null,"original":{"line":48,"column":37},"generated":{"line":1,"column":659}},{"source":"../../src/polygon.ts","name":null,"original":{"line":48,"column":38},"generated":{"line":1,"column":687}},{"source":"../../src/polygon.ts","name":"points","original":{"line":48,"column":43},"generated":{"line":1,"column":692}},{"source":"../../src/polygon.ts","name":null,"original":{"line":48,"column":65},"generated":{"line":1,"column":699}},{"source":"../../src/polygon.ts","name":"options","original":{"line":48,"column":70},"generated":{"line":1,"column":704}},{"source":"../../src/polygon.ts","name":"getArea","original":{"line":55,"column":2},"generated":{"line":1,"column":713}},{"source":"../../src/polygon.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":1,"column":723}},{"source":"../../src/polygon.ts","name":"Math","original":{"line":56,"column":11},"generated":{"line":1,"column":730}},{"source":"../../src/polygon.ts","name":"abs","original":{"line":56,"column":16},"generated":{"line":1,"column":735}},{"source":"../../src/polygon.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":1,"column":739}},{"source":"../../src/polygon.ts","name":"getSignedArea","original":{"line":56,"column":25},"generated":{"line":1,"column":744}},{"source":"../../src/polygon.ts","name":"getWindingDirection","original":{"line":63,"column":2},"generated":{"line":1,"column":761}},{"source":"../../src/polygon.ts","name":null,"original":{"line":64,"column":4},"generated":{"line":1,"column":783}},{"source":"../../src/polygon.ts","name":"Math","original":{"line":64,"column":11},"generated":{"line":1,"column":790}},{"source":"../../src/polygon.ts","name":"sign","original":{"line":64,"column":16},"generated":{"line":1,"column":795}},{"source":"../../src/polygon.ts","name":null,"original":{"line":64,"column":21},"generated":{"line":1,"column":800}},{"source":"../../src/polygon.ts","name":"getSignedArea","original":{"line":64,"column":26},"generated":{"line":1,"column":805}},{"source":"../../src/polygon.ts","name":"forEachSegment","original":{"line":71,"column":2},"generated":{"line":1,"column":822}},{"source":"../../src/polygon.ts","name":"visitor","original":{"line":71,"column":17},"generated":{"line":1,"column":837}},{"source":"../../src/polygon.ts","name":null,"original":{"line":72,"column":8},"generated":{"line":1,"column":840}},{"source":"../../src/polygon.ts","name":"isFlatArray","original":{"line":72,"column":13},"generated":{"line":1,"column":845}},{"source":"../../src/polygon.ts","name":"forEachSegmentInPolygon","original":{"line":73,"column":6},"generated":{"line":1,"column":858}},{"source":"../../src/polygon.ts","name":"forEachSegmentInPolygon","original":{"line":73,"column":6},"generated":{"line":1,"column":860}},{"source":"../../src/polygon.ts","name":null,"original":{"line":73,"column":29},"generated":{"line":1,"column":862}},{"source":"../../src/polygon.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":887}},{"source":"../../src/polygon.ts","name":"points","original":{"line":74,"column":13},"generated":{"line":1,"column":892}},{"source":"../../src/polygon.ts","name":null,"original":{"line":76,"column":8},"generated":{"line":1,"column":899}},{"source":"../../src/polygon.ts","name":"x1","original":{"line":76,"column":9},"generated":{"line":1,"column":900}},{"source":"../../src/polygon.ts","name":"y1","original":{"line":76,"column":13},"generated":{"line":1,"column":902}},{"source":"../../src/polygon.ts","name":"x2","original":{"line":76,"column":17},"generated":{"line":1,"column":904}},{"source":"../../src/polygon.ts","name":"y2","original":{"line":76,"column":21},"generated":{"line":1,"column":906}},{"source":"../../src/polygon.ts","name":"i1","original":{"line":76,"column":25},"generated":{"line":1,"column":908}},{"source":"../../src/polygon.ts","name":"i2","original":{"line":76,"column":29},"generated":{"line":1,"column":910}},{"source":"../../src/polygon.ts","name":"visitor","original":{"line":78,"column":10},"generated":{"line":1,"column":915}},{"source":"../../src/polygon.ts","name":null,"original":{"line":78,"column":18},"generated":{"line":1,"column":917}},{"source":"../../src/polygon.ts","name":"x1","original":{"line":78,"column":19},"generated":{"line":1,"column":918}},{"source":"../../src/polygon.ts","name":"y1","original":{"line":78,"column":23},"generated":{"line":1,"column":920}},{"source":"../../src/polygon.ts","name":null,"original":{"line":78,"column":28},"generated":{"line":1,"column":923}},{"source":"../../src/polygon.ts","name":"x2","original":{"line":78,"column":29},"generated":{"line":1,"column":924}},{"source":"../../src/polygon.ts","name":"y2","original":{"line":78,"column":33},"generated":{"line":1,"column":926}},{"source":"../../src/polygon.ts","name":"i1","original":{"line":78,"column":38},"generated":{"line":1,"column":929}},{"source":"../../src/polygon.ts","name":"i2","original":{"line":78,"column":42},"generated":{"line":1,"column":931}},{"source":"../../src/polygon.ts","name":null,"original":{"line":80,"column":8},"generated":{"line":1,"column":935}},{"source":"../../src/polygon.ts","name":"options","original":{"line":80,"column":13},"generated":{"line":1,"column":940}},{"source":"../../src/polygon.ts","name":"forEachSegmentInPolygonPoints","original":{"line":83,"column":6},"generated":{"line":1,"column":950}},{"source":"../../src/polygon.ts","name":"forEachSegmentInPolygonPoints","original":{"line":83,"column":6},"generated":{"line":1,"column":952}},{"source":"../../src/polygon.ts","name":null,"original":{"line":83,"column":35},"generated":{"line":1,"column":954}},{"source":"../../src/polygon.ts","name":null,"original":{"line":83,"column":36},"generated":{"line":1,"column":985}},{"source":"../../src/polygon.ts","name":"points","original":{"line":83,"column":41},"generated":{"line":1,"column":990}},{"source":"../../src/polygon.ts","name":"visitor","original":{"line":83,"column":63},"generated":{"line":1,"column":997}},{"source":"../../src/polygon.ts","name":null,"original":{"line":83,"column":72},"generated":{"line":1,"column":999}},{"source":"../../src/polygon.ts","name":"options","original":{"line":83,"column":77},"generated":{"line":1,"column":1004}},{"source":"../../src/polygon.ts","name":"modifyWindingDirection","original":{"line":92,"column":2},"generated":{"line":1,"column":1013}},{"source":"../../src/polygon.ts","name":"direction","original":{"line":92,"column":25},"generated":{"line":1,"column":1036}},{"source":"../../src/polygon.ts","name":null,"original":{"line":93,"column":4},"generated":{"line":1,"column":1039}},{"source":"../../src/polygon.ts","name":null,"original":{"line":93,"column":8},"generated":{"line":1,"column":1046}},{"source":"../../src/polygon.ts","name":"isFlatArray","original":{"line":93,"column":13},"generated":{"line":1,"column":1051}},{"source":"../../src/polygon.ts","name":"modifyPolygonWindingDirection","original":{"line":94,"column":13},"generated":{"line":1,"column":1064}},{"source":"../../src/polygon.ts","name":"modifyPolygonWindingDirection","original":{"line":94,"column":13},"generated":{"line":1,"column":1066}},{"source":"../../src/polygon.ts","name":null,"original":{"line":94,"column":42},"generated":{"line":1,"column":1068}},{"source":"../../src/polygon.ts","name":null,"original":{"line":94,"column":43},"generated":{"line":1,"column":1099}},{"source":"../../src/polygon.ts","name":"points","original":{"line":94,"column":48},"generated":{"line":1,"column":1104}},{"source":"../../src/polygon.ts","name":"direction","original":{"line":94,"column":72},"generated":{"line":1,"column":1111}},{"source":"../../src/polygon.ts","name":null,"original":{"line":94,"column":83},"generated":{"line":1,"column":1113}},{"source":"../../src/polygon.ts","name":"options","original":{"line":94,"column":88},"generated":{"line":1,"column":1118}},{"source":"../../src/polygon.ts","name":"modifyPolygonWindingDirectionPoints","original":{"line":96,"column":11},"generated":{"line":1,"column":1128}},{"source":"../../src/polygon.ts","name":"modifyPolygonWindingDirectionPoints","original":{"line":96,"column":11},"generated":{"line":1,"column":1130}},{"source":"../../src/polygon.ts","name":null,"original":{"line":96,"column":46},"generated":{"line":1,"column":1132}},{"source":"../../src/polygon.ts","name":null,"original":{"line":96,"column":47},"generated":{"line":1,"column":1169}},{"source":"../../src/polygon.ts","name":"points","original":{"line":96,"column":52},"generated":{"line":1,"column":1174}},{"source":"../../src/polygon.ts","name":"direction","original":{"line":96,"column":74},"generated":{"line":1,"column":1181}},{"source":"../../src/polygon.ts","name":null,"original":{"line":96,"column":85},"generated":{"line":1,"column":1183}},{"source":"../../src/polygon.ts","name":"options","original":{"line":96,"column":90},"generated":{"line":1,"column":1188}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":1198}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":1206}},{"source":"../../src/polygon.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":1214}}],"sources":{"../../src/polygon.ts":"/* eslint-disable no-undef, no-console */\nimport {isArray} from '@math.gl/core';\nimport type {SegmentVisitorPoints} from './polygon-utils';\nimport type {NumericArray} from '@math.gl/core';\n\nimport {\n  getPolygonSignedArea,\n  forEachSegmentInPolygon,\n  modifyPolygonWindingDirection,\n  getPolygonSignedAreaPoints,\n  forEachSegmentInPolygonPoints,\n  modifyPolygonWindingDirectionPoints\n} from './polygon-utils';\n\nexport type PolygonOptions = {\n  start?: number;\n  end?: number;\n  size?: number;\n  isClosed?: boolean;\n};\n\nexport default class Polygon {\n  points: NumericArray | number[][];\n  isFlatArray: boolean;\n  options: PolygonOptions;\n\n  constructor(points: NumericArray | number[][], options: PolygonOptions = {}) {\n    this.points = points;\n    this.isFlatArray = !isArray(points[0]);\n\n    this.options = {\n      start: options.start || 0,\n      end: options.end || points.length,\n      size: options.size || 2,\n      isClosed: options.isClosed\n    };\n\n    Object.freeze(this);\n  }\n\n  /**\n   * Returns signed area of the polygon.\n   * @returns Signed area of the polygon.\n   */\n  getSignedArea(): number {\n    if (this.isFlatArray) return getPolygonSignedArea(this.points as NumericArray, this.options);\n\n    return getPolygonSignedAreaPoints(this.points as number[][], this.options);\n  }\n\n  /**\n   * Returns absolute area of the polygon.\n   * @returns Absolute area of the polygon.\n   */\n  getArea(): number {\n    return Math.abs(this.getSignedArea());\n  }\n\n  /**\n   * Returns winding direction of the polygon.\n   * @returns Winding direction of the polygon. 1 is for clockwise, -1 for counterclockwise winding direction.\n   */\n  getWindingDirection(): number {\n    return Math.sign(this.getSignedArea());\n  }\n\n  /**\n   * Calls the visitor callback for each segment in the polygon.\n   * @param visitor A callback to call for each segment.\n   */\n  forEachSegment(visitor: SegmentVisitorPoints): void {\n    if (this.isFlatArray) {\n      forEachSegmentInPolygon(\n        this.points as NumericArray,\n        // eslint-disable-next-line max-params\n        (x1, y1, x2, y2, i1, i2) => {\n          // TODO @igorDykhta original visitor uses arrays for each point, but with flat arrays performance degrades if we allocate points for each segment\n          visitor([x1, y1], [x2, y2], i1, i2);\n        },\n        this.options\n      );\n    } else {\n      forEachSegmentInPolygonPoints(this.points as number[][], visitor, this.options);\n    }\n  }\n\n  /**\n   * Checks winding direction of the polygon and reverses the polygon in case of opposite winding direction.\n   * @param direction Requested winding direction. 1 is for clockwise, -1 for counterclockwise winding direction.\n   * @return Returns true if the winding direction was changed.\n   */\n  modifyWindingDirection(direction: number): boolean {\n    if (this.isFlatArray) {\n      return modifyPolygonWindingDirection(this.points as NumericArray, direction, this.options);\n    }\n    return modifyPolygonWindingDirectionPoints(this.points as number[][], direction, this.options);\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"5969c429c881df3594bf1350b96d939e","cacheData":{"env":{}}}