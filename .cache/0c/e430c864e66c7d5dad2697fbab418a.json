{"id":"C8HI","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/load-in-batches.js.map","includedInParent":true,"mtime":1688284130527},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/package.json","includedInParent":true,"mtime":1688284130527},{"name":"../loader-utils/normalize-loader","loc":{"line":1,"column":31,"index":31},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/load-in-batches.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/normalize-loader.js"},{"name":"../loader-utils/get-fetch-function","loc":{"line":2,"column":33,"index":100},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/load-in-batches.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/get-fetch-function.js"},{"name":"./parse-in-batches","loc":{"line":3,"column":31,"index":169},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/load-in-batches.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/parse-in-batches.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.loadInBatches=a;var e=require(\"../loader-utils/normalize-loader\"),r=require(\"../loader-utils/get-fetch-function\"),t=require(\"./parse-in-batches\");function a(t,a,n,s){Array.isArray(a)||(0,e.isLoaderObject)(a)||(void 0,n=a,a=null);const o=(0,r.getFetchFunction)(n||{});return Array.isArray(t)?t.map(e=>i(e,a,n,o)):i(t,a,n,o)}async function i(e,r,a,i){if(\"string\"==typeof e){const n=e,s=await i(n);return await(0,t.parseInBatches)(s,r,a)}return await(0,t.parseInBatches)(e,r,a)}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":90}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":92}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":96}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":98}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":106}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":142}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":144}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":152}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":190}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":192}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":200}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":222}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"loadInBatches","original":{"line":30,"column":16},"generated":{"line":1,"column":231}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"files","original":{"line":30,"column":30},"generated":{"line":1,"column":233}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"loaders","original":{"line":30,"column":37},"generated":{"line":1,"column":235}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"options","original":{"line":30,"column":46},"generated":{"line":1,"column":237}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"context","original":{"line":30,"column":55},"generated":{"line":1,"column":239}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"Array","original":{"line":32,"column":7},"generated":{"line":1,"column":242}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"isArray","original":{"line":32,"column":13},"generated":{"line":1,"column":248}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"loaders","original":{"line":32,"column":21},"generated":{"line":1,"column":256}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"isLoaderObject","original":{"line":32,"column":34},"generated":{"line":1,"column":261}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"isLoaderObject","original":{"line":32,"column":34},"generated":{"line":1,"column":263}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":32,"column":48},"generated":{"line":1,"column":265}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"loaders","original":{"line":32,"column":49},"generated":{"line":1,"column":281}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"undefined","original":{"line":33,"column":14},"generated":{"line":1,"column":291}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"options","original":{"line":34,"column":4},"generated":{"line":1,"column":293}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"loaders","original":{"line":34,"column":14},"generated":{"line":1,"column":295}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"loaders","original":{"line":35,"column":4},"generated":{"line":1,"column":297}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":35,"column":14},"generated":{"line":1,"column":299}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":305}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"fetch","original":{"line":39,"column":8},"generated":{"line":1,"column":311}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"getFetchFunction","original":{"line":39,"column":16},"generated":{"line":1,"column":314}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"getFetchFunction","original":{"line":39,"column":16},"generated":{"line":1,"column":316}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":39,"column":32},"generated":{"line":1,"column":318}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"options","original":{"line":39,"column":33},"generated":{"line":1,"column":336}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":39,"column":44},"generated":{"line":1,"column":339}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":343}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"Array","original":{"line":42,"column":7},"generated":{"line":1,"column":350}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"isArray","original":{"line":42,"column":13},"generated":{"line":1,"column":356}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"files","original":{"line":42,"column":21},"generated":{"line":1,"column":364}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"files","original":{"line":47,"column":19},"generated":{"line":1,"column":367}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"map","original":{"line":47,"column":25},"generated":{"line":1,"column":369}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"file","original":{"line":47,"column":30},"generated":{"line":1,"column":373}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"loadOneFileInBatches","original":{"line":47,"column":39},"generated":{"line":1,"column":376}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"file","original":{"line":47,"column":60},"generated":{"line":1,"column":378}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"loaders","original":{"line":47,"column":66},"generated":{"line":1,"column":380}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"options","original":{"line":47,"column":75},"generated":{"line":1,"column":382}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"fetch","original":{"line":47,"column":84},"generated":{"line":1,"column":384}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"loadOneFileInBatches","original":{"line":43,"column":11},"generated":{"line":1,"column":388}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"files","original":{"line":43,"column":32},"generated":{"line":1,"column":390}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"loaders","original":{"line":43,"column":39},"generated":{"line":1,"column":392}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"options","original":{"line":43,"column":48},"generated":{"line":1,"column":394}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"fetch","original":{"line":43,"column":57},"generated":{"line":1,"column":396}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":399}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"loadOneFileInBatches","original":{"line":53,"column":15},"generated":{"line":1,"column":414}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"file","original":{"line":53,"column":36},"generated":{"line":1,"column":416}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"loaders","original":{"line":53,"column":42},"generated":{"line":1,"column":418}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"options","original":{"line":53,"column":51},"generated":{"line":1,"column":420}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"fetch","original":{"line":53,"column":60},"generated":{"line":1,"column":422}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":54,"column":2},"generated":{"line":1,"column":425}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":1,"column":428}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"file","original":{"line":54,"column":13},"generated":{"line":1,"column":445}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":54,"column":32},"generated":{"line":1,"column":447}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":448}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"url","original":{"line":55,"column":10},"generated":{"line":1,"column":454}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"file","original":{"line":55,"column":16},"generated":{"line":1,"column":456}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"response","original":{"line":56,"column":10},"generated":{"line":1,"column":458}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"fetch","original":{"line":56,"column":27},"generated":{"line":1,"column":466}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"url","original":{"line":56,"column":33},"generated":{"line":1,"column":468}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":57,"column":4},"generated":{"line":1,"column":471}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"parseInBatches","original":{"line":57,"column":17},"generated":{"line":1,"column":484}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"parseInBatches","original":{"line":57,"column":17},"generated":{"line":1,"column":486}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":57,"column":31},"generated":{"line":1,"column":488}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"response","original":{"line":57,"column":32},"generated":{"line":1,"column":504}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"loaders","original":{"line":57,"column":42},"generated":{"line":1,"column":506}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"options","original":{"line":57,"column":51},"generated":{"line":1,"column":508}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":59,"column":2},"generated":{"line":1,"column":511}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"parseInBatches","original":{"line":59,"column":15},"generated":{"line":1,"column":524}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"parseInBatches","original":{"line":59,"column":15},"generated":{"line":1,"column":526}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":null,"original":{"line":59,"column":29},"generated":{"line":1,"column":528}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"file","original":{"line":59,"column":30},"generated":{"line":1,"column":544}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"loaders","original":{"line":59,"column":36},"generated":{"line":1,"column":546}},{"source":"../../../../src/lib/api/load-in-batches.ts","name":"options","original":{"line":59,"column":45},"generated":{"line":1,"column":548}}],"sources":{"../../../../src/lib/api/load-in-batches.ts":"import type {LoaderWithParser, LoaderOptions, LoaderContext} from '@loaders.gl/loader-utils';\nimport {isLoaderObject} from '../loader-utils/normalize-loader';\nimport {getFetchFunction} from '../loader-utils/get-fetch-function';\n\nimport {parseInBatches} from './parse-in-batches';\n\ntype FileType = string | File | Blob | Response | (string | File | Blob | Response)[] | FileList;\n\n/**\n * Parses `data` using a specified loader\n * @param data\n * @param loaders\n * @param options\n * @param context\n */\nexport function loadInBatches(\n  files: FileType,\n  loaders?: LoaderWithParser | LoaderWithParser[] | LoaderOptions,\n  options?: LoaderOptions,\n  context?: LoaderContext\n): Promise<AsyncIterable<any>>;\n\nexport function loadInBatches(\n  files: FileType[] | FileList,\n  loaders?: LoaderWithParser | LoaderWithParser[] | LoaderOptions,\n  options?: LoaderOptions,\n  context?: LoaderContext\n): Promise<AsyncIterable<any>>;\n\nexport function loadInBatches(files, loaders, options, context) {\n  // Signature: load(url, options)\n  if (!Array.isArray(loaders) && !isLoaderObject(loaders)) {\n    context = undefined; // context not supported in short signature\n    options = loaders;\n    loaders = null;\n  }\n\n  // Select fetch function\n  const fetch = getFetchFunction(options || {});\n\n  // Single url/file\n  if (!Array.isArray(files)) {\n    return loadOneFileInBatches(files, loaders, options, fetch);\n  }\n\n  // Multiple URLs / files\n  const promises = files.map((file) => loadOneFileInBatches(file, loaders, options, fetch));\n\n  // No point in waiting here for all responses before starting to stream individual streams?\n  return promises;\n}\n\nasync function loadOneFileInBatches(file, loaders, options, fetch) {\n  if (typeof file === 'string') {\n    const url = file;\n    const response = await fetch(url);\n    return await parseInBatches(response, loaders, options);\n  }\n  return await parseInBatches(file, loaders, options);\n}\n"},"lineCount":null}},"error":null,"hash":"20cb88c0b78f0f02608c1261aae84ae8","cacheData":{"env":{}}}