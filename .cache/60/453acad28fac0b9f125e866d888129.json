{"id":"PVme","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/transitions/fly-to-interpolator.js.map","includedInParent":true,"mtime":1688284130514},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/package.json","includedInParent":true,"mtime":1688284130514},{"name":"@babel/runtime/helpers/esm/defineProperty","loc":{"line":1,"column":28,"index":28},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/transitions/fly-to-interpolator.js","resolved":"/project/deck-gl-examples-01/node_modules/@babel/runtime/helpers/esm/defineProperty.js"},{"name":"./transition-interpolator","loc":{"line":2,"column":35,"index":108},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/transitions/fly-to-interpolator.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/transitions/transition-interpolator.js"},{"name":"@math.gl/core","loc":{"line":3,"column":21,"index":158},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/transitions/fly-to-interpolator.js","resolved":"/project/deck-gl-examples-01/node_modules/@math.gl/core/dist/esm/index.js"},{"name":"@math.gl/web-mercator","loc":{"line":4,"column":48,"index":223},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/transitions/fly-to-interpolator.js","resolved":"/project/deck-gl-examples-01/node_modules/@math.gl/web-mercator/dist/esm/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=i(require(\"@babel/runtime/helpers/esm/defineProperty\")),t=i(require(\"./transition-interpolator\")),r=require(\"@math.gl/core\"),o=require(\"@math.gl/web-mercator\");function i(e){return e&&e.__esModule?e:{default:e}}const u=[\"bearing\",\"pitch\"],s={speed:1.2,curve:1.414};class a extends t.default{constructor(t={}){super({compare:[\"longitude\",\"latitude\",\"zoom\",\"bearing\",\"pitch\"],extract:[\"width\",\"height\",\"longitude\",\"latitude\",\"zoom\",\"bearing\",\"pitch\"],required:[\"width\",\"height\",\"latitude\",\"longitude\",\"zoom\"]}),(0,e.default)(this,\"opts\",void 0),this.opts={...s,...t}}interpolateProps(e,t,i){const s=(0,o.flyToViewport)(e,t,i,this.opts);for(const o of u)s[o]=(0,r.lerp)(e[o]||0,t[o]||0,i);return s}getDuration(e,t){let{transitionDuration:r}=t;return\"auto\"===r&&(r=(0,o.getFlyToDuration)(e,t,this.opts)),r}}exports.default=a;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":0}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":13}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":20}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":35}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":43}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":56}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":57}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":64}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":68}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":76}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":89}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":91}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":95}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":97}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":99}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":107}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":153}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":155}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":157}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":165}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":195}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":197}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":205}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":222}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":224}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":232}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":257}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":266}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":268}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":271}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":278}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":281}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":283}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":294}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":296}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":297}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":305}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":308}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"LINEARLY_INTERPOLATED_PROPS","original":{"line":6,"column":6},"generated":{"line":1,"column":314}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":6,"column":36},"generated":{"line":1,"column":316}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":6,"column":37},"generated":{"line":1,"column":317}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":6,"column":48},"generated":{"line":1,"column":327}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"DEFAULT_OPTS","original":{"line":7,"column":6},"generated":{"line":1,"column":336}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":7,"column":21},"generated":{"line":1,"column":338}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"speed","original":{"line":8,"column":2},"generated":{"line":1,"column":339}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":8,"column":9},"generated":{"line":1,"column":345}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"curve","original":{"line":9,"column":2},"generated":{"line":1,"column":349}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":9,"column":9},"generated":{"line":1,"column":355}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":15},"generated":{"line":1,"column":362}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"FlyToInterpolator","original":{"line":19,"column":21},"generated":{"line":1,"column":368}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"TransitionInterpolator","original":{"line":19,"column":47},"generated":{"line":1,"column":378}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":15},"generated":{"line":1,"column":380}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"constructor","original":{"line":27,"column":2},"generated":{"line":1,"column":388}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"opts","original":{"line":28,"column":4},"generated":{"line":1,"column":400}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":402}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":406}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":412}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"compare","original":{"line":40,"column":6},"generated":{"line":1,"column":413}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":40,"column":15},"generated":{"line":1,"column":421}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":40,"column":16},"generated":{"line":1,"column":422}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":40,"column":29},"generated":{"line":1,"column":434}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":40,"column":41},"generated":{"line":1,"column":445}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":40,"column":49},"generated":{"line":1,"column":452}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":40,"column":60},"generated":{"line":1,"column":462}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"extract","original":{"line":41,"column":6},"generated":{"line":1,"column":471}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":41,"column":15},"generated":{"line":1,"column":479}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":41,"column":16},"generated":{"line":1,"column":480}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":41,"column":25},"generated":{"line":1,"column":488}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":41,"column":35},"generated":{"line":1,"column":497}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":41,"column":48},"generated":{"line":1,"column":509}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":41,"column":60},"generated":{"line":1,"column":520}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":41,"column":68},"generated":{"line":1,"column":527}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":41,"column":79},"generated":{"line":1,"column":537}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"required","original":{"line":42,"column":6},"generated":{"line":1,"column":546}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":42,"column":16},"generated":{"line":1,"column":555}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":42,"column":17},"generated":{"line":1,"column":556}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":42,"column":26},"generated":{"line":1,"column":564}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":42,"column":36},"generated":{"line":1,"column":573}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":42,"column":48},"generated":{"line":1,"column":584}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":42,"column":61},"generated":{"line":1,"column":596}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":607}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":609}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":611}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":620}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":625}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":637}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":640}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"opts","original":{"line":44,"column":9},"generated":{"line":1,"column":645}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":44,"column":16},"generated":{"line":1,"column":650}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"DEFAULT_OPTS","original":{"line":44,"column":20},"generated":{"line":1,"column":654}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"opts","original":{"line":44,"column":37},"generated":{"line":1,"column":659}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"interpolateProps","original":{"line":47,"column":2},"generated":{"line":1,"column":662}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"startProps","original":{"line":47,"column":19},"generated":{"line":1,"column":679}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"endProps","original":{"line":47,"column":31},"generated":{"line":1,"column":681}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"t","original":{"line":47,"column":41},"generated":{"line":1,"column":683}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":1,"column":686}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"viewport","original":{"line":48,"column":10},"generated":{"line":1,"column":692}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"flyToViewport","original":{"line":48,"column":21},"generated":{"line":1,"column":695}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"flyToViewport","original":{"line":48,"column":21},"generated":{"line":1,"column":697}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":48,"column":34},"generated":{"line":1,"column":699}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"startProps","original":{"line":48,"column":35},"generated":{"line":1,"column":714}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"endProps","original":{"line":48,"column":47},"generated":{"line":1,"column":716}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"t","original":{"line":48,"column":57},"generated":{"line":1,"column":718}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":48,"column":60},"generated":{"line":1,"column":720}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"opts","original":{"line":48,"column":65},"generated":{"line":1,"column":725}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":731}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":55,"column":9},"generated":{"line":1,"column":735}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"key","original":{"line":55,"column":15},"generated":{"line":1,"column":741}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"LINEARLY_INTERPOLATED_PROPS","original":{"line":55,"column":22},"generated":{"line":1,"column":746}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"viewport","original":{"line":56,"column":6},"generated":{"line":1,"column":748}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"key","original":{"line":56,"column":15},"generated":{"line":1,"column":750}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"lerp","original":{"line":56,"column":22},"generated":{"line":1,"column":754}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"lerp","original":{"line":56,"column":22},"generated":{"line":1,"column":756}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":56,"column":26},"generated":{"line":1,"column":758}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"startProps","original":{"line":56,"column":27},"generated":{"line":1,"column":764}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"key","original":{"line":56,"column":38},"generated":{"line":1,"column":766}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":56,"column":46},"generated":{"line":1,"column":770}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"endProps","original":{"line":56,"column":49},"generated":{"line":1,"column":772}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"key","original":{"line":56,"column":58},"generated":{"line":1,"column":774}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":56,"column":66},"generated":{"line":1,"column":778}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"t","original":{"line":56,"column":69},"generated":{"line":1,"column":780}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":1,"column":783}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"viewport","original":{"line":59,"column":11},"generated":{"line":1,"column":790}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"getDuration","original":{"line":63,"column":2},"generated":{"line":1,"column":792}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"startProps","original":{"line":63,"column":14},"generated":{"line":1,"column":804}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"endProps","original":{"line":63,"column":26},"generated":{"line":1,"column":806}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":64,"column":4},"generated":{"line":1,"column":809}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":813}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"transitionDuration","original":{"line":64,"column":9},"generated":{"line":1,"column":832}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"endProps","original":{"line":64,"column":31},"generated":{"line":1,"column":835}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":1,"column":837}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":65,"column":31},"generated":{"line":1,"column":843}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"transitionDuration","original":{"line":65,"column":8},"generated":{"line":1,"column":852}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"transitionDuration","original":{"line":67,"column":6},"generated":{"line":1,"column":856}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"getFlyToDuration","original":{"line":67,"column":27},"generated":{"line":1,"column":859}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"getFlyToDuration","original":{"line":67,"column":27},"generated":{"line":1,"column":861}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":67,"column":43},"generated":{"line":1,"column":863}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"startProps","original":{"line":67,"column":44},"generated":{"line":1,"column":881}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"endProps","original":{"line":67,"column":56},"generated":{"line":1,"column":883}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":67,"column":66},"generated":{"line":1,"column":885}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"opts","original":{"line":67,"column":71},"generated":{"line":1,"column":890}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":"transitionDuration","original":{"line":69,"column":11},"generated":{"line":1,"column":897}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":900}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":908}},{"source":"../../../src/transitions/fly-to-interpolator.ts","name":null,"original":{"line":19,"column":70},"generated":{"line":1,"column":916}}],"sources":{"../../../src/transitions/fly-to-interpolator.ts":"import TransitionInterpolator from './transition-interpolator';\nimport {lerp} from '@math.gl/core';\n\nimport {flyToViewport, getFlyToDuration} from '@math.gl/web-mercator';\n\nconst LINEARLY_INTERPOLATED_PROPS = ['bearing', 'pitch'];\nconst DEFAULT_OPTS = {\n  speed: 1.2,\n  curve: 1.414\n};\n\n/**\n * This class adapts mapbox-gl-js Map#flyTo animation so it can be used in\n * react/redux architecture.\n * mapbox-gl-js flyTo : https://www.mapbox.com/mapbox-gl-js/api/#map#flyto.\n * It implements “Smooth and efficient zooming and panning.” algorithm by\n * \"Jarke J. van Wijk and Wim A.A. Nuij\"\n */\nexport default class FlyToInterpolator extends TransitionInterpolator {\n  opts: {\n    curve: number;\n    speed: number;\n    screenSpeed?: number;\n    maxDuration?: number;\n  };\n\n  constructor(\n    opts: {\n      /** The zooming \"curve\" that will occur along the flight path. Default 1.414 */\n      curve?: number;\n      /** The average speed of the animation defined in relation to `options.curve`, it linearly affects the duration, higher speed returns smaller durations and vice versa. Default 1.2 */\n      speed?: number;\n      /** The average speed of the animation measured in screenfuls per second. Similar to `opts.speed` it linearly affects the duration,  when specified `opts.speed` is ignored. */\n      screenSpeed?: number;\n      /** Maximum duration in milliseconds, if calculated duration exceeds this value, `0` is returned. */\n      maxDuration?: number;\n    } = {}\n  ) {\n    super({\n      compare: ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'],\n      extract: ['width', 'height', 'longitude', 'latitude', 'zoom', 'bearing', 'pitch'],\n      required: ['width', 'height', 'latitude', 'longitude', 'zoom']\n    });\n    this.opts = {...DEFAULT_OPTS, ...opts};\n  }\n\n  interpolateProps(startProps, endProps, t) {\n    const viewport = flyToViewport(startProps, endProps, t, this.opts);\n\n    // Linearly interpolate 'bearing' and 'pitch'.\n    // If pitch/bearing are not supplied, they are interpreted as zeros in viewport calculation\n    // (fallback defined in WebMercatorViewport)\n    // Because there is no guarantee that the current controller's ViewState normalizes\n    // these props, safe guard is needed to avoid generating NaNs\n    for (const key of LINEARLY_INTERPOLATED_PROPS) {\n      viewport[key] = lerp(startProps[key] || 0, endProps[key] || 0, t);\n    }\n\n    return viewport;\n  }\n\n  // computes the transition duration\n  getDuration(startProps, endProps) {\n    let {transitionDuration} = endProps;\n    if (transitionDuration === 'auto') {\n      // auto calculate duration based on start and end props\n      transitionDuration = getFlyToDuration(startProps, endProps, this.opts);\n    }\n    return transitionDuration;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"8d12337f974a6591832e27e5ea6e2adc","cacheData":{"env":{}}}