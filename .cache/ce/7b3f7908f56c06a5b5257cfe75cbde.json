{"id":"qXUM","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/texture-api/load-image.js.map","includedInParent":true,"mtime":1688284131151},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/package.json","includedInParent":true,"mtime":1688284131151},{"name":"@loaders.gl/loader-utils","loc":{"line":1,"column":23,"index":23},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/texture-api/load-image.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/loader-utils/dist/esm/index.js"},{"name":"../parsers/parse-image","loc":{"line":2,"column":23,"index":74},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/texture-api/load-image.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/parsers/parse-image.js"},{"name":"../category-api/parsed-image-api","loc":{"line":3,"column":29,"index":129},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/texture-api/load-image.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/category-api/parsed-image-api.js"},{"name":"./generate-url","loc":{"line":4,"column":28,"index":193},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/texture-api/load-image.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/texture-api/generate-url.js"},{"name":"./deep-load","loc":{"line":5,"column":38,"index":249},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/texture-api/load-image.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/texture-api/deep-load.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getImageUrls=n,exports.getMipLevels=u,exports.loadImage=l;var e=require(\"@loaders.gl/loader-utils\"),t=o(require(\"../parsers/parse-image\")),r=require(\"../category-api/parsed-image-api\"),a=require(\"./generate-url\"),i=require(\"./deep-load\");function o(e){return e&&e.__esModule?e:{default:e}}async function l(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=await n(e,r);return await(0,i.deepLoad)(a,t.default,r)}async function n(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t&&t.image&&t.image.mipLevels||0;return 0!==i?await s(e,i,t,r):(0,a.generateUrl)(e,t,r)}async function s(o,l,n,s){const g=[];if(\"auto\"===l){const e=(0,a.generateUrl)(o,n,{...s,lod:0}),d=await(0,i.shallowLoad)(e,t.default,n),{width:h,height:c}=(0,r.getImageSize)(d);l=u({width:h,height:c}),g.push(e)}(0,e.assert)(l>0);for(let e=g.length;e<l;++e){const t=(0,a.generateUrl)(o,n,{...s,lod:e});g.push(t)}return g}function u(e){let{width:t,height:r}=e;return 1+Math.floor(Math.log2(Math.max(t,r)))}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":89}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":91}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":99}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":112}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":114}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":122}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":132}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":134}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":138}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":140}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":148}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":176}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":178}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":180}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":188}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":215}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":217}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":225}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":261}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":263}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":271}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":289}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":291}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":299}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":5,"column":49},"generated":{"line":1,"column":314}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":5,"column":49},"generated":{"line":1,"column":323}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":5,"column":49},"generated":{"line":1,"column":325}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":5,"column":49},"generated":{"line":1,"column":328}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":5,"column":49},"generated":{"line":1,"column":335}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":5,"column":49},"generated":{"line":1,"column":338}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":5,"column":49},"generated":{"line":1,"column":340}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":5,"column":49},"generated":{"line":1,"column":351}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":5,"column":49},"generated":{"line":1,"column":353}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":5,"column":49},"generated":{"line":1,"column":354}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":5,"column":49},"generated":{"line":1,"column":362}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":7,"column":7},"generated":{"line":1,"column":365}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"loadImage","original":{"line":7,"column":22},"generated":{"line":1,"column":380}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getUrl","original":{"line":7,"column":32},"generated":{"line":1,"column":382}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":7,"column":54},"generated":{"line":1,"column":385}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"options","original":{"line":7,"column":40},"generated":{"line":1,"column":389}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"arguments","original":{"line":7,"column":47},"generated":{"line":1,"column":391}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"length","original":{"line":7,"column":47},"generated":{"line":1,"column":401}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":7,"column":47},"generated":{"line":1,"column":408}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"undefined","original":{"line":7,"column":47},"generated":{"line":1,"column":416}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"arguments","original":{"line":7,"column":47},"generated":{"line":1,"column":420}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":7,"column":47},"generated":{"line":1,"column":430}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"arguments","original":{"line":7,"column":47},"generated":{"line":1,"column":433}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":7,"column":47},"generated":{"line":1,"column":443}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":7,"column":50},"generated":{"line":1,"column":446}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":449}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"imageUrls","original":{"line":8,"column":8},"generated":{"line":1,"column":455}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getImageUrls","original":{"line":8,"column":26},"generated":{"line":1,"column":463}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getUrl","original":{"line":8,"column":39},"generated":{"line":1,"column":465}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"options","original":{"line":8,"column":47},"generated":{"line":1,"column":467}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":470}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"deepLoad","original":{"line":9,"column":15},"generated":{"line":1,"column":483}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"deepLoad","original":{"line":9,"column":15},"generated":{"line":1,"column":485}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":9,"column":23},"generated":{"line":1,"column":487}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"imageUrls","original":{"line":9,"column":24},"generated":{"line":1,"column":497}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"parseImage","original":{"line":9,"column":35},"generated":{"line":1,"column":499}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":9,"column":45},"generated":{"line":1,"column":501}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"options","original":{"line":9,"column":47},"generated":{"line":1,"column":509}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":12,"column":7},"generated":{"line":1,"column":512}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getImageUrls","original":{"line":12,"column":22},"generated":{"line":1,"column":527}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getUrl","original":{"line":12,"column":35},"generated":{"line":1,"column":529}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"options","original":{"line":12,"column":43},"generated":{"line":1,"column":531}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":12,"column":69},"generated":{"line":1,"column":534}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"urlOptions","original":{"line":12,"column":52},"generated":{"line":1,"column":538}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"arguments","original":{"line":12,"column":62},"generated":{"line":1,"column":540}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"length","original":{"line":12,"column":62},"generated":{"line":1,"column":550}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":12,"column":62},"generated":{"line":1,"column":557}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"undefined","original":{"line":12,"column":62},"generated":{"line":1,"column":565}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"arguments","original":{"line":12,"column":62},"generated":{"line":1,"column":569}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":12,"column":62},"generated":{"line":1,"column":579}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"arguments","original":{"line":12,"column":62},"generated":{"line":1,"column":582}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":12,"column":62},"generated":{"line":1,"column":592}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":12,"column":65},"generated":{"line":1,"column":595}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":1,"column":598}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"mipLevels","original":{"line":13,"column":8},"generated":{"line":1,"column":604}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"options","original":{"line":13,"column":21},"generated":{"line":1,"column":606}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"options","original":{"line":13,"column":32},"generated":{"line":1,"column":609}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"image","original":{"line":13,"column":40},"generated":{"line":1,"column":611}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"options","original":{"line":13,"column":49},"generated":{"line":1,"column":618}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"image","original":{"line":13,"column":57},"generated":{"line":1,"column":620}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"mipLevels","original":{"line":13,"column":63},"generated":{"line":1,"column":626}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":13,"column":77},"generated":{"line":1,"column":637}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":639}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":14,"column":23},"generated":{"line":1,"column":646}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"mipLevels","original":{"line":14,"column":9},"generated":{"line":1,"column":650}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getMipmappedImageUrls","original":{"line":15,"column":12},"generated":{"line":1,"column":658}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getUrl","original":{"line":15,"column":34},"generated":{"line":1,"column":660}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"mipLevels","original":{"line":15,"column":42},"generated":{"line":1,"column":662}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"options","original":{"line":15,"column":53},"generated":{"line":1,"column":664}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"urlOptions","original":{"line":15,"column":62},"generated":{"line":1,"column":666}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"generateUrl","original":{"line":16,"column":6},"generated":{"line":1,"column":670}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"generateUrl","original":{"line":16,"column":6},"generated":{"line":1,"column":672}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":16,"column":17},"generated":{"line":1,"column":674}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getUrl","original":{"line":16,"column":18},"generated":{"line":1,"column":687}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"options","original":{"line":16,"column":26},"generated":{"line":1,"column":689}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"urlOptions","original":{"line":16,"column":35},"generated":{"line":1,"column":691}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":694}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getMipmappedImageUrls","original":{"line":19,"column":15},"generated":{"line":1,"column":709}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getUrl","original":{"line":19,"column":37},"generated":{"line":1,"column":711}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"mipLevels","original":{"line":19,"column":45},"generated":{"line":1,"column":713}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"options","original":{"line":19,"column":56},"generated":{"line":1,"column":715}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"urlOptions","original":{"line":19,"column":65},"generated":{"line":1,"column":717}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":20,"column":2},"generated":{"line":1,"column":720}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"urls","original":{"line":20,"column":8},"generated":{"line":1,"column":726}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":20,"column":25},"generated":{"line":1,"column":728}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":731}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":23,"column":20},"generated":{"line":1,"column":734}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"mipLevels","original":{"line":23,"column":6},"generated":{"line":1,"column":743}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":23,"column":28},"generated":{"line":1,"column":745}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":746}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"url","original":{"line":24,"column":10},"generated":{"line":1,"column":752}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"generateUrl","original":{"line":24,"column":16},"generated":{"line":1,"column":755}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"generateUrl","original":{"line":24,"column":16},"generated":{"line":1,"column":757}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":24,"column":27},"generated":{"line":1,"column":759}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getUrl","original":{"line":24,"column":28},"generated":{"line":1,"column":772}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"options","original":{"line":24,"column":36},"generated":{"line":1,"column":774}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":24,"column":45},"generated":{"line":1,"column":776}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"urlOptions","original":{"line":24,"column":49},"generated":{"line":1,"column":780}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"lod","original":{"line":24,"column":61},"generated":{"line":1,"column":782}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":24,"column":66},"generated":{"line":1,"column":786}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"image","original":{"line":25,"column":10},"generated":{"line":1,"column":790}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"shallowLoad","original":{"line":25,"column":24},"generated":{"line":1,"column":798}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"shallowLoad","original":{"line":25,"column":24},"generated":{"line":1,"column":800}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":25,"column":35},"generated":{"line":1,"column":802}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"url","original":{"line":25,"column":36},"generated":{"line":1,"column":815}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"parseImage","original":{"line":25,"column":41},"generated":{"line":1,"column":817}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":25,"column":51},"generated":{"line":1,"column":819}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"options","original":{"line":25,"column":53},"generated":{"line":1,"column":827}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":27,"column":10},"generated":{"line":1,"column":831}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"width","original":{"line":27,"column":11},"generated":{"line":1,"column":837}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":27,"column":16},"generated":{"line":1,"column":839}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"height","original":{"line":27,"column":18},"generated":{"line":1,"column":846}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getImageSize","original":{"line":27,"column":28},"generated":{"line":1,"column":850}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getImageSize","original":{"line":27,"column":28},"generated":{"line":1,"column":852}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":27,"column":40},"generated":{"line":1,"column":854}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"image","original":{"line":27,"column":41},"generated":{"line":1,"column":868}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"mipLevels","original":{"line":28,"column":4},"generated":{"line":1,"column":871}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getMipLevels","original":{"line":28,"column":16},"generated":{"line":1,"column":873}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":28,"column":29},"generated":{"line":1,"column":875}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"width","original":{"line":28,"column":30},"generated":{"line":1,"column":876}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"width","original":{"line":28,"column":30},"generated":{"line":1,"column":882}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"height","original":{"line":28,"column":37},"generated":{"line":1,"column":884}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"height","original":{"line":28,"column":37},"generated":{"line":1,"column":891}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"urls","original":{"line":31,"column":4},"generated":{"line":1,"column":895}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"push","original":{"line":31,"column":9},"generated":{"line":1,"column":897}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"url","original":{"line":31,"column":14},"generated":{"line":1,"column":902}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"assert","original":{"line":35,"column":2},"generated":{"line":1,"column":906}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"assert","original":{"line":35,"column":2},"generated":{"line":1,"column":908}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":1,"column":910}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"mipLevels","original":{"line":35,"column":9},"generated":{"line":1,"column":918}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":35,"column":21},"generated":{"line":1,"column":920}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":923}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":37,"column":7},"generated":{"line":1,"column":927}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"mipLevel","original":{"line":37,"column":11},"generated":{"line":1,"column":931}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"urls","original":{"line":37,"column":22},"generated":{"line":1,"column":933}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"length","original":{"line":37,"column":27},"generated":{"line":1,"column":935}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"mipLevel","original":{"line":37,"column":35},"generated":{"line":1,"column":942}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"mipLevels","original":{"line":37,"column":46},"generated":{"line":1,"column":944}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"mipLevel","original":{"line":37,"column":59},"generated":{"line":1,"column":948}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":37,"column":69},"generated":{"line":1,"column":950}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":951}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"url","original":{"line":38,"column":10},"generated":{"line":1,"column":957}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"generateUrl","original":{"line":38,"column":16},"generated":{"line":1,"column":960}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"generateUrl","original":{"line":38,"column":16},"generated":{"line":1,"column":962}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":38,"column":27},"generated":{"line":1,"column":964}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getUrl","original":{"line":38,"column":28},"generated":{"line":1,"column":977}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"options","original":{"line":38,"column":36},"generated":{"line":1,"column":979}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":38,"column":45},"generated":{"line":1,"column":981}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"urlOptions","original":{"line":38,"column":49},"generated":{"line":1,"column":985}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"lod","original":{"line":38,"column":61},"generated":{"line":1,"column":987}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"mipLevel","original":{"line":38,"column":66},"generated":{"line":1,"column":991}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"urls","original":{"line":39,"column":4},"generated":{"line":1,"column":995}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"push","original":{"line":39,"column":9},"generated":{"line":1,"column":997}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"url","original":{"line":39,"column":14},"generated":{"line":1,"column":1002}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":1005}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"urls","original":{"line":42,"column":9},"generated":{"line":1,"column":1012}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":46,"column":7},"generated":{"line":1,"column":1014}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"getMipLevels","original":{"line":46,"column":16},"generated":{"line":1,"column":1023}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"_ref","original":{"line":46,"column":28},"generated":{"line":1,"column":1025}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":46,"column":46},"generated":{"line":1,"column":1028}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":46,"column":29},"generated":{"line":1,"column":1032}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"width","original":{"line":46,"column":30},"generated":{"line":1,"column":1038}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":46,"column":35},"generated":{"line":1,"column":1040}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"height","original":{"line":46,"column":37},"generated":{"line":1,"column":1047}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"_ref","original":{"line":46,"column":44},"generated":{"line":1,"column":1050}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":1052}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":null,"original":{"line":47,"column":9},"generated":{"line":1,"column":1059}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"Math","original":{"line":47,"column":13},"generated":{"line":1,"column":1061}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"floor","original":{"line":47,"column":18},"generated":{"line":1,"column":1066}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"Math","original":{"line":47,"column":24},"generated":{"line":1,"column":1072}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"log2","original":{"line":47,"column":29},"generated":{"line":1,"column":1077}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"Math","original":{"line":47,"column":34},"generated":{"line":1,"column":1082}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"max","original":{"line":47,"column":39},"generated":{"line":1,"column":1087}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"width","original":{"line":47,"column":43},"generated":{"line":1,"column":1091}},{"source":"../../../../src/lib/texture-api/load-image.ts","name":"height","original":{"line":47,"column":50},"generated":{"line":1,"column":1093}}],"sources":{"../../../../src/lib/texture-api/load-image.ts":"import {assert} from '@loaders.gl/loader-utils';\nimport parseImage from '../parsers/parse-image';\nimport {getImageSize} from '../category-api/parsed-image-api';\nimport {generateUrl} from './generate-url';\nimport {deepLoad, shallowLoad} from './deep-load';\n\nexport async function loadImage(getUrl, options = {}) {\n  const imageUrls = await getImageUrls(getUrl, options);\n  return await deepLoad(imageUrls, parseImage, options);\n}\n\nexport async function getImageUrls(getUrl, options, urlOptions = {}) {\n  const mipLevels = (options && options.image && options.image.mipLevels) || 0;\n  return mipLevels !== 0\n    ? await getMipmappedImageUrls(getUrl, mipLevels, options, urlOptions)\n    : generateUrl(getUrl, options, urlOptions);\n}\n\nasync function getMipmappedImageUrls(getUrl, mipLevels, options, urlOptions) {\n  const urls: string[] = [];\n\n  // If no mip levels supplied, we need to load the level 0 image and calculate based on size\n  if (mipLevels === 'auto') {\n    const url = generateUrl(getUrl, options, {...urlOptions, lod: 0});\n    const image = await shallowLoad(url, parseImage, options);\n\n    const {width, height} = getImageSize(image);\n    mipLevels = getMipLevels({width, height});\n\n    // TODO - push image and make `deepLoad` pass through non-url values, avoid loading twice?\n    urls.push(url);\n  }\n\n  // We now know how many mipLevels we need, remaining image urls can now be constructed\n  assert(mipLevels > 0);\n\n  for (let mipLevel = urls.length; mipLevel < mipLevels; ++mipLevel) {\n    const url = generateUrl(getUrl, options, {...urlOptions, lod: mipLevel});\n    urls.push(url);\n  }\n\n  return urls;\n}\n\n// Calculates number of mipmaps based on texture size (log2)\nexport function getMipLevels({width, height}) {\n  return 1 + Math.floor(Math.log2(Math.max(width, height)));\n}\n"},"lineCount":null}},"error":null,"hash":"e60c5c2550efa3637a67d1fffecb347c","cacheData":{"env":{}}}