{"id":"Z5gV","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/dist/esm/cut-by-mercator-bounds.js.map","includedInParent":true,"mtime":1688284133040},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/package.json","includedInParent":true,"mtime":1688284133040},{"name":"./cut-by-grid","loc":{"line":1,"column":52,"index":52},"parent":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/dist/esm/cut-by-mercator-bounds.js","resolved":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/dist/esm/cut-by-grid.js"},{"name":"./utils","loc":{"line":2,"column":38,"index":107},"parent":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/dist/esm/cut-by-mercator-bounds.js","resolved":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/dist/esm/utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.cutPolygonByMercatorBounds=r,exports.cutPolylineByMercatorBounds=n;var t=require(\"./cut-by-grid\"),o=require(\"./utils\");const e=85.051129;function n(o,e){const{size:n=2,startIndex:r=0,endIndex:s=o.length,normalize:i=!0}=e||{},c=o.slice(r,s);l(c,n,0,s-r);const f=(0,t.cutPolylineByGrid)(c,{size:n,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(i)for(const t of f)u(t,n);return f}function r(o,e=null,n){const{size:r=2,normalize:c=!0,edgeTypes:f=!1}=n||{};e=e||[];const d=[],a=[];let g=0,h=0;for(let t=0;t<=e.length;t++){const u=e[t]||o.length,c=h,f=s(o,r,g,u);for(let t=f;t<u;t++)d[h++]=o[t];for(let t=g;t<f;t++)d[h++]=o[t];l(d,r,c,h),i(d,r,c,h,null==n?void 0:n.maxLatitude),g=u,a[t]=h}a.pop();const p=(0,t.cutPolygonByGrid)(d,a,{size:r,gridResolution:360,gridOffset:[-180,-180],edgeTypes:f});if(c)for(const t of p)u(t.positions,r);return p}function s(t,o,e,n){let r=-1,s=-1;for(let i=e+1;i<n;i+=o){const o=Math.abs(t[i]);o>r&&(r=o,s=i-1)}return s}function i(t,n,r,s,i=e){const l=t[r],u=t[s-n];if(Math.abs(l-u)>180){const e=(0,o.getPointAtIndex)(t,0,n,r);e[0]+=360*Math.round((u-l)/360),(0,o.push)(t,e),e[1]=Math.sign(e[1])*i,(0,o.push)(t,e),e[0]=l,(0,o.push)(t,e)}}function l(t,o,e,n){let r,s=t[0];for(let i=e;i<n;i+=o){const o=(r=t[i])-s;(o>180||o<-180)&&(r-=360*Math.round(o/360)),t[i]=s=r}}function u(t,o){let e;const n=t.length/o;for(let s=0;s<n&&((e=t[s*o])+180)%360==0;s++);const r=360*-Math.round(e/360);if(0!==r)for(let s=0;s<n;s++)t[s*o]+=r}"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":200,"column":1},"generated":{"line":1,"column":0}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":200,"column":1},"generated":{"line":1,"column":13}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":200,"column":1},"generated":{"line":1,"column":20}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":200,"column":1},"generated":{"line":1,"column":35}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":200,"column":1},"generated":{"line":1,"column":43}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":200,"column":1},"generated":{"line":1,"column":56}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":200,"column":1},"generated":{"line":1,"column":57}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":200,"column":1},"generated":{"line":1,"column":64}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":200,"column":1},"generated":{"line":1,"column":68}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":200,"column":1},"generated":{"line":1,"column":76}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":200,"column":1},"generated":{"line":1,"column":103}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":200,"column":1},"generated":{"line":1,"column":105}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":200,"column":1},"generated":{"line":1,"column":113}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":200,"column":1},"generated":{"line":1,"column":141}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":143}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":147}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":149}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":157}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":174}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":176}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":184}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":195}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"DEFAULT_MAX_LATITUDE","original":{"line":7,"column":6},"generated":{"line":1,"column":201}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":7,"column":29},"generated":{"line":1,"column":203}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":1,"column":213}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"cutPolylineByMercatorBounds","original":{"line":10,"column":16},"generated":{"line":1,"column":222}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":11,"column":2},"generated":{"line":1,"column":224}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"options","original":{"line":12,"column":2},"generated":{"line":1,"column":226}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":229}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":19,"column":8},"generated":{"line":1,"column":235}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":19,"column":9},"generated":{"line":1,"column":240}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":19,"column":16},"generated":{"line":1,"column":242}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":19,"column":8},"generated":{"line":1,"column":244}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"startIndex","original":{"line":19,"column":19},"generated":{"line":1,"column":255}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":19,"column":32},"generated":{"line":1,"column":257}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":19,"column":8},"generated":{"line":1,"column":259}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"endIndex","original":{"line":19,"column":35},"generated":{"line":1,"column":268}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":19,"column":46},"generated":{"line":1,"column":270}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"length","original":{"line":19,"column":56},"generated":{"line":1,"column":272}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":19,"column":8},"generated":{"line":1,"column":279}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"normalize","original":{"line":19,"column":64},"generated":{"line":1,"column":289}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":19,"column":76},"generated":{"line":1,"column":292}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"options","original":{"line":19,"column":84},"generated":{"line":1,"column":295}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":19,"column":95},"generated":{"line":1,"column":298}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"newPositions","original":{"line":22,"column":8},"generated":{"line":1,"column":301}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":22,"column":23},"generated":{"line":1,"column":303}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"slice","original":{"line":22,"column":33},"generated":{"line":1,"column":305}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"startIndex","original":{"line":22,"column":39},"generated":{"line":1,"column":311}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"endIndex","original":{"line":22,"column":51},"generated":{"line":1,"column":313}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"wrapLongitudesForShortestPath","original":{"line":23,"column":2},"generated":{"line":1,"column":316}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"newPositions","original":{"line":23,"column":32},"generated":{"line":1,"column":318}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":23,"column":46},"generated":{"line":1,"column":320}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":23,"column":52},"generated":{"line":1,"column":322}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"endIndex","original":{"line":23,"column":55},"generated":{"line":1,"column":324}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"startIndex","original":{"line":23,"column":66},"generated":{"line":1,"column":326}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":329}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"parts","original":{"line":25,"column":8},"generated":{"line":1,"column":335}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"cutPolylineByGrid","original":{"line":25,"column":16},"generated":{"line":1,"column":338}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"cutPolylineByGrid","original":{"line":25,"column":16},"generated":{"line":1,"column":340}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":25,"column":33},"generated":{"line":1,"column":342}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"newPositions","original":{"line":25,"column":34},"generated":{"line":1,"column":361}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":25,"column":48},"generated":{"line":1,"column":363}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":26,"column":4},"generated":{"line":1,"column":364}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":26,"column":4},"generated":{"line":1,"column":369}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"broken","original":{"line":27,"column":4},"generated":{"line":1,"column":371}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":27,"column":12},"generated":{"line":1,"column":379}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"gridResolution","original":{"line":28,"column":4},"generated":{"line":1,"column":381}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":28,"column":20},"generated":{"line":1,"column":396}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"gridOffset","original":{"line":29,"column":4},"generated":{"line":1,"column":400}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":29,"column":16},"generated":{"line":1,"column":411}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":29,"column":18},"generated":{"line":1,"column":413}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":29,"column":24},"generated":{"line":1,"column":418}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":1,"column":425}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"normalize","original":{"line":32,"column":6},"generated":{"line":1,"column":428}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":1,"column":430}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":434}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"part","original":{"line":35,"column":15},"generated":{"line":1,"column":440}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"parts","original":{"line":35,"column":23},"generated":{"line":1,"column":445}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"shiftLongitudesIntoRange","original":{"line":36,"column":6},"generated":{"line":1,"column":447}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"part","original":{"line":36,"column":31},"generated":{"line":1,"column":449}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":36,"column":37},"generated":{"line":1,"column":451}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":454}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"parts","original":{"line":39,"column":9},"generated":{"line":1,"column":461}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":43,"column":7},"generated":{"line":1,"column":463}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"cutPolygonByMercatorBounds","original":{"line":43,"column":16},"generated":{"line":1,"column":472}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":44,"column":2},"generated":{"line":1,"column":474}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"holeIndices","original":{"line":45,"column":2},"generated":{"line":1,"column":476}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":45,"column":47},"generated":{"line":1,"column":478}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"options","original":{"line":46,"column":2},"generated":{"line":1,"column":483}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":486}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":1,"column":492}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":53,"column":9},"generated":{"line":1,"column":497}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":53,"column":16},"generated":{"line":1,"column":499}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":1,"column":501}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"normalize","original":{"line":53,"column":19},"generated":{"line":1,"column":511}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":53,"column":31},"generated":{"line":1,"column":514}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":1,"column":516}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"edgeTypes","original":{"line":53,"column":37},"generated":{"line":1,"column":526}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":53,"column":49},"generated":{"line":1,"column":529}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"options","original":{"line":53,"column":58},"generated":{"line":1,"column":532}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":53,"column":69},"generated":{"line":1,"column":535}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"holeIndices","original":{"line":54,"column":2},"generated":{"line":1,"column":538}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"holeIndices","original":{"line":54,"column":16},"generated":{"line":1,"column":540}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":54,"column":31},"generated":{"line":1,"column":543}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":55,"column":2},"generated":{"line":1,"column":546}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"newPositions","original":{"line":55,"column":8},"generated":{"line":1,"column":552}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":55,"column":33},"generated":{"line":1,"column":554}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"newHoleIndices","original":{"line":56,"column":8},"generated":{"line":1,"column":557}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":56,"column":35},"generated":{"line":1,"column":559}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":562}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"srcStartIndex","original":{"line":57,"column":6},"generated":{"line":1,"column":566}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":57,"column":22},"generated":{"line":1,"column":568}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"targetIndex","original":{"line":58,"column":6},"generated":{"line":1,"column":570}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":58,"column":20},"generated":{"line":1,"column":572}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":60,"column":2},"generated":{"line":1,"column":574}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":60,"column":7},"generated":{"line":1,"column":578}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"ringIndex","original":{"line":60,"column":11},"generated":{"line":1,"column":582}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":60,"column":23},"generated":{"line":1,"column":584}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"ringIndex","original":{"line":60,"column":26},"generated":{"line":1,"column":586}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"holeIndices","original":{"line":60,"column":39},"generated":{"line":1,"column":589}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"length","original":{"line":60,"column":51},"generated":{"line":1,"column":591}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"ringIndex","original":{"line":60,"column":59},"generated":{"line":1,"column":598}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":60,"column":72},"generated":{"line":1,"column":602}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":62,"column":4},"generated":{"line":1,"column":603}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"srcEndIndex","original":{"line":62,"column":10},"generated":{"line":1,"column":609}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"holeIndices","original":{"line":62,"column":24},"generated":{"line":1,"column":611}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"ringIndex","original":{"line":62,"column":36},"generated":{"line":1,"column":613}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":62,"column":50},"generated":{"line":1,"column":617}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"length","original":{"line":62,"column":60},"generated":{"line":1,"column":619}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"targetStartIndex","original":{"line":64,"column":10},"generated":{"line":1,"column":626}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"targetIndex","original":{"line":64,"column":29},"generated":{"line":1,"column":628}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"splitIndex","original":{"line":69,"column":10},"generated":{"line":1,"column":630}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"findSplitIndex","original":{"line":69,"column":23},"generated":{"line":1,"column":632}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":69,"column":38},"generated":{"line":1,"column":634}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":69,"column":49},"generated":{"line":1,"column":636}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"srcStartIndex","original":{"line":69,"column":55},"generated":{"line":1,"column":638}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"srcEndIndex","original":{"line":69,"column":70},"generated":{"line":1,"column":640}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":1,"column":643}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":1,"column":647}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":70,"column":13},"generated":{"line":1,"column":651}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"splitIndex","original":{"line":70,"column":17},"generated":{"line":1,"column":653}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":70,"column":29},"generated":{"line":1,"column":655}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"srcEndIndex","original":{"line":70,"column":33},"generated":{"line":1,"column":657}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":70,"column":46},"generated":{"line":1,"column":659}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"newPositions","original":{"line":71,"column":6},"generated":{"line":1,"column":663}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"targetIndex","original":{"line":71,"column":19},"generated":{"line":1,"column":665}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":71,"column":36},"generated":{"line":1,"column":670}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":71,"column":46},"generated":{"line":1,"column":672}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":1,"column":675}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":73,"column":9},"generated":{"line":1,"column":679}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":73,"column":13},"generated":{"line":1,"column":683}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"srcStartIndex","original":{"line":73,"column":17},"generated":{"line":1,"column":685}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":73,"column":32},"generated":{"line":1,"column":687}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"splitIndex","original":{"line":73,"column":36},"generated":{"line":1,"column":689}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":73,"column":48},"generated":{"line":1,"column":691}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"newPositions","original":{"line":74,"column":6},"generated":{"line":1,"column":695}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"targetIndex","original":{"line":74,"column":19},"generated":{"line":1,"column":697}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":74,"column":36},"generated":{"line":1,"column":702}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":74,"column":46},"generated":{"line":1,"column":704}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"wrapLongitudesForShortestPath","original":{"line":78,"column":4},"generated":{"line":1,"column":707}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"newPositions","original":{"line":78,"column":34},"generated":{"line":1,"column":709}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":78,"column":48},"generated":{"line":1,"column":711}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"targetStartIndex","original":{"line":78,"column":54},"generated":{"line":1,"column":713}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"targetIndex","original":{"line":78,"column":72},"generated":{"line":1,"column":715}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"insertPoleVertices","original":{"line":81,"column":4},"generated":{"line":1,"column":718}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"newPositions","original":{"line":81,"column":23},"generated":{"line":1,"column":720}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":81,"column":37},"generated":{"line":1,"column":722}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"targetStartIndex","original":{"line":81,"column":43},"generated":{"line":1,"column":724}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"targetIndex","original":{"line":81,"column":61},"generated":{"line":1,"column":726}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"options","original":{"line":81,"column":74},"generated":{"line":1,"column":728}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"options","original":{"line":81,"column":74},"generated":{"line":1,"column":734}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":81,"column":22},"generated":{"line":1,"column":741}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"options","original":{"line":81,"column":74},"generated":{"line":1,"column":743}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"maxLatitude","original":{"line":81,"column":83},"generated":{"line":1,"column":745}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"srcStartIndex","original":{"line":83,"column":4},"generated":{"line":1,"column":758}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"srcEndIndex","original":{"line":83,"column":20},"generated":{"line":1,"column":760}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"newHoleIndices","original":{"line":84,"column":4},"generated":{"line":1,"column":762}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"ringIndex","original":{"line":84,"column":19},"generated":{"line":1,"column":764}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"targetIndex","original":{"line":84,"column":32},"generated":{"line":1,"column":767}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"newHoleIndices","original":{"line":86,"column":2},"generated":{"line":1,"column":769}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"pop","original":{"line":86,"column":17},"generated":{"line":1,"column":771}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":88,"column":2},"generated":{"line":1,"column":777}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"parts","original":{"line":88,"column":8},"generated":{"line":1,"column":783}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"cutPolygonByGrid","original":{"line":88,"column":16},"generated":{"line":1,"column":786}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"cutPolygonByGrid","original":{"line":88,"column":16},"generated":{"line":1,"column":788}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":88,"column":32},"generated":{"line":1,"column":790}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"newPositions","original":{"line":88,"column":33},"generated":{"line":1,"column":808}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"newHoleIndices","original":{"line":88,"column":47},"generated":{"line":1,"column":810}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":88,"column":63},"generated":{"line":1,"column":812}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":89,"column":4},"generated":{"line":1,"column":813}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":89,"column":4},"generated":{"line":1,"column":818}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"gridResolution","original":{"line":90,"column":4},"generated":{"line":1,"column":820}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":90,"column":20},"generated":{"line":1,"column":835}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"gridOffset","original":{"line":91,"column":4},"generated":{"line":1,"column":839}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":91,"column":16},"generated":{"line":1,"column":850}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":91,"column":18},"generated":{"line":1,"column":852}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":91,"column":24},"generated":{"line":1,"column":857}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"edgeTypes","original":{"line":92,"column":4},"generated":{"line":1,"column":862}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"edgeTypes","original":{"line":92,"column":4},"generated":{"line":1,"column":872}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":95,"column":2},"generated":{"line":1,"column":876}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"normalize","original":{"line":95,"column":6},"generated":{"line":1,"column":879}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":98,"column":4},"generated":{"line":1,"column":881}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":98,"column":9},"generated":{"line":1,"column":885}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"part","original":{"line":98,"column":15},"generated":{"line":1,"column":891}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"parts","original":{"line":98,"column":23},"generated":{"line":1,"column":896}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"shiftLongitudesIntoRange","original":{"line":100,"column":6},"generated":{"line":1,"column":898}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"part","original":{"line":100,"column":31},"generated":{"line":1,"column":900}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":100,"column":36},"generated":{"line":1,"column":902}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":100,"column":47},"generated":{"line":1,"column":912}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":103,"column":2},"generated":{"line":1,"column":915}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"parts","original":{"line":103,"column":9},"generated":{"line":1,"column":922}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":109,"column":0},"generated":{"line":1,"column":924}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"findSplitIndex","original":{"line":109,"column":9},"generated":{"line":1,"column":933}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":110,"column":2},"generated":{"line":1,"column":935}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":111,"column":2},"generated":{"line":1,"column":937}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"startIndex","original":{"line":112,"column":2},"generated":{"line":1,"column":939}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"endIndex","original":{"line":113,"column":2},"generated":{"line":1,"column":941}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":115,"column":2},"generated":{"line":1,"column":944}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"maxLat","original":{"line":115,"column":6},"generated":{"line":1,"column":948}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":115,"column":16},"generated":{"line":1,"column":951}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"pointIndex","original":{"line":116,"column":6},"generated":{"line":1,"column":953}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":116,"column":20},"generated":{"line":1,"column":956}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":117,"column":2},"generated":{"line":1,"column":958}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":117,"column":7},"generated":{"line":1,"column":962}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":117,"column":11},"generated":{"line":1,"column":966}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"startIndex","original":{"line":117,"column":15},"generated":{"line":1,"column":968}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":117,"column":28},"generated":{"line":1,"column":970}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":117,"column":31},"generated":{"line":1,"column":972}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"endIndex","original":{"line":117,"column":35},"generated":{"line":1,"column":974}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":117,"column":45},"generated":{"line":1,"column":976}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":117,"column":50},"generated":{"line":1,"column":979}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":117,"column":56},"generated":{"line":1,"column":981}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":118,"column":4},"generated":{"line":1,"column":982}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"lat","original":{"line":118,"column":10},"generated":{"line":1,"column":988}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"Math","original":{"line":118,"column":16},"generated":{"line":1,"column":990}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"abs","original":{"line":118,"column":21},"generated":{"line":1,"column":995}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":118,"column":25},"generated":{"line":1,"column":999}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":118,"column":35},"generated":{"line":1,"column":1001}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"lat","original":{"line":119,"column":8},"generated":{"line":1,"column":1005}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"maxLat","original":{"line":119,"column":14},"generated":{"line":1,"column":1007}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"maxLat","original":{"line":120,"column":6},"generated":{"line":1,"column":1011}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"lat","original":{"line":120,"column":15},"generated":{"line":1,"column":1013}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"pointIndex","original":{"line":121,"column":6},"generated":{"line":1,"column":1015}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":121,"column":19},"generated":{"line":1,"column":1017}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":121,"column":23},"generated":{"line":1,"column":1019}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":124,"column":2},"generated":{"line":1,"column":1022}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"pointIndex","original":{"line":124,"column":9},"generated":{"line":1,"column":1029}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":136,"column":0},"generated":{"line":1,"column":1031}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"insertPoleVertices","original":{"line":136,"column":9},"generated":{"line":1,"column":1040}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":137,"column":2},"generated":{"line":1,"column":1042}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":138,"column":2},"generated":{"line":1,"column":1044}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"startIndex","original":{"line":139,"column":2},"generated":{"line":1,"column":1046}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"endIndex","original":{"line":140,"column":2},"generated":{"line":1,"column":1048}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"maxLatitude","original":{"line":141,"column":2},"generated":{"line":1,"column":1050}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"DEFAULT_MAX_LATITUDE","original":{"line":141,"column":24},"generated":{"line":1,"column":1052}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":144,"column":2},"generated":{"line":1,"column":1055}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"firstLng","original":{"line":144,"column":8},"generated":{"line":1,"column":1061}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":144,"column":19},"generated":{"line":1,"column":1063}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"startIndex","original":{"line":144,"column":29},"generated":{"line":1,"column":1065}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"lastLng","original":{"line":145,"column":8},"generated":{"line":1,"column":1068}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":145,"column":18},"generated":{"line":1,"column":1070}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"endIndex","original":{"line":145,"column":28},"generated":{"line":1,"column":1072}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":145,"column":39},"generated":{"line":1,"column":1074}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":146,"column":2},"generated":{"line":1,"column":1077}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"Math","original":{"line":146,"column":6},"generated":{"line":1,"column":1080}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"abs","original":{"line":146,"column":11},"generated":{"line":1,"column":1085}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"firstLng","original":{"line":146,"column":15},"generated":{"line":1,"column":1089}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"lastLng","original":{"line":146,"column":26},"generated":{"line":1,"column":1091}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":146,"column":37},"generated":{"line":1,"column":1094}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":146,"column":42},"generated":{"line":1,"column":1098}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":149,"column":4},"generated":{"line":1,"column":1099}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"p","original":{"line":149,"column":10},"generated":{"line":1,"column":1105}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"getPointAtIndex","original":{"line":149,"column":14},"generated":{"line":1,"column":1108}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"getPointAtIndex","original":{"line":149,"column":14},"generated":{"line":1,"column":1110}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":149,"column":29},"generated":{"line":1,"column":1112}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":149,"column":30},"generated":{"line":1,"column":1129}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":149,"column":41},"generated":{"line":1,"column":1131}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":149,"column":44},"generated":{"line":1,"column":1133}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"startIndex","original":{"line":149,"column":50},"generated":{"line":1,"column":1135}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"p","original":{"line":151,"column":4},"generated":{"line":1,"column":1138}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":151,"column":6},"generated":{"line":1,"column":1140}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":151,"column":53},"generated":{"line":1,"column":1144}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"Math","original":{"line":151,"column":12},"generated":{"line":1,"column":1148}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"round","original":{"line":151,"column":17},"generated":{"line":1,"column":1153}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"lastLng","original":{"line":151,"column":24},"generated":{"line":1,"column":1160}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"firstLng","original":{"line":151,"column":34},"generated":{"line":1,"column":1162}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":151,"column":46},"generated":{"line":1,"column":1165}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"push","original":{"line":152,"column":4},"generated":{"line":1,"column":1171}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"push","original":{"line":152,"column":4},"generated":{"line":1,"column":1173}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":152,"column":8},"generated":{"line":1,"column":1175}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":152,"column":9},"generated":{"line":1,"column":1181}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"p","original":{"line":152,"column":20},"generated":{"line":1,"column":1183}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"p","original":{"line":154,"column":4},"generated":{"line":1,"column":1186}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":154,"column":6},"generated":{"line":1,"column":1188}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"Math","original":{"line":154,"column":11},"generated":{"line":1,"column":1191}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"sign","original":{"line":154,"column":16},"generated":{"line":1,"column":1196}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"p","original":{"line":154,"column":21},"generated":{"line":1,"column":1201}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":154,"column":23},"generated":{"line":1,"column":1203}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"maxLatitude","original":{"line":154,"column":29},"generated":{"line":1,"column":1207}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"push","original":{"line":155,"column":4},"generated":{"line":1,"column":1210}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"push","original":{"line":155,"column":4},"generated":{"line":1,"column":1212}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":155,"column":8},"generated":{"line":1,"column":1214}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":155,"column":9},"generated":{"line":1,"column":1220}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"p","original":{"line":155,"column":20},"generated":{"line":1,"column":1222}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"p","original":{"line":157,"column":4},"generated":{"line":1,"column":1225}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":157,"column":6},"generated":{"line":1,"column":1227}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"firstLng","original":{"line":157,"column":11},"generated":{"line":1,"column":1230}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"push","original":{"line":158,"column":4},"generated":{"line":1,"column":1233}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"push","original":{"line":158,"column":4},"generated":{"line":1,"column":1235}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":158,"column":8},"generated":{"line":1,"column":1237}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":158,"column":9},"generated":{"line":1,"column":1243}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"p","original":{"line":158,"column":20},"generated":{"line":1,"column":1245}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":162,"column":0},"generated":{"line":1,"column":1249}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"wrapLongitudesForShortestPath","original":{"line":162,"column":9},"generated":{"line":1,"column":1258}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":163,"column":2},"generated":{"line":1,"column":1260}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":164,"column":2},"generated":{"line":1,"column":1262}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"startIndex","original":{"line":165,"column":2},"generated":{"line":1,"column":1264}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"endIndex","original":{"line":166,"column":2},"generated":{"line":1,"column":1266}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":168,"column":2},"generated":{"line":1,"column":1269}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"lng","original":{"line":169,"column":6},"generated":{"line":1,"column":1273}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"prevLng","original":{"line":168,"column":6},"generated":{"line":1,"column":1275}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":168,"column":24},"generated":{"line":1,"column":1277}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":168,"column":34},"generated":{"line":1,"column":1279}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":170,"column":2},"generated":{"line":1,"column":1282}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":170,"column":7},"generated":{"line":1,"column":1286}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":170,"column":11},"generated":{"line":1,"column":1290}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"startIndex","original":{"line":170,"column":15},"generated":{"line":1,"column":1292}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":170,"column":27},"generated":{"line":1,"column":1294}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"endIndex","original":{"line":170,"column":31},"generated":{"line":1,"column":1296}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":170,"column":41},"generated":{"line":1,"column":1298}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":170,"column":46},"generated":{"line":1,"column":1301}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":170,"column":52},"generated":{"line":1,"column":1303}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":172,"column":4},"generated":{"line":1,"column":1304}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"delta","original":{"line":172,"column":10},"generated":{"line":1,"column":1310}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"lng","original":{"line":171,"column":4},"generated":{"line":1,"column":1313}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":171,"column":10},"generated":{"line":1,"column":1315}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":171,"column":20},"generated":{"line":1,"column":1317}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"prevLng","original":{"line":172,"column":24},"generated":{"line":1,"column":1321}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"delta","original":{"line":173,"column":8},"generated":{"line":1,"column":1324}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":173,"column":16},"generated":{"line":1,"column":1326}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"delta","original":{"line":173,"column":23},"generated":{"line":1,"column":1331}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":173,"column":32},"generated":{"line":1,"column":1334}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"lng","original":{"line":174,"column":6},"generated":{"line":1,"column":1341}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":174,"column":39},"generated":{"line":1,"column":1344}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"Math","original":{"line":174,"column":13},"generated":{"line":1,"column":1348}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"round","original":{"line":174,"column":18},"generated":{"line":1,"column":1353}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"delta","original":{"line":174,"column":24},"generated":{"line":1,"column":1359}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":174,"column":32},"generated":{"line":1,"column":1361}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":176,"column":4},"generated":{"line":1,"column":1367}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":176,"column":14},"generated":{"line":1,"column":1369}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"prevLng","original":{"line":176,"column":19},"generated":{"line":1,"column":1372}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"lng","original":{"line":176,"column":29},"generated":{"line":1,"column":1374}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":180,"column":0},"generated":{"line":1,"column":1377}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"shiftLongitudesIntoRange","original":{"line":180,"column":9},"generated":{"line":1,"column":1386}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":180,"column":34},"generated":{"line":1,"column":1388}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":180,"column":59},"generated":{"line":1,"column":1390}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":181,"column":2},"generated":{"line":1,"column":1393}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"refLng","original":{"line":181,"column":6},"generated":{"line":1,"column":1397}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":182,"column":2},"generated":{"line":1,"column":1399}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"pointCount","original":{"line":182,"column":8},"generated":{"line":1,"column":1405}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":182,"column":21},"generated":{"line":1,"column":1407}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"length","original":{"line":182,"column":31},"generated":{"line":1,"column":1409}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":182,"column":40},"generated":{"line":1,"column":1416}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":186,"column":2},"generated":{"line":1,"column":1418}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":186,"column":7},"generated":{"line":1,"column":1422}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":186,"column":11},"generated":{"line":1,"column":1426}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":186,"column":15},"generated":{"line":1,"column":1428}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":186,"column":18},"generated":{"line":1,"column":1430}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"pointCount","original":{"line":186,"column":22},"generated":{"line":1,"column":1432}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"refLng","original":{"line":187,"column":4},"generated":{"line":1,"column":1437}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":187,"column":13},"generated":{"line":1,"column":1439}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":187,"column":23},"generated":{"line":1,"column":1441}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":187,"column":27},"generated":{"line":1,"column":1443}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":188,"column":18},"generated":{"line":1,"column":1447}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":188,"column":25},"generated":{"line":1,"column":1452}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":188,"column":33},"generated":{"line":1,"column":1457}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":186,"column":34},"generated":{"line":1,"column":1459}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":193,"column":2},"generated":{"line":1,"column":1464}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"delta","original":{"line":193,"column":8},"generated":{"line":1,"column":1470}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":193,"column":44},"generated":{"line":1,"column":1472}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"Math","original":{"line":193,"column":17},"generated":{"line":1,"column":1477}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"round","original":{"line":193,"column":22},"generated":{"line":1,"column":1482}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"refLng","original":{"line":193,"column":28},"generated":{"line":1,"column":1488}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":193,"column":37},"generated":{"line":1,"column":1490}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":194,"column":2},"generated":{"line":1,"column":1495}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":194,"column":16},"generated":{"line":1,"column":1498}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"delta","original":{"line":194,"column":6},"generated":{"line":1,"column":1502}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":197,"column":2},"generated":{"line":1,"column":1504}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":197,"column":7},"generated":{"line":1,"column":1508}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":197,"column":11},"generated":{"line":1,"column":1512}},{"source":"../../src/cut-by-mercator-bounds.ts","name":null,"original":{"line":197,"column":15},"generated":{"line":1,"column":1514}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":197,"column":18},"generated":{"line":1,"column":1516}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"pointCount","original":{"line":197,"column":22},"generated":{"line":1,"column":1518}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":197,"column":34},"generated":{"line":1,"column":1520}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"positions","original":{"line":198,"column":4},"generated":{"line":1,"column":1524}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"i","original":{"line":198,"column":14},"generated":{"line":1,"column":1526}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"size","original":{"line":198,"column":18},"generated":{"line":1,"column":1528}},{"source":"../../src/cut-by-mercator-bounds.ts","name":"delta","original":{"line":198,"column":27},"generated":{"line":1,"column":1532}}],"sources":{"../../src/cut-by-mercator-bounds.ts":"import {cutPolylineByGrid, cutPolygonByGrid} from './cut-by-grid';\nimport {getPointAtIndex, push} from './utils';\nimport type {Polygon} from './cut-by-grid';\nimport type {NumericArray} from '@math.gl/core';\n\n// https://en.wikipedia.org/wiki/Web_Mercator_projection\nconst DEFAULT_MAX_LATITUDE = 85.051129;\n\n/** https://user-images.githubusercontent.com/2059298/78465769-938b7a00-76ae-11ea-9b95-1f4c26425ab9.png */\nexport function cutPolylineByMercatorBounds(\n  positions: Readonly<NumericArray>,\n  options?: {\n    size?: number;\n    startIndex?: number;\n    endIndex?: number;\n    normalize?: boolean;\n  }\n): number[][] {\n  const {size = 2, startIndex = 0, endIndex = positions.length, normalize = true} = options || {};\n\n  // Remap longitudes so that each segment takes the shorter path\n  const newPositions = positions.slice(startIndex, endIndex);\n  wrapLongitudesForShortestPath(newPositions, size, 0, endIndex - startIndex);\n\n  const parts = cutPolylineByGrid(newPositions, {\n    size,\n    broken: true,\n    gridResolution: 360,\n    gridOffset: [-180, -180]\n  }) as number[][];\n\n  if (normalize) {\n    // Each part is guaranteed to be in a single copy of the world\n    // Map longitudes back to [-180, 180]\n    for (const part of parts) {\n      shiftLongitudesIntoRange(part, size);\n    }\n  }\n  return parts;\n}\n\n/** https://user-images.githubusercontent.com/2059298/78465770-94241080-76ae-11ea-809a-6a8534dac1d9.png */\nexport function cutPolygonByMercatorBounds(\n  positions: Readonly<NumericArray>,\n  holeIndices: Readonly<NumericArray> | null = null,\n  options?: {\n    size?: number;\n    normalize?: boolean;\n    maxLatitude?: number;\n    edgeTypes?: boolean;\n  }\n): Polygon[] {\n  const {size = 2, normalize = true, edgeTypes = false} = options || {};\n  holeIndices = holeIndices || [];\n  const newPositions: number[] = [];\n  const newHoleIndices: number[] = [];\n  let srcStartIndex = 0;\n  let targetIndex = 0;\n\n  for (let ringIndex = 0; ringIndex <= holeIndices.length; ringIndex++) {\n    // srcStartIndex/srcEndIndex define the ring in the original positions\n    const srcEndIndex = holeIndices[ringIndex] || positions.length;\n    // targetStartIndex/targetIndex define the ring in newPositions\n    const targetStartIndex = targetIndex;\n\n    // In case the ring contains a pole (e.g. Antarctica), we'll have to insert vertices\n    // The insertion point is defined by the vertex closest to the pole\n    // Split the the ring by the insertion point when copying to newPositions\n    const splitIndex = findSplitIndex(positions, size, srcStartIndex, srcEndIndex);\n    for (let i = splitIndex; i < srcEndIndex; i++) {\n      newPositions[targetIndex++] = positions[i];\n    }\n    for (let i = srcStartIndex; i < splitIndex; i++) {\n      newPositions[targetIndex++] = positions[i];\n    }\n\n    // Remap longitudes so that each segment takes the shorter path\n    wrapLongitudesForShortestPath(newPositions, size, targetStartIndex, targetIndex);\n\n    // Handle the case when the ring contains a pole\n    insertPoleVertices(newPositions, size, targetStartIndex, targetIndex, options?.maxLatitude);\n\n    srcStartIndex = srcEndIndex;\n    newHoleIndices[ringIndex] = targetIndex;\n  }\n  newHoleIndices.pop();\n\n  const parts = cutPolygonByGrid(newPositions, newHoleIndices, {\n    size,\n    gridResolution: 360,\n    gridOffset: [-180, -180],\n    edgeTypes\n  });\n\n  if (normalize) {\n    // Each part is guaranteed to be in a single copy of the world\n    // Map longitudes back to [-180, 180]\n    for (const part of parts) {\n      // @ts-expect-error (mutates readonly array) May mutate newPositions, which is created by us\n      shiftLongitudesIntoRange(part.positions, size);\n    }\n  }\n  return parts;\n}\n\n/* Helpers */\n\n// See comments for insertPoleVertices\nfunction findSplitIndex(\n  positions: Readonly<NumericArray>,\n  size: number,\n  startIndex: number,\n  endIndex: number\n): number {\n  let maxLat = -1;\n  let pointIndex = -1;\n  for (let i = startIndex + 1; i < endIndex; i += size) {\n    const lat = Math.abs(positions[i]);\n    if (lat > maxLat) {\n      maxLat = lat;\n      pointIndex = i - 1;\n    }\n  }\n  return pointIndex;\n}\n\n// https://user-images.githubusercontent.com/2059298/78857483-5987e400-79de-11ea-98fc-0631287a8431.png\n//\n// If the polygon contains a pole, to tesselate it correctly, we need to insert the edge\n// of map into the polygon. This requires adding two vertices that represent the pole, by\n// drawing a perpendicular line to the Mercator map edge from a selected vertex on the ring.\n//\n// We select the insertion position carefully so that the inserted line segments do not\n// intersect with the ring itself. This is ensured by findSplitIndex, which returns the\n// vertex closest to the pole.\nfunction insertPoleVertices(\n  positions: number[],\n  size: number,\n  startIndex: number,\n  endIndex: number,\n  maxLatitude: number = DEFAULT_MAX_LATITUDE\n): void {\n  // Check if the ring contains a pole\n  const firstLng = positions[startIndex];\n  const lastLng = positions[endIndex - size];\n  if (Math.abs(firstLng - lastLng) > 180) {\n    // The ring does not make a round trip\n    // Add the nearest pole to the vertices so that the polygon tesselates correctly\n    const p = getPointAtIndex(positions, 0, size, startIndex);\n    // Copy the first vertex to the world of the last vertex\n    p[0] += Math.round((lastLng - firstLng) / 360) * 360;\n    push(positions, p);\n    // Project the copied vertex to the edge of the map\n    p[1] = Math.sign(p[1]) * maxLatitude;\n    push(positions, p);\n    // Project the first vertex to the edge of the map\n    p[0] = firstLng;\n    push(positions, p);\n  }\n}\n\nfunction wrapLongitudesForShortestPath(\n  positions: NumericArray,\n  size: number,\n  startIndex: number,\n  endIndex: number\n): void {\n  let prevLng: number = positions[0];\n  let lng: number;\n  for (let i = startIndex; i < endIndex; i += size) {\n    lng = positions[i];\n    const delta = lng - prevLng;\n    if (delta > 180 || delta < -180) {\n      lng -= Math.round(delta / 360) * 360;\n    }\n    positions[i] = prevLng = lng;\n  }\n}\n\nfunction shiftLongitudesIntoRange(positions: NumericArray, size: number): void {\n  let refLng: number;\n  const pointCount = positions.length / size;\n\n  // Find a longitude that is not on the edge of a world\n  // Which we will use to determine which world copy it is\n  for (let i = 0; i < pointCount; i++) {\n    refLng = positions[i * size];\n    if ((refLng + 180) % 360 !== 0) {\n      break;\n    }\n  }\n\n  const delta = -Math.round(refLng / 360) * 360;\n  if (delta === 0) {\n    return;\n  }\n  for (let i = 0; i < pointCount; i++) {\n    positions[i * size] += delta;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"df2fb63856bab1a6482d2ae4dd18ba00","cacheData":{"env":{}}}