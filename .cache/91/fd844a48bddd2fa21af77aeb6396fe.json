{"id":"qAaj","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/viewports/first-person-viewport.js.map","includedInParent":true,"mtime":1688284130514},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/package.json","includedInParent":true,"mtime":1688284130514},{"name":"@babel/runtime/helpers/esm/defineProperty","loc":{"line":1,"column":28,"index":28},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/viewports/first-person-viewport.js","resolved":"/project/deck-gl-examples-01/node_modules/@babel/runtime/helpers/esm/defineProperty.js"},{"name":"../viewports/viewport","loc":{"line":2,"column":21,"index":94},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/viewports/first-person-viewport.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/viewports/viewport.js"},{"name":"@math.gl/web-mercator","loc":{"line":3,"column":29,"index":148},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/viewports/first-person-viewport.js","resolved":"/project/deck-gl-examples-01/node_modules/@math.gl/web-mercator/dist/esm/index.js"},{"name":"@math.gl/core","loc":{"line":4,"column":71,"index":244},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/viewports/first-person-viewport.js","resolved":"/project/deck-gl-examples-01/node_modules/@math.gl/core/dist/esm/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=o(require(\"@babel/runtime/helpers/esm/defineProperty\")),t=o(require(\"../viewports/viewport\")),r=require(\"@math.gl/web-mercator\"),i=require(\"@math.gl/core\");function o(e){return e&&e.__esModule?e:{default:e}}class a extends t.default{constructor(t){const{longitude:o,latitude:a,modelMatrix:u,bearing:l=0,pitch:s=0,up:d=[0,0,1]}=t,n=new i._SphericalCoordinates({bearing:l,pitch:-90===s?1e-4:90+s}).toVector3().normalize(),c=u?new i.Matrix4(u).transformAsVector(n):n,p=Number.isFinite(a)?(0,r.getMeterZoom)({latitude:a}):0,h=Math.pow(2,p),m=(new i.Matrix4).lookAt({eye:[0,0,0],center:c,up:d}).scale(h);super({...t,zoom:p,viewMatrix:m}),(0,e.default)(this,\"longitude\",void 0),(0,e.default)(this,\"latitude\",void 0),this.latitude=a,this.longitude=o}}exports.default=a;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":0}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":13}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":20}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":35}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":43}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":56}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":57}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":64}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":68}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":76}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":89}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":91}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":95}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":97}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":99}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":107}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":153}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":155}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":157}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":165}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":191}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":193}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":201}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":226}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":228}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":236}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":253}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":262}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":264}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":267}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":274}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":277}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":279}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":290}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":292}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":293}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":301}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":15},"generated":{"line":1,"column":304}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"FirstPersonViewport","original":{"line":42,"column":21},"generated":{"line":1,"column":310}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"Viewport","original":{"line":42,"column":49},"generated":{"line":1,"column":320}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":15},"generated":{"line":1,"column":322}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"constructor","original":{"line":46,"column":2},"generated":{"line":1,"column":330}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"props","original":{"line":46,"column":14},"generated":{"line":1,"column":342}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":1,"column":345}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":351}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"longitude","original":{"line":48,"column":11},"generated":{"line":1,"column":361}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":363}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"latitude","original":{"line":48,"column":22},"generated":{"line":1,"column":372}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":374}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"modelMatrix","original":{"line":48,"column":32},"generated":{"line":1,"column":386}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":388}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"bearing","original":{"line":48,"column":45},"generated":{"line":1,"column":396}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":48,"column":55},"generated":{"line":1,"column":398}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":400}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"pitch","original":{"line":48,"column":58},"generated":{"line":1,"column":406}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":48,"column":66},"generated":{"line":1,"column":408}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":410}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"up","original":{"line":48,"column":69},"generated":{"line":1,"column":413}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":48,"column":74},"generated":{"line":1,"column":415}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":48,"column":75},"generated":{"line":1,"column":416}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":48,"column":78},"generated":{"line":1,"column":418}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":48,"column":81},"generated":{"line":1,"column":420}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"props","original":{"line":48,"column":87},"generated":{"line":1,"column":424}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"dir","original":{"line":56,"column":10},"generated":{"line":1,"column":426}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":51,"column":22},"generated":{"line":1,"column":428}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"SphericalCoordinates","original":{"line":51,"column":26},"generated":{"line":1,"column":432}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":51,"column":22},"generated":{"line":1,"column":434}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":51,"column":47},"generated":{"line":1,"column":456}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"bearing","original":{"line":52,"column":6},"generated":{"line":1,"column":457}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"bearing","original":{"line":52,"column":6},"generated":{"line":1,"column":465}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"pitch","original":{"line":54,"column":6},"generated":{"line":1,"column":467}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":54,"column":24},"generated":{"line":1,"column":474}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"pitch","original":{"line":54,"column":13},"generated":{"line":1,"column":479}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":54,"column":29},"generated":{"line":1,"column":481}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":54,"column":38},"generated":{"line":1,"column":486}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"pitch","original":{"line":54,"column":43},"generated":{"line":1,"column":489}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"toVector3","original":{"line":56,"column":26},"generated":{"line":1,"column":493}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"normalize","original":{"line":56,"column":38},"generated":{"line":1,"column":505}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"center","original":{"line":59,"column":10},"generated":{"line":1,"column":517}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"modelMatrix","original":{"line":59,"column":19},"generated":{"line":1,"column":519}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":59,"column":33},"generated":{"line":1,"column":521}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"Matrix4","original":{"line":59,"column":37},"generated":{"line":1,"column":525}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":59,"column":33},"generated":{"line":1,"column":527}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"modelMatrix","original":{"line":59,"column":45},"generated":{"line":1,"column":535}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"transformAsVector","original":{"line":59,"column":58},"generated":{"line":1,"column":538}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"dir","original":{"line":59,"column":76},"generated":{"line":1,"column":556}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"dir","original":{"line":59,"column":83},"generated":{"line":1,"column":559}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"zoom","original":{"line":62,"column":10},"generated":{"line":1,"column":561}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"Number","original":{"line":62,"column":17},"generated":{"line":1,"column":563}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"isFinite","original":{"line":62,"column":24},"generated":{"line":1,"column":570}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"latitude","original":{"line":62,"column":33},"generated":{"line":1,"column":579}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"getMeterZoom","original":{"line":62,"column":45},"generated":{"line":1,"column":583}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"getMeterZoom","original":{"line":62,"column":45},"generated":{"line":1,"column":585}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":62,"column":57},"generated":{"line":1,"column":587}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":62,"column":58},"generated":{"line":1,"column":601}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"latitude","original":{"line":62,"column":59},"generated":{"line":1,"column":602}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"latitude","original":{"line":62,"column":69},"generated":{"line":1,"column":611}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":62,"column":92},"generated":{"line":1,"column":615}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"scale","original":{"line":63,"column":10},"generated":{"line":1,"column":617}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"Math","original":{"line":63,"column":18},"generated":{"line":1,"column":619}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"pow","original":{"line":63,"column":23},"generated":{"line":1,"column":624}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":63,"column":27},"generated":{"line":1,"column":628}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"zoom","original":{"line":63,"column":30},"generated":{"line":1,"column":630}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"viewMatrix","original":{"line":64,"column":10},"generated":{"line":1,"column":633}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":64,"column":23},"generated":{"line":1,"column":636}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"Matrix4","original":{"line":64,"column":27},"generated":{"line":1,"column":640}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":64,"column":23},"generated":{"line":1,"column":642}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"lookAt","original":{"line":64,"column":37},"generated":{"line":1,"column":651}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":64,"column":44},"generated":{"line":1,"column":658}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"eye","original":{"line":64,"column":45},"generated":{"line":1,"column":659}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":64,"column":50},"generated":{"line":1,"column":663}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":64,"column":51},"generated":{"line":1,"column":664}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":64,"column":54},"generated":{"line":1,"column":666}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":64,"column":57},"generated":{"line":1,"column":668}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"center","original":{"line":64,"column":61},"generated":{"line":1,"column":671}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"center","original":{"line":64,"column":61},"generated":{"line":1,"column":678}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"up","original":{"line":64,"column":69},"generated":{"line":1,"column":680}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"up","original":{"line":64,"column":69},"generated":{"line":1,"column":683}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"scale","original":{"line":64,"column":74},"generated":{"line":1,"column":687}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"scale","original":{"line":64,"column":80},"generated":{"line":1,"column":693}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":66,"column":4},"generated":{"line":1,"column":696}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":1,"column":702}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"props","original":{"line":67,"column":9},"generated":{"line":1,"column":706}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"zoom","original":{"line":68,"column":6},"generated":{"line":1,"column":708}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"zoom","original":{"line":68,"column":6},"generated":{"line":1,"column":713}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"viewMatrix","original":{"line":69,"column":6},"generated":{"line":1,"column":715}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"viewMatrix","original":{"line":69,"column":6},"generated":{"line":1,"column":726}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":46,"column":49},"generated":{"line":1,"column":731}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":46,"column":49},"generated":{"line":1,"column":733}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":46,"column":49},"generated":{"line":1,"column":735}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":46,"column":49},"generated":{"line":1,"column":744}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":46,"column":49},"generated":{"line":1,"column":749}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":46,"column":49},"generated":{"line":1,"column":766}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":46,"column":49},"generated":{"line":1,"column":770}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":46,"column":49},"generated":{"line":1,"column":772}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":46,"column":49},"generated":{"line":1,"column":774}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":46,"column":49},"generated":{"line":1,"column":783}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":46,"column":49},"generated":{"line":1,"column":788}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":46,"column":49},"generated":{"line":1,"column":804}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":807}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"latitude","original":{"line":72,"column":9},"generated":{"line":1,"column":812}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"latitude","original":{"line":72,"column":20},"generated":{"line":1,"column":821}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":1,"column":823}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"longitude","original":{"line":73,"column":9},"generated":{"line":1,"column":828}},{"source":"../../../src/viewports/first-person-viewport.ts","name":"longitude","original":{"line":73,"column":21},"generated":{"line":1,"column":838}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":841}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":849}},{"source":"../../../src/viewports/first-person-viewport.ts","name":null,"original":{"line":42,"column":58},"generated":{"line":1,"column":857}}],"sources":{"../../../src/viewports/first-person-viewport.ts":"import Viewport from '../viewports/viewport';\nimport {getMeterZoom} from '@math.gl/web-mercator';\nimport {Matrix4, _SphericalCoordinates as SphericalCoordinates} from '@math.gl/core';\n\nexport type FirstPersonViewportOptions = {\n  /** Name of the viewport */\n  id?: string;\n  /** Left offset from the canvas edge, in pixels */\n  x?: number;\n  /** Top offset from the canvas edge, in pixels */\n  y?: number;\n  /** Viewport width in pixels */\n  width?: number;\n  /** Viewport height in pixels */\n  height?: number;\n  /** Longitude of the camera, in the geospatial case. */\n  longitude?: number;\n  /** Latitude of the camera, in the geospatial case. */\n  latitude?: number;\n  /** Meter offsets of the camera from the lng-lat anchor point. Default `[0, 0, 0]`. */\n  position?: [number, number, number];\n  /** Bearing (heading) of the camera in degrees. Default `0` (north). */\n  bearing?: number;\n  /** Pitch (tilt) of the camera in degrees. Default `0` (horizontal). */\n  pitch?: number;\n  /** Transform applied to the camera position and direction */\n  modelMatrix?: number[] | null;\n  /** Custom projection matrix */\n  projectionMatrix?: number[];\n  /** The up direction, default positive z axis. */\n  up?: [number, number, number];\n  /** Field of view covered by camera, in degrees. Default `75`. */\n  fovy?: number;\n  /** Distance of near clipping plane. Default `0.1`. */\n  near?: number;\n  /** Distance of far clipping plane. Default `1000`. */\n  far?: number;\n  /** Modifier of viewport scale. Corresponds to the number of pixels per meter. Default `1`. */\n  focalDistance?: number;\n};\n\nexport default class FirstPersonViewport extends Viewport {\n  longitude?: number;\n  latitude?: number;\n\n  constructor(props: FirstPersonViewportOptions) {\n    // TODO - push direction handling into Matrix4.lookAt\n    const {longitude, latitude, modelMatrix, bearing = 0, pitch = 0, up = [0, 0, 1]} = props;\n\n    // Always calculate direction from bearing and pitch\n    const spherical = new SphericalCoordinates({\n      bearing,\n      // Avoid \"pixel project matrix not invertible\" error\n      pitch: pitch === -90 ? 0.0001 : 90 + pitch\n    });\n    const dir = spherical.toVector3().normalize();\n\n    // Direction is relative to model coordinates, of course\n    const center = modelMatrix ? new Matrix4(modelMatrix).transformAsVector(dir) : dir;\n\n    // Just the direction. All the positioning is done in viewport.js\n    const zoom = Number.isFinite(latitude) ? getMeterZoom({latitude: latitude as number}) : 0;\n    const scale = Math.pow(2, zoom);\n    const viewMatrix = new Matrix4().lookAt({eye: [0, 0, 0], center, up}).scale(scale);\n\n    super({\n      ...props,\n      zoom,\n      viewMatrix\n    });\n\n    this.latitude = latitude;\n    this.longitude = longitude;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"87db7b57c1120f56ae44fa184d6b23de","cacheData":{"env":{}}}