{"id":"zvF0","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js.map","includedInParent":true,"mtime":1688284131877},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/package.json","includedInParent":true,"mtime":1688284131877},{"name":"@luma.gl/webgl","loc":{"line":1,"column":28,"index":28},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/dist/esm/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=exports.DRAW_MODE=void 0;var t=require(\"@luma.gl/webgl\");const e={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};exports.DRAW_MODE=e;class i{static get DRAW_MODE(){return e}constructor(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:s=(0,t.uid)(\"geometry\"),drawMode:r=e.TRIANGLES,attributes:n={},indices:u=null,vertexCount:a=null}=i;this.id=s,this.drawMode=0|r,this.attributes={},this.userData={},this._setAttributes(n,u),this.vertexCount=a||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(t){return\"Geometry \".concat(this.id,\" attribute \").concat(t)}_setAttributes(e,i){i&&(this.indices=ArrayBuffer.isView(i)?{value:i,size:1}:i);for(const s in e){let i=e[s];i=ArrayBuffer.isView(i)?{value:i}:i,(0,t.assert)(ArrayBuffer.isView(i.value),\"\".concat(this._print(s),\": must be typed array or object with value as typed array\")),\"POSITION\"!==s&&\"positions\"!==s||i.size||(i.size=3),\"indices\"===s?((0,t.assert)(!this.indices),this.indices=i):this.attributes[s]=i}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(e,i){if(i)return i.value.length;let s=1/0;for(const t in e){const i=e[t],{value:r,size:n,constant:u}=i;!u&&r&&n>=1&&(s=Math.min(s,r.length/n))}return(0,t.assert)(Number.isFinite(s)),s}}exports.default=i;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":0}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":13}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":20}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":35}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":43}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":56}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":57}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":64}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":68}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":76}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":84}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":92}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":107}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":109}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":113}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":115}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":123}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":5,"column":7},"generated":{"line":1,"column":141}},{"source":"../../../src/geometry/geometry.js","name":"DRAW_MODE","original":{"line":5,"column":13},"generated":{"line":1,"column":147}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":5,"column":25},"generated":{"line":1,"column":149}},{"source":"../../../src/geometry/geometry.js","name":"POINTS","original":{"line":6,"column":2},"generated":{"line":1,"column":150}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":6,"column":10},"generated":{"line":1,"column":157}},{"source":"../../../src/geometry/geometry.js","name":"LINES","original":{"line":7,"column":2},"generated":{"line":1,"column":159}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":7,"column":9},"generated":{"line":1,"column":165}},{"source":"../../../src/geometry/geometry.js","name":"LINE_LOOP","original":{"line":8,"column":2},"generated":{"line":1,"column":167}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":8,"column":13},"generated":{"line":1,"column":177}},{"source":"../../../src/geometry/geometry.js","name":"LINE_STRIP","original":{"line":9,"column":2},"generated":{"line":1,"column":179}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":9,"column":14},"generated":{"line":1,"column":190}},{"source":"../../../src/geometry/geometry.js","name":"TRIANGLES","original":{"line":10,"column":2},"generated":{"line":1,"column":192}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":202}},{"source":"../../../src/geometry/geometry.js","name":"TRIANGLE_STRIP","original":{"line":11,"column":2},"generated":{"line":1,"column":204}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":11,"column":18},"generated":{"line":1,"column":219}},{"source":"../../../src/geometry/geometry.js","name":"TRIANGLE_FAN","original":{"line":12,"column":2},"generated":{"line":1,"column":221}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":12,"column":16},"generated":{"line":1,"column":234}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":5,"column":7},"generated":{"line":1,"column":237}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":5,"column":7},"generated":{"line":1,"column":245}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":5,"column":7},"generated":{"line":1,"column":255}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":15},"generated":{"line":1,"column":257}},{"source":"../../../src/geometry/geometry.js","name":"Geometry","original":{"line":16,"column":21},"generated":{"line":1,"column":263}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":17,"column":22},"generated":{"line":1,"column":265}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":18,"column":4},"generated":{"line":1,"column":288}},{"source":"../../../src/geometry/geometry.js","name":"DRAW_MODE","original":{"line":18,"column":11},"generated":{"line":1,"column":295}},{"source":"../../../src/geometry/geometry.js","name":"constructor","original":{"line":21,"column":2},"generated":{"line":1,"column":297}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":21,"column":26},"generated":{"line":1,"column":311}},{"source":"../../../src/geometry/geometry.js","name":"props","original":{"line":21,"column":14},"generated":{"line":1,"column":315}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":21,"column":26},"generated":{"line":1,"column":317}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":21,"column":26},"generated":{"line":1,"column":327}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":21,"column":26},"generated":{"line":1,"column":334}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":21,"column":26},"generated":{"line":1,"column":342}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":21,"column":26},"generated":{"line":1,"column":346}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":21,"column":26},"generated":{"line":1,"column":356}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":21,"column":26},"generated":{"line":1,"column":359}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":21,"column":26},"generated":{"line":1,"column":369}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":21,"column":22},"generated":{"line":1,"column":372}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":22,"column":4},"generated":{"line":1,"column":375}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":22,"column":10},"generated":{"line":1,"column":381}},{"source":"../../../src/geometry/geometry.js","name":"id","original":{"line":23,"column":6},"generated":{"line":1,"column":384}},{"source":"../../../src/geometry/geometry.js","name":"uid","original":{"line":23,"column":11},"generated":{"line":1,"column":387}},{"source":"../../../src/geometry/geometry.js","name":"uid","original":{"line":23,"column":11},"generated":{"line":1,"column":389}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":23,"column":14},"generated":{"line":1,"column":391}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":23,"column":15},"generated":{"line":1,"column":396}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":22,"column":10},"generated":{"line":1,"column":408}},{"source":"../../../src/geometry/geometry.js","name":"drawMode","original":{"line":24,"column":6},"generated":{"line":1,"column":417}},{"source":"../../../src/geometry/geometry.js","name":"DRAW_MODE","original":{"line":24,"column":17},"generated":{"line":1,"column":419}},{"source":"../../../src/geometry/geometry.js","name":"TRIANGLES","original":{"line":24,"column":27},"generated":{"line":1,"column":421}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":22,"column":10},"generated":{"line":1,"column":431}},{"source":"../../../src/geometry/geometry.js","name":"attributes","original":{"line":25,"column":6},"generated":{"line":1,"column":442}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":25,"column":19},"generated":{"line":1,"column":444}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":22,"column":10},"generated":{"line":1,"column":447}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":26,"column":6},"generated":{"line":1,"column":455}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":26,"column":16},"generated":{"line":1,"column":457}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":22,"column":10},"generated":{"line":1,"column":462}},{"source":"../../../src/geometry/geometry.js","name":"vertexCount","original":{"line":27,"column":6},"generated":{"line":1,"column":474}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":27,"column":20},"generated":{"line":1,"column":476}},{"source":"../../../src/geometry/geometry.js","name":"props","original":{"line":28,"column":8},"generated":{"line":1,"column":482}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":30,"column":4},"generated":{"line":1,"column":484}},{"source":"../../../src/geometry/geometry.js","name":"id","original":{"line":30,"column":9},"generated":{"line":1,"column":489}},{"source":"../../../src/geometry/geometry.js","name":"id","original":{"line":30,"column":14},"generated":{"line":1,"column":492}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":494}},{"source":"../../../src/geometry/geometry.js","name":"drawMode","original":{"line":31,"column":9},"generated":{"line":1,"column":499}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":31,"column":31},"generated":{"line":1,"column":508}},{"source":"../../../src/geometry/geometry.js","name":"drawMode","original":{"line":31,"column":20},"generated":{"line":1,"column":510}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":512}},{"source":"../../../src/geometry/geometry.js","name":"attributes","original":{"line":32,"column":9},"generated":{"line":1,"column":517}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":32,"column":22},"generated":{"line":1,"column":528}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":33,"column":4},"generated":{"line":1,"column":531}},{"source":"../../../src/geometry/geometry.js","name":"userData","original":{"line":33,"column":9},"generated":{"line":1,"column":536}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":33,"column":20},"generated":{"line":1,"column":545}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":35,"column":4},"generated":{"line":1,"column":548}},{"source":"../../../src/geometry/geometry.js","name":"_setAttributes","original":{"line":35,"column":9},"generated":{"line":1,"column":553}},{"source":"../../../src/geometry/geometry.js","name":"attributes","original":{"line":35,"column":24},"generated":{"line":1,"column":568}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":35,"column":36},"generated":{"line":1,"column":570}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":37,"column":4},"generated":{"line":1,"column":573}},{"source":"../../../src/geometry/geometry.js","name":"vertexCount","original":{"line":37,"column":9},"generated":{"line":1,"column":578}},{"source":"../../../src/geometry/geometry.js","name":"vertexCount","original":{"line":37,"column":23},"generated":{"line":1,"column":590}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":37,"column":38},"generated":{"line":1,"column":593}},{"source":"../../../src/geometry/geometry.js","name":"_calculateVertexCount","original":{"line":37,"column":43},"generated":{"line":1,"column":598}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":37,"column":65},"generated":{"line":1,"column":620}},{"source":"../../../src/geometry/geometry.js","name":"attributes","original":{"line":37,"column":70},"generated":{"line":1,"column":625}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":37,"column":82},"generated":{"line":1,"column":636}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":37,"column":87},"generated":{"line":1,"column":641}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":50,"column":10},"generated":{"line":1,"column":650}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":51,"column":4},"generated":{"line":1,"column":661}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":51,"column":11},"generated":{"line":1,"column":668}},{"source":"../../../src/geometry/geometry.js","name":"drawMode","original":{"line":51,"column":16},"generated":{"line":1,"column":673}},{"source":"../../../src/geometry/geometry.js","name":"getVertexCount","original":{"line":54,"column":2},"generated":{"line":1,"column":682}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":699}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":55,"column":11},"generated":{"line":1,"column":706}},{"source":"../../../src/geometry/geometry.js","name":"vertexCount","original":{"line":55,"column":16},"generated":{"line":1,"column":711}},{"source":"../../../src/geometry/geometry.js","name":"getAttributes","original":{"line":59,"column":2},"generated":{"line":1,"column":723}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":60,"column":4},"generated":{"line":1,"column":739}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":60,"column":11},"generated":{"line":1,"column":746}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":60,"column":16},"generated":{"line":1,"column":751}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":60,"column":26},"generated":{"line":1,"column":759}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":60,"column":27},"generated":{"line":1,"column":760}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":60,"column":36},"generated":{"line":1,"column":768}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":60,"column":41},"generated":{"line":1,"column":773}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":60,"column":53},"generated":{"line":1,"column":784}},{"source":"../../../src/geometry/geometry.js","name":"attributes","original":{"line":60,"column":58},"generated":{"line":1,"column":789}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":60,"column":72},"generated":{"line":1,"column":801}},{"source":"../../../src/geometry/geometry.js","name":"attributes","original":{"line":60,"column":77},"generated":{"line":1,"column":806}},{"source":"../../../src/geometry/geometry.js","name":"_print","original":{"line":65,"column":2},"generated":{"line":1,"column":817}},{"source":"../../../src/geometry/geometry.js","name":"attributeName","original":{"line":65,"column":9},"generated":{"line":1,"column":824}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":66,"column":4},"generated":{"line":1,"column":827}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":66,"column":4},"generated":{"line":1,"column":833}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":66,"column":4},"generated":{"line":1,"column":845}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":66,"column":23},"generated":{"line":1,"column":852}},{"source":"../../../src/geometry/geometry.js","name":"id","original":{"line":66,"column":28},"generated":{"line":1,"column":857}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":66,"column":4},"generated":{"line":1,"column":860}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":66,"column":4},"generated":{"line":1,"column":875}},{"source":"../../../src/geometry/geometry.js","name":"attributeName","original":{"line":66,"column":44},"generated":{"line":1,"column":882}},{"source":"../../../src/geometry/geometry.js","name":"_setAttributes","original":{"line":74,"column":2},"generated":{"line":1,"column":885}},{"source":"../../../src/geometry/geometry.js","name":"attributes","original":{"line":74,"column":17},"generated":{"line":1,"column":900}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":74,"column":29},"generated":{"line":1,"column":902}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":75,"column":8},"generated":{"line":1,"column":905}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":76,"column":6},"generated":{"line":1,"column":909}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":76,"column":11},"generated":{"line":1,"column":914}},{"source":"../../../src/geometry/geometry.js","name":"ArrayBuffer","original":{"line":76,"column":21},"generated":{"line":1,"column":922}},{"source":"../../../src/geometry/geometry.js","name":"isView","original":{"line":76,"column":33},"generated":{"line":1,"column":934}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":76,"column":40},"generated":{"line":1,"column":941}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":76,"column":51},"generated":{"line":1,"column":944}},{"source":"../../../src/geometry/geometry.js","name":"value","original":{"line":76,"column":52},"generated":{"line":1,"column":945}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":76,"column":59},"generated":{"line":1,"column":951}},{"source":"../../../src/geometry/geometry.js","name":"size","original":{"line":76,"column":68},"generated":{"line":1,"column":953}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":76,"column":74},"generated":{"line":1,"column":958}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":76,"column":79},"generated":{"line":1,"column":961}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":79,"column":4},"generated":{"line":1,"column":964}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":79,"column":9},"generated":{"line":1,"column":968}},{"source":"../../../src/geometry/geometry.js","name":"attributeName","original":{"line":79,"column":15},"generated":{"line":1,"column":974}},{"source":"../../../src/geometry/geometry.js","name":"attributes","original":{"line":79,"column":32},"generated":{"line":1,"column":979}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":79,"column":44},"generated":{"line":1,"column":981}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":982}},{"source":"../../../src/geometry/geometry.js","name":"attribute","original":{"line":80,"column":10},"generated":{"line":1,"column":986}},{"source":"../../../src/geometry/geometry.js","name":"attributes","original":{"line":80,"column":22},"generated":{"line":1,"column":988}},{"source":"../../../src/geometry/geometry.js","name":"attributeName","original":{"line":80,"column":33},"generated":{"line":1,"column":990}},{"source":"../../../src/geometry/geometry.js","name":"attribute","original":{"line":83,"column":6},"generated":{"line":1,"column":993}},{"source":"../../../src/geometry/geometry.js","name":"ArrayBuffer","original":{"line":83,"column":18},"generated":{"line":1,"column":995}},{"source":"../../../src/geometry/geometry.js","name":"isView","original":{"line":83,"column":30},"generated":{"line":1,"column":1007}},{"source":"../../../src/geometry/geometry.js","name":"attribute","original":{"line":83,"column":37},"generated":{"line":1,"column":1014}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":83,"column":50},"generated":{"line":1,"column":1017}},{"source":"../../../src/geometry/geometry.js","name":"value","original":{"line":83,"column":51},"generated":{"line":1,"column":1018}},{"source":"../../../src/geometry/geometry.js","name":"attribute","original":{"line":83,"column":58},"generated":{"line":1,"column":1024}},{"source":"../../../src/geometry/geometry.js","name":"attribute","original":{"line":83,"column":71},"generated":{"line":1,"column":1027}},{"source":"../../../src/geometry/geometry.js","name":"assert","original":{"line":85,"column":6},"generated":{"line":1,"column":1030}},{"source":"../../../src/geometry/geometry.js","name":"assert","original":{"line":85,"column":6},"generated":{"line":1,"column":1032}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":85,"column":12},"generated":{"line":1,"column":1034}},{"source":"../../../src/geometry/geometry.js","name":"ArrayBuffer","original":{"line":86,"column":8},"generated":{"line":1,"column":1042}},{"source":"../../../src/geometry/geometry.js","name":"isView","original":{"line":86,"column":20},"generated":{"line":1,"column":1054}},{"source":"../../../src/geometry/geometry.js","name":"attribute","original":{"line":86,"column":27},"generated":{"line":1,"column":1061}},{"source":"../../../src/geometry/geometry.js","name":"value","original":{"line":86,"column":37},"generated":{"line":1,"column":1063}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":85,"column":12},"generated":{"line":1,"column":1070}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":85,"column":12},"generated":{"line":1,"column":1073}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":87,"column":11},"generated":{"line":1,"column":1080}},{"source":"../../../src/geometry/geometry.js","name":"_print","original":{"line":87,"column":16},"generated":{"line":1,"column":1085}},{"source":"../../../src/geometry/geometry.js","name":"attributeName","original":{"line":87,"column":23},"generated":{"line":1,"column":1092}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":85,"column":12},"generated":{"line":1,"column":1095}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":90,"column":29},"generated":{"line":1,"column":1157}},{"source":"../../../src/geometry/geometry.js","name":"attributeName","original":{"line":90,"column":11},"generated":{"line":1,"column":1170}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":90,"column":61},"generated":{"line":1,"column":1173}},{"source":"../../../src/geometry/geometry.js","name":"attributeName","original":{"line":90,"column":43},"generated":{"line":1,"column":1187}},{"source":"../../../src/geometry/geometry.js","name":"attribute","original":{"line":90,"column":78},"generated":{"line":1,"column":1190}},{"source":"../../../src/geometry/geometry.js","name":"size","original":{"line":90,"column":88},"generated":{"line":1,"column":1192}},{"source":"../../../src/geometry/geometry.js","name":"attribute","original":{"line":91,"column":8},"generated":{"line":1,"column":1199}},{"source":"../../../src/geometry/geometry.js","name":"size","original":{"line":91,"column":18},"generated":{"line":1,"column":1201}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":91,"column":25},"generated":{"line":1,"column":1206}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":95,"column":28},"generated":{"line":1,"column":1209}},{"source":"../../../src/geometry/geometry.js","name":"attributeName","original":{"line":95,"column":10},"generated":{"line":1,"column":1221}},{"source":"../../../src/geometry/geometry.js","name":"assert","original":{"line":96,"column":8},"generated":{"line":1,"column":1225}},{"source":"../../../src/geometry/geometry.js","name":"assert","original":{"line":96,"column":8},"generated":{"line":1,"column":1227}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":96,"column":14},"generated":{"line":1,"column":1229}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":96,"column":16},"generated":{"line":1,"column":1238}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":96,"column":21},"generated":{"line":1,"column":1243}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":97,"column":8},"generated":{"line":1,"column":1252}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":97,"column":13},"generated":{"line":1,"column":1257}},{"source":"../../../src/geometry/geometry.js","name":"attribute","original":{"line":97,"column":23},"generated":{"line":1,"column":1265}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":99,"column":8},"generated":{"line":1,"column":1268}},{"source":"../../../src/geometry/geometry.js","name":"attributes","original":{"line":99,"column":13},"generated":{"line":1,"column":1273}},{"source":"../../../src/geometry/geometry.js","name":"attributeName","original":{"line":99,"column":24},"generated":{"line":1,"column":1284}},{"source":"../../../src/geometry/geometry.js","name":"attribute","original":{"line":99,"column":41},"generated":{"line":1,"column":1287}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":108,"column":4},"generated":{"line":1,"column":1289}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":103,"column":8},"generated":{"line":1,"column":1296}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":103,"column":13},"generated":{"line":1,"column":1301}},{"source":"../../../src/geometry/geometry.js","name":"undefined","original":{"line":103,"column":51},"generated":{"line":1,"column":1315}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":103,"column":24},"generated":{"line":1,"column":1319}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":103,"column":29},"generated":{"line":1,"column":1324}},{"source":"../../../src/geometry/geometry.js","name":"isIndexed","original":{"line":103,"column":37},"generated":{"line":1,"column":1332}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":104,"column":6},"generated":{"line":1,"column":1344}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":104,"column":11},"generated":{"line":1,"column":1349}},{"source":"../../../src/geometry/geometry.js","name":"Object","original":{"line":104,"column":21},"generated":{"line":1,"column":1357}},{"source":"../../../src/geometry/geometry.js","name":"assign","original":{"line":104,"column":28},"generated":{"line":1,"column":1364}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":104,"column":35},"generated":{"line":1,"column":1371}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":104,"column":39},"generated":{"line":1,"column":1374}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":104,"column":44},"generated":{"line":1,"column":1379}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":105,"column":13},"generated":{"line":1,"column":1395}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":105,"column":18},"generated":{"line":1,"column":1400}},{"source":"../../../src/geometry/geometry.js","name":"isIndexed","original":{"line":105,"column":26},"generated":{"line":1,"column":1408}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":108,"column":11},"generated":{"line":1,"column":1419}},{"source":"../../../src/geometry/geometry.js","name":"_calculateVertexCount","original":{"line":111,"column":2},"generated":{"line":1,"column":1424}},{"source":"../../../src/geometry/geometry.js","name":"attributes","original":{"line":111,"column":24},"generated":{"line":1,"column":1446}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":111,"column":36},"generated":{"line":1,"column":1448}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":112,"column":4},"generated":{"line":1,"column":1451}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":112,"column":8},"generated":{"line":1,"column":1454}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":113,"column":6},"generated":{"line":1,"column":1456}},{"source":"../../../src/geometry/geometry.js","name":"indices","original":{"line":113,"column":13},"generated":{"line":1,"column":1463}},{"source":"../../../src/geometry/geometry.js","name":"value","original":{"line":113,"column":21},"generated":{"line":1,"column":1465}},{"source":"../../../src/geometry/geometry.js","name":"length","original":{"line":113,"column":27},"generated":{"line":1,"column":1471}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":115,"column":4},"generated":{"line":1,"column":1478}},{"source":"../../../src/geometry/geometry.js","name":"vertexCount","original":{"line":115,"column":8},"generated":{"line":1,"column":1482}},{"source":"../../../src/geometry/geometry.js","name":"Infinity","original":{"line":115,"column":22},"generated":{"line":1,"column":1484}},{"source":"../../../src/geometry/geometry.js","name":"Infinity","original":{"line":115,"column":22},"generated":{"line":1,"column":1486}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":116,"column":4},"generated":{"line":1,"column":1488}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":116,"column":9},"generated":{"line":1,"column":1492}},{"source":"../../../src/geometry/geometry.js","name":"attributeName","original":{"line":116,"column":15},"generated":{"line":1,"column":1498}},{"source":"../../../src/geometry/geometry.js","name":"attributes","original":{"line":116,"column":32},"generated":{"line":1,"column":1503}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":116,"column":44},"generated":{"line":1,"column":1505}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":117,"column":6},"generated":{"line":1,"column":1506}},{"source":"../../../src/geometry/geometry.js","name":"attribute","original":{"line":117,"column":12},"generated":{"line":1,"column":1512}},{"source":"../../../src/geometry/geometry.js","name":"attributes","original":{"line":117,"column":24},"generated":{"line":1,"column":1514}},{"source":"../../../src/geometry/geometry.js","name":"attributeName","original":{"line":117,"column":35},"generated":{"line":1,"column":1516}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":118,"column":12},"generated":{"line":1,"column":1520}},{"source":"../../../src/geometry/geometry.js","name":"value","original":{"line":118,"column":13},"generated":{"line":1,"column":1526}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":118,"column":12},"generated":{"line":1,"column":1528}},{"source":"../../../src/geometry/geometry.js","name":"size","original":{"line":118,"column":20},"generated":{"line":1,"column":1533}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":118,"column":12},"generated":{"line":1,"column":1535}},{"source":"../../../src/geometry/geometry.js","name":"constant","original":{"line":118,"column":26},"generated":{"line":1,"column":1544}},{"source":"../../../src/geometry/geometry.js","name":"attribute","original":{"line":118,"column":38},"generated":{"line":1,"column":1547}},{"source":"../../../src/geometry/geometry.js","name":"constant","original":{"line":119,"column":11},"generated":{"line":1,"column":1550}},{"source":"../../../src/geometry/geometry.js","name":"value","original":{"line":119,"column":23},"generated":{"line":1,"column":1553}},{"source":"../../../src/geometry/geometry.js","name":"size","original":{"line":119,"column":32},"generated":{"line":1,"column":1556}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":119,"column":40},"generated":{"line":1,"column":1559}},{"source":"../../../src/geometry/geometry.js","name":"vertexCount","original":{"line":120,"column":8},"generated":{"line":1,"column":1563}},{"source":"../../../src/geometry/geometry.js","name":"Math","original":{"line":120,"column":22},"generated":{"line":1,"column":1565}},{"source":"../../../src/geometry/geometry.js","name":"min","original":{"line":120,"column":27},"generated":{"line":1,"column":1570}},{"source":"../../../src/geometry/geometry.js","name":"vertexCount","original":{"line":120,"column":31},"generated":{"line":1,"column":1574}},{"source":"../../../src/geometry/geometry.js","name":"value","original":{"line":120,"column":44},"generated":{"line":1,"column":1576}},{"source":"../../../src/geometry/geometry.js","name":"length","original":{"line":120,"column":50},"generated":{"line":1,"column":1578}},{"source":"../../../src/geometry/geometry.js","name":"size","original":{"line":120,"column":59},"generated":{"line":1,"column":1585}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":125,"column":4},"generated":{"line":1,"column":1589}},{"source":"../../../src/geometry/geometry.js","name":"assert","original":{"line":124,"column":4},"generated":{"line":1,"column":1596}},{"source":"../../../src/geometry/geometry.js","name":"assert","original":{"line":124,"column":4},"generated":{"line":1,"column":1598}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":124,"column":10},"generated":{"line":1,"column":1600}},{"source":"../../../src/geometry/geometry.js","name":"Number","original":{"line":124,"column":11},"generated":{"line":1,"column":1608}},{"source":"../../../src/geometry/geometry.js","name":"isFinite","original":{"line":124,"column":18},"generated":{"line":1,"column":1615}},{"source":"../../../src/geometry/geometry.js","name":"vertexCount","original":{"line":124,"column":27},"generated":{"line":1,"column":1624}},{"source":"../../../src/geometry/geometry.js","name":"vertexCount","original":{"line":125,"column":11},"generated":{"line":1,"column":1628}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":1631}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":1639}},{"source":"../../../src/geometry/geometry.js","name":null,"original":{"line":16,"column":30},"generated":{"line":1,"column":1647}}],"sources":{"../../../src/geometry/geometry.js":"import {uid, assert} from '@luma.gl/webgl';\n\n// Rendering primitives - specify how to extract primitives from vertices.\n// NOTE: These are numerically identical to the corresponding WebGL/OpenGL constants\nexport const DRAW_MODE = {\n  POINTS: 0x0000, // draw single points.\n  LINES: 0x0001, // draw lines. Each vertex connects to the one after it.\n  LINE_LOOP: 0x0002, // draw lines. Each set of two vertices is treated as a separate line segment.\n  LINE_STRIP: 0x0003, // draw a connected group of line segments from the first vertex to the last\n  TRIANGLES: 0x0004, // draw triangles. Each set of three vertices creates a separate triangle.\n  TRIANGLE_STRIP: 0x0005, // draw a connected group of triangles.\n  TRIANGLE_FAN: 0x0006 // draw a connected group of triangles.\n  // Each vertex connects to the previous and the first vertex in the fan.\n};\n\nexport default class Geometry {\n  static get DRAW_MODE() {\n    return DRAW_MODE;\n  }\n\n  constructor(props = {}) {\n    const {\n      id = uid('geometry'),\n      drawMode = DRAW_MODE.TRIANGLES,\n      attributes = {},\n      indices = null,\n      vertexCount = null\n    } = props;\n\n    this.id = id;\n    this.drawMode = drawMode | 0;\n    this.attributes = {};\n    this.userData = {};\n\n    this._setAttributes(attributes, indices);\n\n    this.vertexCount = vertexCount || this._calculateVertexCount(this.attributes, this.indices);\n\n    // stubRemovedMethods(this, [\n    //   'setNeedsRedraw', 'needsRedraw', 'setAttributes'\n    // ], 'Immutable');\n\n    // stubRemovedMethods(this, [\n    //   'hasAttribute', 'getAttribute', 'getArray'\n    // ], 'Use geometry.attributes and geometry.indices');\n\n    // deprecateMethods(this, ['getAttributes'])\n  }\n\n  get mode() {\n    return this.drawMode;\n  }\n\n  getVertexCount() {\n    return this.vertexCount;\n  }\n\n  // Return an object with all attributes plus indices added as a field.\n  getAttributes() {\n    return this.indices ? {indices: this.indices, ...this.attributes} : this.attributes;\n  }\n\n  // PRIVATE\n\n  _print(attributeName) {\n    return `Geometry ${this.id} attribute ${attributeName}`;\n  }\n\n  // Attribute\n  // value: typed array\n  // type: indices, vertices, uvs\n  // size: elements per vertex\n  // target: WebGL buffer type (string or constant)\n  _setAttributes(attributes, indices) {\n    if (indices) {\n      this.indices = ArrayBuffer.isView(indices) ? {value: indices, size: 1} : indices;\n    }\n\n    for (const attributeName in attributes) {\n      let attribute = attributes[attributeName];\n\n      // Wrap \"unwrapped\" arrays and try to autodetect their type\n      attribute = ArrayBuffer.isView(attribute) ? {value: attribute} : attribute;\n\n      assert(\n        ArrayBuffer.isView(attribute.value),\n        `${this._print(attributeName)}: must be typed array or object with value as typed array`\n      );\n\n      if ((attributeName === 'POSITION' || attributeName === 'positions') && !attribute.size) {\n        attribute.size = 3;\n      }\n\n      // Move indices to separate field\n      if (attributeName === 'indices') {\n        assert(!this.indices);\n        this.indices = attribute;\n      } else {\n        this.attributes[attributeName] = attribute;\n      }\n    }\n\n    if (this.indices && this.indices.isIndexed !== undefined) {\n      this.indices = Object.assign({}, this.indices);\n      delete this.indices.isIndexed;\n    }\n\n    return this;\n  }\n\n  _calculateVertexCount(attributes, indices) {\n    if (indices) {\n      return indices.value.length;\n    }\n    let vertexCount = Infinity;\n    for (const attributeName in attributes) {\n      const attribute = attributes[attributeName];\n      const {value, size, constant} = attribute;\n      if (!constant && value && size >= 1) {\n        vertexCount = Math.min(vertexCount, value.length / size);\n      }\n    }\n\n    assert(Number.isFinite(vertexCount));\n    return vertexCount;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"337064a88bb6b3af6feb27c3646456d5","cacheData":{"env":{}}}