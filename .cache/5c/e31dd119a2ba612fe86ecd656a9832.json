{"id":"QgRQ","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/effects/post-process-effect.js.map","includedInParent":true,"mtime":1688284130514},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/package.json","includedInParent":true,"mtime":1688284130514},{"name":"@babel/runtime/helpers/esm/defineProperty","loc":{"line":1,"column":28,"index":28},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/effects/post-process-effect.js","resolved":"/project/deck-gl-examples-01/node_modules/@babel/runtime/helpers/esm/defineProperty.js"},{"name":"../passes/screen-pass","loc":{"line":2,"column":23,"index":96},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/effects/post-process-effect.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/passes/screen-pass.js"},{"name":"@luma.gl/core","loc":{"line":3,"column":38,"index":159},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/effects/post-process-effect.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/core/dist/esm/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=r(require(\"@babel/runtime/helpers/esm/defineProperty\")),t=r(require(\"../passes/screen-pass\")),s=require(\"@luma.gl/core\");function r(e){return e&&e.__esModule?e:{default:e}}class n{constructor(t,r={}){(0,e.default)(this,\"id\",void 0),(0,e.default)(this,\"props\",void 0),(0,e.default)(this,\"module\",void 0),(0,e.default)(this,\"passes\",void 0),this.id=\"\".concat(t.name,\"-pass\"),this.props=r,(0,s.normalizeShaderModule)(t),this.module=t}setProps(e){this.props=e}preRender(){}postRender(e,t){const s=this.passes||o(e,this.module,this.id);this.passes=s;const{target:r}=t;let n=t.inputBuffer,i=t.swapBuffer;for(let o=0;o<this.passes.length;o++){r&&o===this.passes.length-1&&(i=r),this.passes[o].render({inputBuffer:n,outputBuffer:i,moduleSettings:this.props});const e=i;i=n,n=e}return n}cleanup(){if(this.passes){for(const e of this.passes)e.delete();this.passes=void 0}}}function o(e,s,r){if(!s.passes){const n=u(s);return[new t.default(e,{id:r,module:s,fs:n})]}return s.passes.map((n,o)=>{const i=u(s,n),a=\"\".concat(r,\"-\").concat(o);return new t.default(e,{id:a,module:s,fs:i})})}exports.default=n;const i=e=>\"uniform sampler2D texture;\\nuniform vec2 texSize;\\n\\nvarying vec2 position;\\nvarying vec2 coordinate;\\nvarying vec2 uv;\\n\\nvoid main() {\\n  vec2 texCoord = coordinate;\\n\\n  gl_FragColor = texture2D(texture, texCoord);\\n  gl_FragColor = \".concat(e,\"(gl_FragColor, texSize, texCoord);\\n}\\n\"),a=e=>\"uniform sampler2D texture;\\nuniform vec2 texSize;\\n\\nvarying vec2 position;\\nvarying vec2 coordinate;\\nvarying vec2 uv;\\n\\nvoid main() {\\n  vec2 texCoord = coordinate;\\n\\n  gl_FragColor = \".concat(e,\"(texture, texSize, texCoord);\\n}\\n\");function u(e,t=e){if(t.filter){const s=\"string\"==typeof t.filter?t.filter:\"\".concat(e.name,\"_filterColor\");return i(s)}if(t.sampler){const s=\"string\"==typeof t.sampler?t.sampler:\"\".concat(e.name,\"_sampleColor\");return a(s)}return null}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":89}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":91}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":95}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":97}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":99}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":125,"column":1},"generated":{"line":1,"column":107}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":153}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":155}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":157}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":165}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":191}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":193}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":201}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":218}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":227}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":229}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":232}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":239}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":242}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":244}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":255}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":257}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":258}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":266}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":8,"column":15},"generated":{"line":1,"column":269}},{"source":"../../../src/effects/post-process-effect.ts","name":"PostProcessEffect","original":{"line":8,"column":21},"generated":{"line":1,"column":275}},{"source":"../../../src/effects/post-process-effect.ts","name":"constructor","original":{"line":14,"column":2},"generated":{"line":1,"column":277}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":14,"column":14},"generated":{"line":1,"column":289}},{"source":"../../../src/effects/post-process-effect.ts","name":"props","original":{"line":14,"column":36},"generated":{"line":1,"column":291}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":49},"generated":{"line":1,"column":293}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":298}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":300}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":302}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":311}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":316}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":326}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":330}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":332}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":334}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":343}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":348}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":361}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":365}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":367}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":369}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":378}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":383}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":397}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":401}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":403}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":405}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":414}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":419}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":1,"column":433}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":436}},{"source":"../../../src/effects/post-process-effect.ts","name":"id","original":{"line":15,"column":9},"generated":{"line":1,"column":441}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":444}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":447}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":15,"column":17},"generated":{"line":1,"column":454}},{"source":"../../../src/effects/post-process-effect.ts","name":"name","original":{"line":15,"column":24},"generated":{"line":1,"column":456}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":461}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":470}},{"source":"../../../src/effects/post-process-effect.ts","name":"props","original":{"line":16,"column":9},"generated":{"line":1,"column":475}},{"source":"../../../src/effects/post-process-effect.ts","name":"props","original":{"line":16,"column":17},"generated":{"line":1,"column":481}},{"source":"../../../src/effects/post-process-effect.ts","name":"normalizeShaderModule","original":{"line":17,"column":4},"generated":{"line":1,"column":484}},{"source":"../../../src/effects/post-process-effect.ts","name":"normalizeShaderModule","original":{"line":17,"column":4},"generated":{"line":1,"column":486}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":17,"column":25},"generated":{"line":1,"column":488}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":17,"column":26},"generated":{"line":1,"column":511}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":1,"column":514}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":18,"column":9},"generated":{"line":1,"column":519}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":18,"column":18},"generated":{"line":1,"column":526}},{"source":"../../../src/effects/post-process-effect.ts","name":"setProps","original":{"line":21,"column":2},"generated":{"line":1,"column":528}},{"source":"../../../src/effects/post-process-effect.ts","name":"props","original":{"line":21,"column":11},"generated":{"line":1,"column":537}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":1,"column":540}},{"source":"../../../src/effects/post-process-effect.ts","name":"props","original":{"line":22,"column":9},"generated":{"line":1,"column":545}},{"source":"../../../src/effects/post-process-effect.ts","name":"props","original":{"line":22,"column":17},"generated":{"line":1,"column":551}},{"source":"../../../src/effects/post-process-effect.ts","name":"preRender","original":{"line":26,"column":2},"generated":{"line":1,"column":553}},{"source":"../../../src/effects/post-process-effect.ts","name":"postRender","original":{"line":28,"column":2},"generated":{"line":1,"column":566}},{"source":"../../../src/effects/post-process-effect.ts","name":"gl","original":{"line":28,"column":13},"generated":{"line":1,"column":577}},{"source":"../../../src/effects/post-process-effect.ts","name":"params","original":{"line":28,"column":40},"generated":{"line":1,"column":579}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":582}},{"source":"../../../src/effects/post-process-effect.ts","name":"passes","original":{"line":29,"column":10},"generated":{"line":1,"column":588}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":29,"column":19},"generated":{"line":1,"column":590}},{"source":"../../../src/effects/post-process-effect.ts","name":"passes","original":{"line":29,"column":24},"generated":{"line":1,"column":595}},{"source":"../../../src/effects/post-process-effect.ts","name":"createPasses","original":{"line":29,"column":34},"generated":{"line":1,"column":603}},{"source":"../../../src/effects/post-process-effect.ts","name":"gl","original":{"line":29,"column":47},"generated":{"line":1,"column":605}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":29,"column":51},"generated":{"line":1,"column":607}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":29,"column":56},"generated":{"line":1,"column":612}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":29,"column":64},"generated":{"line":1,"column":619}},{"source":"../../../src/effects/post-process-effect.ts","name":"id","original":{"line":29,"column":69},"generated":{"line":1,"column":624}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":1,"column":628}},{"source":"../../../src/effects/post-process-effect.ts","name":"passes","original":{"line":30,"column":9},"generated":{"line":1,"column":633}},{"source":"../../../src/effects/post-process-effect.ts","name":"passes","original":{"line":30,"column":18},"generated":{"line":1,"column":640}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":642}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":32,"column":10},"generated":{"line":1,"column":648}},{"source":"../../../src/effects/post-process-effect.ts","name":"target","original":{"line":32,"column":11},"generated":{"line":1,"column":655}},{"source":"../../../src/effects/post-process-effect.ts","name":"params","original":{"line":32,"column":21},"generated":{"line":1,"column":658}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":1,"column":660}},{"source":"../../../src/effects/post-process-effect.ts","name":"inputBuffer","original":{"line":33,"column":8},"generated":{"line":1,"column":664}},{"source":"../../../src/effects/post-process-effect.ts","name":"params","original":{"line":33,"column":22},"generated":{"line":1,"column":666}},{"source":"../../../src/effects/post-process-effect.ts","name":"inputBuffer","original":{"line":33,"column":29},"generated":{"line":1,"column":668}},{"source":"../../../src/effects/post-process-effect.ts","name":"outputBuffer","original":{"line":34,"column":8},"generated":{"line":1,"column":680}},{"source":"../../../src/effects/post-process-effect.ts","name":"params","original":{"line":34,"column":23},"generated":{"line":1,"column":682}},{"source":"../../../src/effects/post-process-effect.ts","name":"swapBuffer","original":{"line":34,"column":30},"generated":{"line":1,"column":684}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":1,"column":695}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":36,"column":9},"generated":{"line":1,"column":699}},{"source":"../../../src/effects/post-process-effect.ts","name":"index","original":{"line":36,"column":13},"generated":{"line":1,"column":703}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":36,"column":21},"generated":{"line":1,"column":705}},{"source":"../../../src/effects/post-process-effect.ts","name":"index","original":{"line":36,"column":24},"generated":{"line":1,"column":707}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":36,"column":32},"generated":{"line":1,"column":709}},{"source":"../../../src/effects/post-process-effect.ts","name":"passes","original":{"line":36,"column":37},"generated":{"line":1,"column":714}},{"source":"../../../src/effects/post-process-effect.ts","name":"length","original":{"line":36,"column":44},"generated":{"line":1,"column":721}},{"source":"../../../src/effects/post-process-effect.ts","name":"index","original":{"line":36,"column":52},"generated":{"line":1,"column":728}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":36,"column":61},"generated":{"line":1,"column":732}},{"source":"../../../src/effects/post-process-effect.ts","name":"target","original":{"line":37,"column":10},"generated":{"line":1,"column":733}},{"source":"../../../src/effects/post-process-effect.ts","name":"index","original":{"line":37,"column":20},"generated":{"line":1,"column":736}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":37,"column":30},"generated":{"line":1,"column":740}},{"source":"../../../src/effects/post-process-effect.ts","name":"passes","original":{"line":37,"column":35},"generated":{"line":1,"column":745}},{"source":"../../../src/effects/post-process-effect.ts","name":"length","original":{"line":37,"column":42},"generated":{"line":1,"column":752}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":37,"column":51},"generated":{"line":1,"column":759}},{"source":"../../../src/effects/post-process-effect.ts","name":"outputBuffer","original":{"line":38,"column":8},"generated":{"line":1,"column":763}},{"source":"../../../src/effects/post-process-effect.ts","name":"target","original":{"line":38,"column":23},"generated":{"line":1,"column":765}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":40,"column":6},"generated":{"line":1,"column":768}},{"source":"../../../src/effects/post-process-effect.ts","name":"passes","original":{"line":40,"column":11},"generated":{"line":1,"column":773}},{"source":"../../../src/effects/post-process-effect.ts","name":"index","original":{"line":40,"column":18},"generated":{"line":1,"column":780}},{"source":"../../../src/effects/post-process-effect.ts","name":"render","original":{"line":40,"column":25},"generated":{"line":1,"column":783}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":40,"column":32},"generated":{"line":1,"column":790}},{"source":"../../../src/effects/post-process-effect.ts","name":"inputBuffer","original":{"line":40,"column":33},"generated":{"line":1,"column":791}},{"source":"../../../src/effects/post-process-effect.ts","name":"inputBuffer","original":{"line":40,"column":33},"generated":{"line":1,"column":803}},{"source":"../../../src/effects/post-process-effect.ts","name":"outputBuffer","original":{"line":40,"column":46},"generated":{"line":1,"column":805}},{"source":"../../../src/effects/post-process-effect.ts","name":"outputBuffer","original":{"line":40,"column":46},"generated":{"line":1,"column":818}},{"source":"../../../src/effects/post-process-effect.ts","name":"moduleSettings","original":{"line":40,"column":60},"generated":{"line":1,"column":820}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":40,"column":76},"generated":{"line":1,"column":835}},{"source":"../../../src/effects/post-process-effect.ts","name":"props","original":{"line":40,"column":81},"generated":{"line":1,"column":840}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":41,"column":6},"generated":{"line":1,"column":848}},{"source":"../../../src/effects/post-process-effect.ts","name":"switchBuffer","original":{"line":41,"column":12},"generated":{"line":1,"column":854}},{"source":"../../../src/effects/post-process-effect.ts","name":"outputBuffer","original":{"line":41,"column":27},"generated":{"line":1,"column":856}},{"source":"../../../src/effects/post-process-effect.ts","name":"outputBuffer","original":{"line":42,"column":6},"generated":{"line":1,"column":858}},{"source":"../../../src/effects/post-process-effect.ts","name":"inputBuffer","original":{"line":42,"column":21},"generated":{"line":1,"column":860}},{"source":"../../../src/effects/post-process-effect.ts","name":"inputBuffer","original":{"line":43,"column":6},"generated":{"line":1,"column":862}},{"source":"../../../src/effects/post-process-effect.ts","name":"switchBuffer","original":{"line":43,"column":20},"generated":{"line":1,"column":864}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":1,"column":866}},{"source":"../../../src/effects/post-process-effect.ts","name":"inputBuffer","original":{"line":45,"column":11},"generated":{"line":1,"column":873}},{"source":"../../../src/effects/post-process-effect.ts","name":"cleanup","original":{"line":48,"column":2},"generated":{"line":1,"column":875}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":1,"column":885}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":888}},{"source":"../../../src/effects/post-process-effect.ts","name":"passes","original":{"line":49,"column":13},"generated":{"line":1,"column":893}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":49,"column":21},"generated":{"line":1,"column":900}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":50,"column":6},"generated":{"line":1,"column":901}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":50,"column":11},"generated":{"line":1,"column":905}},{"source":"../../../src/effects/post-process-effect.ts","name":"pass","original":{"line":50,"column":17},"generated":{"line":1,"column":911}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":50,"column":25},"generated":{"line":1,"column":916}},{"source":"../../../src/effects/post-process-effect.ts","name":"passes","original":{"line":50,"column":30},"generated":{"line":1,"column":921}},{"source":"../../../src/effects/post-process-effect.ts","name":"pass","original":{"line":51,"column":8},"generated":{"line":1,"column":928}},{"source":"../../../src/effects/post-process-effect.ts","name":"delete","original":{"line":51,"column":13},"generated":{"line":1,"column":930}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":53,"column":6},"generated":{"line":1,"column":939}},{"source":"../../../src/effects/post-process-effect.ts","name":"passes","original":{"line":53,"column":11},"generated":{"line":1,"column":944}},{"source":"../../../src/effects/post-process-effect.ts","name":"undefined","original":{"line":53,"column":20},"generated":{"line":1,"column":956}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":58,"column":0},"generated":{"line":1,"column":960}},{"source":"../../../src/effects/post-process-effect.ts","name":"createPasses","original":{"line":58,"column":9},"generated":{"line":1,"column":969}},{"source":"../../../src/effects/post-process-effect.ts","name":"gl","original":{"line":58,"column":22},"generated":{"line":1,"column":971}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":58,"column":49},"generated":{"line":1,"column":973}},{"source":"../../../src/effects/post-process-effect.ts","name":"id","original":{"line":58,"column":71},"generated":{"line":1,"column":975}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":59,"column":2},"generated":{"line":1,"column":978}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":59,"column":7},"generated":{"line":1,"column":982}},{"source":"../../../src/effects/post-process-effect.ts","name":"passes","original":{"line":59,"column":14},"generated":{"line":1,"column":984}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":59,"column":22},"generated":{"line":1,"column":991}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":60,"column":4},"generated":{"line":1,"column":992}},{"source":"../../../src/effects/post-process-effect.ts","name":"fs","original":{"line":60,"column":10},"generated":{"line":1,"column":998}},{"source":"../../../src/effects/post-process-effect.ts","name":"getFragmentShaderForRenderPass","original":{"line":60,"column":15},"generated":{"line":1,"column":1000}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":60,"column":46},"generated":{"line":1,"column":1002}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":66,"column":4},"generated":{"line":1,"column":1005}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":66,"column":11},"generated":{"line":1,"column":1011}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":61,"column":17},"generated":{"line":1,"column":1012}},{"source":"../../../src/effects/post-process-effect.ts","name":"ScreenPass","original":{"line":61,"column":21},"generated":{"line":1,"column":1016}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":61,"column":17},"generated":{"line":1,"column":1018}},{"source":"../../../src/effects/post-process-effect.ts","name":"gl","original":{"line":61,"column":32},"generated":{"line":1,"column":1026}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":61,"column":36},"generated":{"line":1,"column":1028}},{"source":"../../../src/effects/post-process-effect.ts","name":"id","original":{"line":62,"column":6},"generated":{"line":1,"column":1029}},{"source":"../../../src/effects/post-process-effect.ts","name":"id","original":{"line":62,"column":6},"generated":{"line":1,"column":1032}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":63,"column":6},"generated":{"line":1,"column":1034}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":63,"column":6},"generated":{"line":1,"column":1041}},{"source":"../../../src/effects/post-process-effect.ts","name":"fs","original":{"line":64,"column":6},"generated":{"line":1,"column":1043}},{"source":"../../../src/effects/post-process-effect.ts","name":"fs","original":{"line":64,"column":6},"generated":{"line":1,"column":1046}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":69,"column":2},"generated":{"line":1,"column":1051}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":69,"column":9},"generated":{"line":1,"column":1058}},{"source":"../../../src/effects/post-process-effect.ts","name":"passes","original":{"line":69,"column":16},"generated":{"line":1,"column":1060}},{"source":"../../../src/effects/post-process-effect.ts","name":"map","original":{"line":69,"column":23},"generated":{"line":1,"column":1067}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":69,"column":27},"generated":{"line":1,"column":1071}},{"source":"../../../src/effects/post-process-effect.ts","name":"pass","original":{"line":69,"column":28},"generated":{"line":1,"column":1072}},{"source":"../../../src/effects/post-process-effect.ts","name":"index","original":{"line":69,"column":34},"generated":{"line":1,"column":1074}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":1,"column":1079}},{"source":"../../../src/effects/post-process-effect.ts","name":"fs","original":{"line":70,"column":10},"generated":{"line":1,"column":1085}},{"source":"../../../src/effects/post-process-effect.ts","name":"getFragmentShaderForRenderPass","original":{"line":70,"column":15},"generated":{"line":1,"column":1087}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":70,"column":46},"generated":{"line":1,"column":1089}},{"source":"../../../src/effects/post-process-effect.ts","name":"pass","original":{"line":70,"column":54},"generated":{"line":1,"column":1091}},{"source":"../../../src/effects/post-process-effect.ts","name":"idn","original":{"line":71,"column":10},"generated":{"line":1,"column":1094}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":71,"column":13},"generated":{"line":1,"column":1096}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":71,"column":13},"generated":{"line":1,"column":1099}},{"source":"../../../src/effects/post-process-effect.ts","name":"id","original":{"line":71,"column":19},"generated":{"line":1,"column":1106}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":71,"column":13},"generated":{"line":1,"column":1108}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":71,"column":13},"generated":{"line":1,"column":1113}},{"source":"../../../src/effects/post-process-effect.ts","name":"index","original":{"line":71,"column":25},"generated":{"line":1,"column":1120}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":1,"column":1123}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":73,"column":11},"generated":{"line":1,"column":1130}},{"source":"../../../src/effects/post-process-effect.ts","name":"ScreenPass","original":{"line":73,"column":15},"generated":{"line":1,"column":1134}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":73,"column":11},"generated":{"line":1,"column":1136}},{"source":"../../../src/effects/post-process-effect.ts","name":"gl","original":{"line":73,"column":26},"generated":{"line":1,"column":1144}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":73,"column":30},"generated":{"line":1,"column":1146}},{"source":"../../../src/effects/post-process-effect.ts","name":"id","original":{"line":74,"column":6},"generated":{"line":1,"column":1147}},{"source":"../../../src/effects/post-process-effect.ts","name":"idn","original":{"line":74,"column":10},"generated":{"line":1,"column":1150}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":75,"column":6},"generated":{"line":1,"column":1152}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":75,"column":6},"generated":{"line":1,"column":1159}},{"source":"../../../src/effects/post-process-effect.ts","name":"fs","original":{"line":76,"column":6},"generated":{"line":1,"column":1161}},{"source":"../../../src/effects/post-process-effect.ts","name":"fs","original":{"line":76,"column":6},"generated":{"line":1,"column":1164}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":8,"column":57},"generated":{"line":1,"column":1170}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":8,"column":57},"generated":{"line":1,"column":1178}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":8,"column":57},"generated":{"line":1,"column":1186}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":81,"column":0},"generated":{"line":1,"column":1188}},{"source":"../../../src/effects/post-process-effect.ts","name":"FILTER_FS_TEMPLATE","original":{"line":81,"column":6},"generated":{"line":1,"column":1194}},{"source":"../../../src/effects/post-process-effect.ts","name":"func","original":{"line":81,"column":27},"generated":{"line":1,"column":1196}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":81,"column":31},"generated":{"line":1,"column":1199}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":81,"column":31},"generated":{"line":1,"column":1438}},{"source":"../../../src/effects/post-process-effect.ts","name":"func","original":{"line":93,"column":19},"generated":{"line":1,"column":1445}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":81,"column":31},"generated":{"line":1,"column":1447}},{"source":"../../../src/effects/post-process-effect.ts","name":"SAMPLER_FS_TEMPLATE","original":{"line":97,"column":6},"generated":{"line":1,"column":1490}},{"source":"../../../src/effects/post-process-effect.ts","name":"func","original":{"line":97,"column":28},"generated":{"line":1,"column":1492}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":97,"column":32},"generated":{"line":1,"column":1495}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":97,"column":32},"generated":{"line":1,"column":1686}},{"source":"../../../src/effects/post-process-effect.ts","name":"func","original":{"line":108,"column":19},"generated":{"line":1,"column":1693}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":97,"column":32},"generated":{"line":1,"column":1695}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":112,"column":0},"generated":{"line":1,"column":1733}},{"source":"../../../src/effects/post-process-effect.ts","name":"getFragmentShaderForRenderPass","original":{"line":112,"column":9},"generated":{"line":1,"column":1742}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":112,"column":40},"generated":{"line":1,"column":1744}},{"source":"../../../src/effects/post-process-effect.ts","name":"pass","original":{"line":112,"column":48},"generated":{"line":1,"column":1746}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":112,"column":55},"generated":{"line":1,"column":1748}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":1,"column":1751}},{"source":"../../../src/effects/post-process-effect.ts","name":"pass","original":{"line":113,"column":6},"generated":{"line":1,"column":1754}},{"source":"../../../src/effects/post-process-effect.ts","name":"filter","original":{"line":113,"column":11},"generated":{"line":1,"column":1756}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":113,"column":19},"generated":{"line":1,"column":1763}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":114,"column":4},"generated":{"line":1,"column":1764}},{"source":"../../../src/effects/post-process-effect.ts","name":"func","original":{"line":114,"column":10},"generated":{"line":1,"column":1770}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":114,"column":40},"generated":{"line":1,"column":1772}},{"source":"../../../src/effects/post-process-effect.ts","name":"pass","original":{"line":114,"column":24},"generated":{"line":1,"column":1789}},{"source":"../../../src/effects/post-process-effect.ts","name":"filter","original":{"line":114,"column":29},"generated":{"line":1,"column":1791}},{"source":"../../../src/effects/post-process-effect.ts","name":"pass","original":{"line":114,"column":51},"generated":{"line":1,"column":1798}},{"source":"../../../src/effects/post-process-effect.ts","name":"filter","original":{"line":114,"column":56},"generated":{"line":1,"column":1800}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":114,"column":17},"generated":{"line":1,"column":1807}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":114,"column":17},"generated":{"line":1,"column":1810}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":114,"column":68},"generated":{"line":1,"column":1817}},{"source":"../../../src/effects/post-process-effect.ts","name":"name","original":{"line":114,"column":75},"generated":{"line":1,"column":1819}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":114,"column":17},"generated":{"line":1,"column":1824}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":1,"column":1840}},{"source":"../../../src/effects/post-process-effect.ts","name":"FILTER_FS_TEMPLATE","original":{"line":115,"column":11},"generated":{"line":1,"column":1847}},{"source":"../../../src/effects/post-process-effect.ts","name":"func","original":{"line":115,"column":30},"generated":{"line":1,"column":1849}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":118,"column":2},"generated":{"line":1,"column":1852}},{"source":"../../../src/effects/post-process-effect.ts","name":"pass","original":{"line":118,"column":6},"generated":{"line":1,"column":1855}},{"source":"../../../src/effects/post-process-effect.ts","name":"sampler","original":{"line":118,"column":11},"generated":{"line":1,"column":1857}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":118,"column":20},"generated":{"line":1,"column":1865}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":119,"column":4},"generated":{"line":1,"column":1866}},{"source":"../../../src/effects/post-process-effect.ts","name":"func","original":{"line":119,"column":10},"generated":{"line":1,"column":1872}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":119,"column":41},"generated":{"line":1,"column":1874}},{"source":"../../../src/effects/post-process-effect.ts","name":"pass","original":{"line":119,"column":24},"generated":{"line":1,"column":1891}},{"source":"../../../src/effects/post-process-effect.ts","name":"sampler","original":{"line":119,"column":29},"generated":{"line":1,"column":1893}},{"source":"../../../src/effects/post-process-effect.ts","name":"pass","original":{"line":119,"column":52},"generated":{"line":1,"column":1901}},{"source":"../../../src/effects/post-process-effect.ts","name":"sampler","original":{"line":119,"column":57},"generated":{"line":1,"column":1903}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":119,"column":17},"generated":{"line":1,"column":1911}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":119,"column":17},"generated":{"line":1,"column":1914}},{"source":"../../../src/effects/post-process-effect.ts","name":"module","original":{"line":119,"column":70},"generated":{"line":1,"column":1921}},{"source":"../../../src/effects/post-process-effect.ts","name":"name","original":{"line":119,"column":77},"generated":{"line":1,"column":1923}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":119,"column":17},"generated":{"line":1,"column":1928}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":120,"column":4},"generated":{"line":1,"column":1944}},{"source":"../../../src/effects/post-process-effect.ts","name":"SAMPLER_FS_TEMPLATE","original":{"line":120,"column":11},"generated":{"line":1,"column":1951}},{"source":"../../../src/effects/post-process-effect.ts","name":"func","original":{"line":120,"column":31},"generated":{"line":1,"column":1953}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":124,"column":2},"generated":{"line":1,"column":1956}},{"source":"../../../src/effects/post-process-effect.ts","name":null,"original":{"line":124,"column":9},"generated":{"line":1,"column":1963}}],"sources":{"../../../src/effects/post-process-effect.ts":"import ScreenPass from '../passes/screen-pass';\nimport {normalizeShaderModule} from '@luma.gl/core';\n\nimport type {Effect, PostRenderOptions} from '../lib/effect';\nimport type {Framebuffer} from '@luma.gl/webgl';\nimport type {ShaderModule} from '../types/types';\n\nexport default class PostProcessEffect implements Effect {\n  id: string;\n  props: any;\n  module: ShaderModule;\n  passes?: ScreenPass[];\n\n  constructor(module: ShaderModule, props: any = {}) {\n    this.id = `${module.name}-pass`;\n    this.props = props;\n    normalizeShaderModule(module);\n    this.module = module;\n  }\n\n  setProps(props: any) {\n    this.props = props;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  preRender(): void {}\n\n  postRender(gl: WebGLRenderingContext, params: PostRenderOptions): Framebuffer {\n    const passes = this.passes || createPasses(gl, this.module, this.id);\n    this.passes = passes;\n\n    const {target} = params;\n    let inputBuffer = params.inputBuffer;\n    let outputBuffer = params.swapBuffer;\n\n    for (let index = 0; index < this.passes.length; index++) {\n      if (target && index === this.passes.length - 1) {\n        outputBuffer = target;\n      }\n      this.passes[index].render({inputBuffer, outputBuffer, moduleSettings: this.props});\n      const switchBuffer = outputBuffer;\n      outputBuffer = inputBuffer;\n      inputBuffer = switchBuffer;\n    }\n    return inputBuffer;\n  }\n\n  cleanup(): void {\n    if (this.passes) {\n      for (const pass of this.passes) {\n        pass.delete();\n      }\n      this.passes = undefined;\n    }\n  }\n}\n\nfunction createPasses(gl: WebGLRenderingContext, module: ShaderModule, id: string): ScreenPass[] {\n  if (!module.passes) {\n    const fs = getFragmentShaderForRenderPass(module);\n    const pass = new ScreenPass(gl, {\n      id,\n      module,\n      fs\n    });\n    return [pass];\n  }\n\n  return module.passes.map((pass, index) => {\n    const fs = getFragmentShaderForRenderPass(module, pass);\n    const idn = `${id}-${index}`;\n\n    return new ScreenPass(gl, {\n      id: idn,\n      module,\n      fs\n    });\n  });\n}\n\nconst FILTER_FS_TEMPLATE = func => `\\\nuniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = texture2D(texture, texCoord);\n  gl_FragColor = ${func}(gl_FragColor, texSize, texCoord);\n}\n`;\n\nconst SAMPLER_FS_TEMPLATE = func => `\\\nuniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = ${func}(texture, texSize, texCoord);\n}\n`;\n\nfunction getFragmentShaderForRenderPass(module, pass = module) {\n  if (pass.filter) {\n    const func = typeof pass.filter === 'string' ? pass.filter : `${module.name}_filterColor`;\n    return FILTER_FS_TEMPLATE(func);\n  }\n\n  if (pass.sampler) {\n    const func = typeof pass.sampler === 'string' ? pass.sampler : `${module.name}_sampleColor`;\n    return SAMPLER_FS_TEMPLATE(func);\n  }\n\n  // console.error(`${module.name} no fragment shader generated`);\n  return null;\n}\n"},"lineCount":null}},"error":null,"hash":"e2934f350cf362ac007be37bb089fd71","cacheData":{"env":{}}}