{"id":"xUsy","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/category-api/image-type.js.map","includedInParent":true,"mtime":1688284131151},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/package.json","includedInParent":true,"mtime":1688284131151},{"name":"@loaders.gl/loader-utils","loc":{"line":1,"column":26,"index":26},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/images/dist/esm/lib/category-api/image-type.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/loader-utils/dist/esm/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getDefaultImageType=n,exports.isImageTypeSupported=s;var e=require(\"@loaders.gl/loader-utils\");const{_parseImageNode:r}=globalThis,t=\"undefined\"!=typeof Image,a=\"undefined\"!=typeof ImageBitmap,o=Boolean(r),i=!!e.isBrowser||o;function s(e){switch(e){case\"auto\":return a||t||i;case\"imagebitmap\":return a;case\"image\":return t;case\"data\":return i;default:throw new Error(\"@loaders.gl/images: image \".concat(e,\" not supported in this environment\"))}}function n(){if(a)return\"imagebitmap\";if(t)return\"image\";if(i)return\"data\";throw new Error(\"Install '@loaders.gl/polyfills' to parse images under Node.js\")}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":96}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":98}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":106}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":127}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":129}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":133}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":135}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":143}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":171}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":5,"column":6},"generated":{"line":1,"column":177}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"_parseImageNode","original":{"line":5,"column":7},"generated":{"line":1,"column":193}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"globalThis","original":{"line":5,"column":26},"generated":{"line":1,"column":196}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"IMAGE_SUPPORTED","original":{"line":7,"column":6},"generated":{"line":1,"column":207}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":7,"column":41},"generated":{"line":1,"column":209}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"Image","original":{"line":7,"column":31},"generated":{"line":1,"column":229}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"IMAGE_BITMAP_SUPPORTED","original":{"line":8,"column":6},"generated":{"line":1,"column":235}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":8,"column":54},"generated":{"line":1,"column":237}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"ImageBitmap","original":{"line":8,"column":38},"generated":{"line":1,"column":257}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"NODE_IMAGE_SUPPORTED","original":{"line":9,"column":6},"generated":{"line":1,"column":269}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"Boolean","original":{"line":9,"column":29},"generated":{"line":1,"column":271}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"_parseImageNode","original":{"line":9,"column":37},"generated":{"line":1,"column":279}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"DATA_SUPPORTED","original":{"line":10,"column":6},"generated":{"line":1,"column":282}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"isBrowser","original":{"line":10,"column":23},"generated":{"line":1,"column":286}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":10,"column":32},"generated":{"line":1,"column":288}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"NODE_IMAGE_SUPPORTED","original":{"line":10,"column":42},"generated":{"line":1,"column":299}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":16,"column":7},"generated":{"line":1,"column":301}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"isImageTypeSupported","original":{"line":16,"column":16},"generated":{"line":1,"column":310}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"type","original":{"line":16,"column":37},"generated":{"line":1,"column":312}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":315}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"type","original":{"line":17,"column":10},"generated":{"line":1,"column":322}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":1,"column":325}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":1,"column":329}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":20,"column":6},"generated":{"line":1,"column":336}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"IMAGE_BITMAP_SUPPORTED","original":{"line":20,"column":13},"generated":{"line":1,"column":343}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"IMAGE_SUPPORTED","original":{"line":20,"column":39},"generated":{"line":1,"column":346}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"DATA_SUPPORTED","original":{"line":20,"column":58},"generated":{"line":1,"column":349}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":1,"column":351}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":22,"column":9},"generated":{"line":1,"column":355}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":23,"column":6},"generated":{"line":1,"column":369}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"IMAGE_BITMAP_SUPPORTED","original":{"line":23,"column":13},"generated":{"line":1,"column":376}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":378}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":24,"column":9},"generated":{"line":1,"column":382}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":25,"column":6},"generated":{"line":1,"column":390}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"IMAGE_SUPPORTED","original":{"line":25,"column":13},"generated":{"line":1,"column":397}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":1,"column":399}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":26,"column":9},"generated":{"line":1,"column":403}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":27,"column":6},"generated":{"line":1,"column":410}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"DATA_SUPPORTED","original":{"line":27,"column":13},"generated":{"line":1,"column":417}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":419}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":30,"column":6},"generated":{"line":1,"column":427}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":433}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"Error","original":{"line":30,"column":16},"generated":{"line":1,"column":437}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":30,"column":21},"generated":{"line":1,"column":443}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"concat","original":{"line":30,"column":21},"generated":{"line":1,"column":472}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"type","original":{"line":30,"column":51},"generated":{"line":1,"column":479}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":30,"column":55},"generated":{"line":1,"column":481}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":521}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"getDefaultImageType","original":{"line":38,"column":16},"generated":{"line":1,"column":530}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":534}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"IMAGE_BITMAP_SUPPORTED","original":{"line":39,"column":6},"generated":{"line":1,"column":537}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":1,"column":539}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":545}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":559}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"IMAGE_SUPPORTED","original":{"line":42,"column":6},"generated":{"line":1,"column":562}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":1,"column":564}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":570}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":1,"column":578}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"DATA_SUPPORTED","original":{"line":45,"column":6},"generated":{"line":1,"column":581}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":1,"column":583}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":46,"column":11},"generated":{"line":1,"column":589}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":596}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":1,"column":602}},{"source":"../../../../src/lib/category-api/image-type.ts","name":"Error","original":{"line":50,"column":12},"generated":{"line":1,"column":606}},{"source":"../../../../src/lib/category-api/image-type.ts","name":null,"original":{"line":50,"column":18},"generated":{"line":1,"column":612}}],"sources":{"../../../../src/lib/category-api/image-type.ts":"import {isBrowser} from '@loaders.gl/loader-utils';\nimport type {ImageTypeEnum} from '../../types';\n\n// @ts-ignore TS2339: Property does not exist on type\nconst {_parseImageNode} = globalThis;\n\nconst IMAGE_SUPPORTED = typeof Image !== 'undefined'; // NOTE: \"false\" positives if jsdom is installed\nconst IMAGE_BITMAP_SUPPORTED = typeof ImageBitmap !== 'undefined';\nconst NODE_IMAGE_SUPPORTED = Boolean(_parseImageNode);\nconst DATA_SUPPORTED = isBrowser ? true : NODE_IMAGE_SUPPORTED;\n\n/**\n * Checks if a loaders.gl image type is supported\n * @param type image type string\n */\nexport function isImageTypeSupported(type: string): boolean {\n  switch (type) {\n    case 'auto':\n      // Should only ever be false in Node.js, if polyfills have not been installed...\n      return IMAGE_BITMAP_SUPPORTED || IMAGE_SUPPORTED || DATA_SUPPORTED;\n\n    case 'imagebitmap':\n      return IMAGE_BITMAP_SUPPORTED;\n    case 'image':\n      return IMAGE_SUPPORTED;\n    case 'data':\n      return DATA_SUPPORTED;\n\n    default:\n      throw new Error(`@loaders.gl/images: image ${type} not supported in this environment`);\n  }\n}\n\n/**\n * Returns the \"most performant\" supported image type on this platform\n * @returns image type string\n */\nexport function getDefaultImageType(): ImageTypeEnum {\n  if (IMAGE_BITMAP_SUPPORTED) {\n    return 'imagebitmap';\n  }\n  if (IMAGE_SUPPORTED) {\n    return 'image';\n  }\n  if (DATA_SUPPORTED) {\n    return 'data';\n  }\n\n  // This should only happen in Node.js\n  throw new Error('Install \\'@loaders.gl/polyfills\\' to parse images under Node.js');\n}\n"},"lineCount":null}},"error":null,"hash":"46a516d0b50620e01291e61712aafe1f","cacheData":{"env":{}}}