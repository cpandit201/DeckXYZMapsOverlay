{"id":"e1JC","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/mjolnir.js/dist/esm/utils/event-registrar.js.map","includedInParent":true,"mtime":1688284131430},{"name":"/project/deck-gl-examples-01/node_modules/mjolnir.js/src/utils/event-registrar.ts","includedInParent":true,"mtime":1688284131430},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/mjolnir.js/package.json","includedInParent":true,"mtime":1688284131430},{"name":"./event-utils","loc":{"line":1,"column":48,"index":48},"parent":"/project/deck-gl-examples-01/node_modules/mjolnir.js/dist/esm/utils/event-registrar.js","resolved":"/project/deck-gl-examples-01/node_modules/mjolnir.js/dist/esm/utils/event-utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=require(\"./event-utils\");const t={srcElement:\"root\",priority:0};class n{constructor(e){this.handleEvent=(e=>{if(this.isEmpty())return;const t=this._normalizeEvent(e);let n=e.srcEvent.target;for(;n&&n!==t.rootElement;){if(this._emit(t,n),t.handled)return;n=n.parentNode}this._emit(t,\"root\")}),this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,n,s,r=!1,i=!1){const{handlers:l,handlersByElement:o}=this;let a=t;\"string\"==typeof s||s&&s.addEventListener?a={...t,srcElement:s}:s&&(a={...t,...s});let h=o.get(a.srcElement);h||(h=[],o.set(a.srcElement,h));const c={type:e,handler:n,srcElement:a.srcElement,priority:a.priority};r&&(c.once=!0),i&&(c.passive=!0),l.push(c),this._active=this._active||!c.passive;let p=h.length-1;for(;p>=0&&!(h[p].priority>=c.priority);)p--;h.splice(p+1,0,c)}remove(e,t){const{handlers:n,handlersByElement:s}=this;for(let r=n.length-1;r>=0;r--){const i=n[r];if(i.type===e&&i.handler===t){n.splice(r,1);const e=s.get(i.srcElement);e.splice(e.indexOf(i),1),0===e.length&&s.delete(i.srcElement)}}this._active=n.some(e=>!e.passive)}_emit(e,t){const n=this.handlersByElement.get(t);if(n){let t=!1;const s=()=>{e.handled=!0},r=()=>{e.handled=!0,t=!0},i=[];for(let l=0;l<n.length;l++){const{type:o,handler:a,once:h}=n[l];if(a({...e,type:o,stopPropagation:s,stopImmediatePropagation:r}),h&&i.push(n[l]),t)break}for(let e=0;e<i.length;e++){const{type:t,handler:n}=i[e];this.remove(t,n)}}}_normalizeEvent(t){const n=this.eventManager.getElement();return{...t,...(0,e.whichButtons)(t),...(0,e.getOffsetPosition)(t,n),preventDefault:()=>{t.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:n}}}exports.default=n;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":198,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":198,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":198,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":198,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":198,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":198,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":198,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":198,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":198,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":198,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":198,"column":1},"generated":{"line":1,"column":89}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":91}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":95}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":97}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":105}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":122}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":17,"column":6},"generated":{"line":1,"column":128}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":17,"column":40},"generated":{"line":1,"column":130}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":131}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":18,"column":14},"generated":{"line":1,"column":142}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":149}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":19,"column":12},"generated":{"line":1,"column":158}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":22,"column":14},"generated":{"line":1,"column":161}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":22,"column":21},"generated":{"line":1,"column":167}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":1,"column":169}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":29,"column":14},"generated":{"line":1,"column":181}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":114,"column":2},"generated":{"line":1,"column":184}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":114,"column":2},"generated":{"line":1,"column":189}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":114,"column":17},"generated":{"line":1,"column":201}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":114,"column":17},"generated":{"line":1,"column":202}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":1,"column":206}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":115,"column":8},"generated":{"line":1,"column":209}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":115,"column":13},"generated":{"line":1,"column":214}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":116,"column":6},"generated":{"line":1,"column":224}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":119,"column":4},"generated":{"line":1,"column":231}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":119,"column":10},"generated":{"line":1,"column":237}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":119,"column":25},"generated":{"line":1,"column":239}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":119,"column":30},"generated":{"line":1,"column":244}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":119,"column":46},"generated":{"line":1,"column":260}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":120,"column":4},"generated":{"line":1,"column":263}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":120,"column":8},"generated":{"line":1,"column":267}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":120,"column":17},"generated":{"line":1,"column":269}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":120,"column":23},"generated":{"line":1,"column":271}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":120,"column":32},"generated":{"line":1,"column":280}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":122,"column":4},"generated":{"line":1,"column":287}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":122,"column":11},"generated":{"line":1,"column":292}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":122,"column":21},"generated":{"line":1,"column":295}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":122,"column":32},"generated":{"line":1,"column":299}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":122,"column":45},"generated":{"line":1,"column":301}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":122,"column":58},"generated":{"line":1,"column":314}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":124,"column":6},"generated":{"line":1,"column":315}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":123,"column":6},"generated":{"line":1,"column":318}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":123,"column":11},"generated":{"line":1,"column":323}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":123,"column":17},"generated":{"line":1,"column":329}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":123,"column":31},"generated":{"line":1,"column":331}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":124,"column":10},"generated":{"line":1,"column":334}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":124,"column":23},"generated":{"line":1,"column":336}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":125,"column":8},"generated":{"line":1,"column":344}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":127,"column":6},"generated":{"line":1,"column":351}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":127,"column":15},"generated":{"line":1,"column":353}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":127,"column":22},"generated":{"line":1,"column":355}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":129,"column":4},"generated":{"line":1,"column":366}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":129,"column":9},"generated":{"line":1,"column":371}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":129,"column":15},"generated":{"line":1,"column":377}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":129,"column":29},"generated":{"line":1,"column":379}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":1,"column":389}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":394}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":30,"column":24},"generated":{"line":1,"column":407}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":409}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":414}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":31,"column":20},"generated":{"line":1,"column":423}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":1,"column":426}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":431}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":33,"column":29},"generated":{"line":1,"column":449}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":33,"column":33},"generated":{"line":1,"column":453}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":1,"column":457}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":462}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":35,"column":19},"generated":{"line":1,"column":471}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":473}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":1,"column":483}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":490}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":40,"column":17},"generated":{"line":1,"column":495}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":1,"column":503}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":507}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":1,"column":509}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":1,"column":511}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":1,"column":513}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":47,"column":20},"generated":{"line":1,"column":516}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":1,"column":518}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":48,"column":23},"generated":{"line":1,"column":521}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":1,"column":524}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":50,"column":11},"generated":{"line":1,"column":530}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":50,"column":11},"generated":{"line":1,"column":539}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":50,"column":21},"generated":{"line":1,"column":541}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":50,"column":21},"generated":{"line":1,"column":559}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":50,"column":42},"generated":{"line":1,"column":562}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":1,"column":567}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":51,"column":8},"generated":{"line":1,"column":571}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":51,"column":31},"generated":{"line":1,"column":573}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":53,"column":27},"generated":{"line":1,"column":575}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":592}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":53,"column":40},"generated":{"line":1,"column":595}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":53,"column":52},"generated":{"line":1,"column":598}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":53,"column":76},"generated":{"line":1,"column":600}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":56,"column":6},"generated":{"line":1,"column":617}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":56,"column":13},"generated":{"line":1,"column":619}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":56,"column":17},"generated":{"line":1,"column":623}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":625}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":56,"column":46},"generated":{"line":1,"column":636}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":57,"column":15},"generated":{"line":1,"column":639}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":58,"column":6},"generated":{"line":1,"column":643}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":58,"column":13},"generated":{"line":1,"column":645}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":58,"column":17},"generated":{"line":1,"column":649}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":58,"column":37},"generated":{"line":1,"column":654}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":61,"column":4},"generated":{"line":1,"column":658}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":1,"column":662}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":61,"column":18},"generated":{"line":1,"column":664}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":61,"column":36},"generated":{"line":1,"column":666}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":61,"column":40},"generated":{"line":1,"column":670}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":61,"column":45},"generated":{"line":1,"column":672}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":62,"column":9},"generated":{"line":1,"column":684}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":63,"column":6},"generated":{"line":1,"column":688}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":63,"column":16},"generated":{"line":1,"column":690}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":64,"column":6},"generated":{"line":1,"column":693}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":64,"column":24},"generated":{"line":1,"column":695}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":64,"column":28},"generated":{"line":1,"column":699}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":64,"column":33},"generated":{"line":1,"column":701}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":64,"column":45},"generated":{"line":1,"column":712}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":66,"column":4},"generated":{"line":1,"column":716}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":1,"column":722}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":66,"column":32},"generated":{"line":1,"column":724}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":67,"column":6},"generated":{"line":1,"column":725}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":67,"column":6},"generated":{"line":1,"column":730}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":68,"column":6},"generated":{"line":1,"column":732}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":68,"column":6},"generated":{"line":1,"column":740}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":69,"column":6},"generated":{"line":1,"column":742}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":69,"column":18},"generated":{"line":1,"column":753}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":69,"column":23},"generated":{"line":1,"column":755}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":70,"column":6},"generated":{"line":1,"column":766}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":70,"column":16},"generated":{"line":1,"column":775}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":70,"column":21},"generated":{"line":1,"column":777}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":72,"column":8},"generated":{"line":1,"column":787}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":73,"column":6},"generated":{"line":1,"column":791}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":73,"column":12},"generated":{"line":1,"column":793}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":73,"column":19},"generated":{"line":1,"column":799}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":75,"column":8},"generated":{"line":1,"column":802}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":76,"column":6},"generated":{"line":1,"column":806}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":76,"column":12},"generated":{"line":1,"column":808}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":76,"column":22},"generated":{"line":1,"column":817}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":78,"column":4},"generated":{"line":1,"column":820}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":78,"column":13},"generated":{"line":1,"column":822}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":78,"column":18},"generated":{"line":1,"column":827}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":79,"column":4},"generated":{"line":1,"column":830}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":79,"column":9},"generated":{"line":1,"column":835}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":79,"column":19},"generated":{"line":1,"column":843}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":79,"column":24},"generated":{"line":1,"column":848}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":79,"column":36},"generated":{"line":1,"column":858}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":79,"column":42},"generated":{"line":1,"column":860}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":83,"column":4},"generated":{"line":1,"column":868}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":83,"column":8},"generated":{"line":1,"column":872}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":83,"column":25},"generated":{"line":1,"column":874}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":83,"column":33},"generated":{"line":1,"column":876}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":83,"column":42},"generated":{"line":1,"column":883}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":84,"column":4},"generated":{"line":1,"column":885}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":84,"column":11},"generated":{"line":1,"column":890}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":84,"column":29},"generated":{"line":1,"column":893}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":85,"column":10},"generated":{"line":1,"column":898}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":85,"column":18},"generated":{"line":1,"column":900}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":85,"column":34},"generated":{"line":1,"column":903}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":85,"column":46},"generated":{"line":1,"column":913}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":85,"column":52},"generated":{"line":1,"column":915}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":88,"column":6},"generated":{"line":1,"column":926}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":90,"column":4},"generated":{"line":1,"column":930}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":90,"column":12},"generated":{"line":1,"column":932}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":90,"column":19},"generated":{"line":1,"column":939}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":90,"column":36},"generated":{"line":1,"column":941}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":90,"column":39},"generated":{"line":1,"column":943}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":90,"column":42},"generated":{"line":1,"column":945}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":93,"column":2},"generated":{"line":1,"column":948}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":93,"column":9},"generated":{"line":1,"column":955}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":93,"column":23},"generated":{"line":1,"column":957}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":94,"column":4},"generated":{"line":1,"column":960}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":94,"column":11},"generated":{"line":1,"column":966}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":94,"column":11},"generated":{"line":1,"column":975}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":94,"column":21},"generated":{"line":1,"column":977}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":94,"column":21},"generated":{"line":1,"column":995}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":94,"column":42},"generated":{"line":1,"column":998}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":96,"column":4},"generated":{"line":1,"column":1003}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":96,"column":9},"generated":{"line":1,"column":1007}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":96,"column":13},"generated":{"line":1,"column":1011}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":96,"column":17},"generated":{"line":1,"column":1013}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":96,"column":26},"generated":{"line":1,"column":1015}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":96,"column":35},"generated":{"line":1,"column":1022}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":96,"column":38},"generated":{"line":1,"column":1024}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":96,"column":43},"generated":{"line":1,"column":1027}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":96,"column":46},"generated":{"line":1,"column":1029}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":96,"column":51},"generated":{"line":1,"column":1033}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":97,"column":6},"generated":{"line":1,"column":1034}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":97,"column":12},"generated":{"line":1,"column":1040}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":97,"column":20},"generated":{"line":1,"column":1042}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":97,"column":29},"generated":{"line":1,"column":1044}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":99,"column":6},"generated":{"line":1,"column":1047}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":99,"column":10},"generated":{"line":1,"column":1050}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":99,"column":16},"generated":{"line":1,"column":1052}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":99,"column":25},"generated":{"line":1,"column":1059}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":99,"column":33},"generated":{"line":1,"column":1062}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":99,"column":39},"generated":{"line":1,"column":1064}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":99,"column":51},"generated":{"line":1,"column":1074}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":99,"column":60},"generated":{"line":1,"column":1076}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":100,"column":8},"generated":{"line":1,"column":1077}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":100,"column":17},"generated":{"line":1,"column":1079}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":100,"column":24},"generated":{"line":1,"column":1086}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":100,"column":27},"generated":{"line":1,"column":1088}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":1091}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":101,"column":14},"generated":{"line":1,"column":1097}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":101,"column":24},"generated":{"line":1,"column":1099}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":101,"column":42},"generated":{"line":1,"column":1101}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":101,"column":46},"generated":{"line":1,"column":1105}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":101,"column":52},"generated":{"line":1,"column":1107}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":102,"column":8},"generated":{"line":1,"column":1119}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":102,"column":16},"generated":{"line":1,"column":1121}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":102,"column":23},"generated":{"line":1,"column":1128}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":102,"column":31},"generated":{"line":1,"column":1130}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":102,"column":39},"generated":{"line":1,"column":1138}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":102,"column":47},"generated":{"line":1,"column":1141}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":103,"column":31},"generated":{"line":1,"column":1144}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":103,"column":12},"generated":{"line":1,"column":1148}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":103,"column":20},"generated":{"line":1,"column":1150}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":104,"column":10},"generated":{"line":1,"column":1158}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":104,"column":28},"generated":{"line":1,"column":1160}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":104,"column":35},"generated":{"line":1,"column":1167}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":104,"column":41},"generated":{"line":1,"column":1169}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":108,"column":4},"generated":{"line":1,"column":1182}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":108,"column":9},"generated":{"line":1,"column":1187}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":108,"column":19},"generated":{"line":1,"column":1195}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":108,"column":28},"generated":{"line":1,"column":1197}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":108,"column":33},"generated":{"line":1,"column":1202}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":108,"column":43},"generated":{"line":1,"column":1206}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":108,"column":49},"generated":{"line":1,"column":1208}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":135,"column":2},"generated":{"line":1,"column":1217}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":136,"column":4},"generated":{"line":1,"column":1223}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":137,"column":4},"generated":{"line":1,"column":1225}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":1,"column":1228}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":139,"column":10},"generated":{"line":1,"column":1234}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":139,"column":20},"generated":{"line":1,"column":1236}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":139,"column":25},"generated":{"line":1,"column":1241}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":139,"column":43},"generated":{"line":1,"column":1259}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":139,"column":47},"generated":{"line":1,"column":1263}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":141,"column":4},"generated":{"line":1,"column":1266}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":141,"column":8},"generated":{"line":1,"column":1269}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":141,"column":17},"generated":{"line":1,"column":1271}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":142,"column":6},"generated":{"line":1,"column":1272}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":142,"column":10},"generated":{"line":1,"column":1276}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":142,"column":40},"generated":{"line":1,"column":1279}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":145,"column":6},"generated":{"line":1,"column":1281}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":145,"column":12},"generated":{"line":1,"column":1287}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":145,"column":30},"generated":{"line":1,"column":1289}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":146,"column":8},"generated":{"line":1,"column":1294}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":146,"column":14},"generated":{"line":1,"column":1296}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":146,"column":24},"generated":{"line":1,"column":1305}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":149,"column":12},"generated":{"line":1,"column":1308}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":149,"column":39},"generated":{"line":1,"column":1310}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":150,"column":8},"generated":{"line":1,"column":1315}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":150,"column":14},"generated":{"line":1,"column":1317}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":150,"column":24},"generated":{"line":1,"column":1326}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":151,"column":8},"generated":{"line":1,"column":1328}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":151,"column":38},"generated":{"line":1,"column":1331}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":153,"column":12},"generated":{"line":1,"column":1334}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":153,"column":46},"generated":{"line":1,"column":1336}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":155,"column":6},"generated":{"line":1,"column":1339}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":155,"column":11},"generated":{"line":1,"column":1343}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":155,"column":15},"generated":{"line":1,"column":1347}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":155,"column":19},"generated":{"line":1,"column":1349}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":155,"column":22},"generated":{"line":1,"column":1351}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":155,"column":26},"generated":{"line":1,"column":1353}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":155,"column":34},"generated":{"line":1,"column":1355}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":155,"column":42},"generated":{"line":1,"column":1362}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":155,"column":47},"generated":{"line":1,"column":1366}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":156,"column":8},"generated":{"line":1,"column":1367}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":156,"column":15},"generated":{"line":1,"column":1373}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":156,"column":15},"generated":{"line":1,"column":1378}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":156,"column":21},"generated":{"line":1,"column":1380}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":156,"column":21},"generated":{"line":1,"column":1388}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":156,"column":30},"generated":{"line":1,"column":1390}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":156,"column":30},"generated":{"line":1,"column":1395}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":156,"column":38},"generated":{"line":1,"column":1398}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":156,"column":46},"generated":{"line":1,"column":1400}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":167,"column":8},"generated":{"line":1,"column":1403}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":157,"column":8},"generated":{"line":1,"column":1406}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":157,"column":16},"generated":{"line":1,"column":1408}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":158,"column":13},"generated":{"line":1,"column":1412}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":160,"column":10},"generated":{"line":1,"column":1414}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":160,"column":10},"generated":{"line":1,"column":1419}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":161,"column":10},"generated":{"line":1,"column":1421}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":161,"column":10},"generated":{"line":1,"column":1437}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":162,"column":10},"generated":{"line":1,"column":1439}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":162,"column":10},"generated":{"line":1,"column":1464}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":164,"column":12},"generated":{"line":1,"column":1468}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":165,"column":10},"generated":{"line":1,"column":1471}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":165,"column":26},"generated":{"line":1,"column":1473}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":165,"column":31},"generated":{"line":1,"column":1478}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":165,"column":39},"generated":{"line":1,"column":1480}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":167,"column":12},"generated":{"line":1,"column":1484}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":168,"column":10},"generated":{"line":1,"column":1486}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":172,"column":6},"generated":{"line":1,"column":1492}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":172,"column":11},"generated":{"line":1,"column":1496}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":172,"column":15},"generated":{"line":1,"column":1500}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":172,"column":19},"generated":{"line":1,"column":1502}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":172,"column":22},"generated":{"line":1,"column":1504}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":172,"column":26},"generated":{"line":1,"column":1506}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":172,"column":42},"generated":{"line":1,"column":1508}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":172,"column":50},"generated":{"line":1,"column":1515}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":172,"column":55},"generated":{"line":1,"column":1519}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":173,"column":8},"generated":{"line":1,"column":1520}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":173,"column":15},"generated":{"line":1,"column":1526}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":173,"column":15},"generated":{"line":1,"column":1531}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":173,"column":21},"generated":{"line":1,"column":1533}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":173,"column":21},"generated":{"line":1,"column":1541}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":173,"column":32},"generated":{"line":1,"column":1544}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":173,"column":48},"generated":{"line":1,"column":1546}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":174,"column":8},"generated":{"line":1,"column":1549}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":174,"column":13},"generated":{"line":1,"column":1554}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":174,"column":20},"generated":{"line":1,"column":1561}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":174,"column":26},"generated":{"line":1,"column":1563}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":182,"column":2},"generated":{"line":1,"column":1568}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":182,"column":45},"generated":{"line":1,"column":1584}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":183,"column":4},"generated":{"line":1,"column":1587}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":183,"column":10},"generated":{"line":1,"column":1593}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":183,"column":24},"generated":{"line":1,"column":1595}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":183,"column":29},"generated":{"line":1,"column":1600}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":183,"column":42},"generated":{"line":1,"column":1613}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":185,"column":4},"generated":{"line":1,"column":1626}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":185,"column":11},"generated":{"line":1,"column":1632}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":186,"column":9},"generated":{"line":1,"column":1636}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":187,"column":9},"generated":{"line":1,"column":1642}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":187,"column":9},"generated":{"line":1,"column":1644}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":187,"column":21},"generated":{"line":1,"column":1646}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":187,"column":22},"generated":{"line":1,"column":1660}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":188,"column":9},"generated":{"line":1,"column":1667}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":188,"column":9},"generated":{"line":1,"column":1669}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":188,"column":26},"generated":{"line":1,"column":1671}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":188,"column":27},"generated":{"line":1,"column":1690}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":188,"column":34},"generated":{"line":1,"column":1692}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":189,"column":6},"generated":{"line":1,"column":1695}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":189,"column":22},"generated":{"line":1,"column":1710}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":190,"column":8},"generated":{"line":1,"column":1715}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":190,"column":14},"generated":{"line":1,"column":1717}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":190,"column":23},"generated":{"line":1,"column":1726}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":192,"column":6},"generated":{"line":1,"column":1744}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":192,"column":32},"generated":{"line":1,"column":1769}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":193,"column":6},"generated":{"line":1,"column":1774}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":193,"column":23},"generated":{"line":1,"column":1790}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":194,"column":6},"generated":{"line":1,"column":1795}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":194,"column":15},"generated":{"line":1,"column":1804}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":195,"column":6},"generated":{"line":1,"column":1806}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":195,"column":6},"generated":{"line":1,"column":1818}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":198,"column":1},"generated":{"line":1,"column":1822}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":198,"column":1},"generated":{"line":1,"column":1830}},{"source":"../../../src/utils/event-registrar.ts","name":null,"original":{"line":198,"column":1},"generated":{"line":1,"column":1838}}],"sources":{"../../../src/utils/event-registrar.ts":"import type EventManager from '../event-manager';\nimport {whichButtons, getOffsetPosition} from './event-utils';\nimport type {MjolnirEventRaw, MjolnirEventWrapper, MjolnirEvent} from '../types';\n\nexport type HandlerOptions = {\n  srcElement?: 'root' | HTMLElement;\n  priority?: number;\n};\n\ntype EventHandler = {\n  type: string;\n  handler: (event: MjolnirEvent) => void;\n  once?: boolean;\n  passive?: boolean;\n} & HandlerOptions;\n\nconst DEFAULT_OPTIONS: HandlerOptions = {\n  srcElement: 'root',\n  priority: 0\n};\n\nexport default class EventRegistrar {\n  eventManager: EventManager;\n  recognizerName: string;\n  handlers: EventHandler[];\n  handlersByElement: Map<'root' | HTMLElement, EventHandler[]>;\n  _active: boolean;\n\n  constructor(eventManager: EventManager) {\n    this.eventManager = eventManager;\n    this.handlers = [];\n    // Element -> handler map\n    this.handlersByElement = new Map();\n\n    this._active = false;\n  }\n\n  // Returns true if there are no non-passive handlers\n  isEmpty(): boolean {\n    return !this._active;\n  }\n\n  add(\n    type: string,\n    handler: (event: MjolnirEvent) => void,\n    options: HTMLElement | HandlerOptions,\n    once: boolean = false,\n    passive: boolean = false\n  ) {\n    const {handlers, handlersByElement} = this;\n    let opts: HandlerOptions = DEFAULT_OPTIONS;\n\n    if (typeof options === 'string' || (options && (options as HTMLElement).addEventListener)) {\n      // is DOM element, backward compatibility\n      // @ts-ignore\n      opts = {...DEFAULT_OPTIONS, srcElement: options};\n    } else if (options) {\n      opts = {...DEFAULT_OPTIONS, ...options};\n    }\n\n    let entries = handlersByElement.get(opts.srcElement);\n    if (!entries) {\n      entries = [];\n      handlersByElement.set(opts.srcElement, entries);\n    }\n    const entry: EventHandler = {\n      type,\n      handler,\n      srcElement: opts.srcElement,\n      priority: opts.priority\n    };\n    if (once) {\n      entry.once = true;\n    }\n    if (passive) {\n      entry.passive = true;\n    }\n    handlers.push(entry);\n    this._active = this._active || !entry.passive;\n\n    // Sort handlers by descending priority\n    // Handlers with the same priority are excuted in the order of registration\n    let insertPosition = entries.length - 1;\n    while (insertPosition >= 0) {\n      if (entries[insertPosition].priority >= entry.priority) {\n        break;\n      }\n      insertPosition--;\n    }\n    entries.splice(insertPosition + 1, 0, entry);\n  }\n\n  remove(type: string, handler: (event: MjolnirEvent) => void) {\n    const {handlers, handlersByElement} = this;\n\n    for (let i = handlers.length - 1; i >= 0; i--) {\n      const entry = handlers[i];\n\n      if (entry.type === type && entry.handler === handler) {\n        handlers.splice(i, 1);\n        const entries = handlersByElement.get(entry.srcElement);\n        entries.splice(entries.indexOf(entry), 1);\n        if (entries.length === 0) {\n          handlersByElement.delete(entry.srcElement);\n        }\n      }\n    }\n    this._active = handlers.some(entry => !entry.passive);\n  }\n\n  /**\n   * Handles hammerjs event\n   */\n  handleEvent = (event: MjolnirEventRaw) => {\n    if (this.isEmpty()) {\n      return;\n    }\n\n    const mjolnirEvent = this._normalizeEvent(event);\n    let target = event.srcEvent.target as HTMLElement;\n\n    while (target && target !== mjolnirEvent.rootElement) {\n      this._emit(mjolnirEvent, target);\n      if (mjolnirEvent.handled) {\n        return;\n      }\n      target = target.parentNode as HTMLElement;\n    }\n    this._emit(mjolnirEvent, 'root');\n  };\n\n  /**\n   * Invoke handlers on a particular element\n   */\n  _emit<T extends MjolnirEventRaw>(\n    event: MjolnirEventWrapper<T>,\n    srcElement: 'root' | HTMLElement\n  ) {\n    const entries = this.handlersByElement.get(srcElement);\n\n    if (entries) {\n      let immediatePropagationStopped = false;\n\n      // Prevents the current event from bubbling up\n      const stopPropagation = () => {\n        event.handled = true;\n      };\n      // Prevent any remaining listeners from being called\n      const stopImmediatePropagation = () => {\n        event.handled = true;\n        immediatePropagationStopped = true;\n      };\n      const entriesToRemove: EventHandler[] = [];\n\n      for (let i = 0; i < entries.length; i++) {\n        const {type, handler, once} = entries[i];\n        handler({\n          ...event,\n          // @ts-ignore\n          type,\n          stopPropagation,\n          stopImmediatePropagation\n        });\n        if (once) {\n          entriesToRemove.push(entries[i]);\n        }\n        if (immediatePropagationStopped) {\n          break;\n        }\n      }\n\n      for (let i = 0; i < entriesToRemove.length; i++) {\n        const {type, handler} = entriesToRemove[i];\n        this.remove(type, handler);\n      }\n    }\n  }\n\n  /**\n   * Normalizes hammerjs and custom events to have predictable fields.\n   */\n  _normalizeEvent<T extends MjolnirEventRaw>(event: T): MjolnirEventWrapper<T> {\n    const rootElement = this.eventManager.getElement();\n\n    return {\n      ...event,\n      ...whichButtons(event),\n      ...getOffsetPosition(event, rootElement),\n      preventDefault: () => {\n        event.srcEvent.preventDefault();\n      },\n      stopImmediatePropagation: null,\n      stopPropagation: null,\n      handled: false,\n      rootElement\n    };\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"005f528f8ee6bb031fd512af1a881b8d","cacheData":{"env":{}}}