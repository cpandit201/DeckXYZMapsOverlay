{"id":"node_modules/@luma.gl/shadertools/dist/esm/modules/project/project.js","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/shadertools/dist/esm/modules/project/project.js.map","includedInParent":true,"mtime":1688129367566},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688129341320},{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/shadertools/package.json","includedInParent":true,"mtime":1688129367566},{"name":"@math.gl/core","loc":{"line":1,"column":24,"index":24},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/shadertools/dist/esm/modules/project/project.js","resolved":"/project/deck-gl-examples-01/node_modules/@math.gl/core/dist/esm/index.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.project = void 0;\nvar _core = require(\"@math.gl/core\");\nconst IDENTITY_MATRIX = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\nconst DEFAULT_MODULE_OPTIONS = {\n  modelMatrix: IDENTITY_MATRIX,\n  viewMatrix: IDENTITY_MATRIX,\n  projectionMatrix: IDENTITY_MATRIX,\n  cameraPositionWorld: [0, 0, 0]\n};\nfunction getUniforms() {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_MODULE_OPTIONS;\n  let prevUniforms = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const uniforms = {};\n  if (opts.modelMatrix !== undefined) {\n    uniforms.modelMatrix = opts.modelMatrix;\n  }\n  if (opts.viewMatrix !== undefined) {\n    uniforms.viewMatrix = opts.viewMatrix;\n  }\n  if (opts.projectionMatrix !== undefined) {\n    uniforms.projectionMatrix = opts.projectionMatrix;\n  }\n  if (opts.cameraPositionWorld !== undefined) {\n    uniforms.cameraPositionWorld = opts.cameraPositionWorld;\n  }\n  if (opts.projectionMatrix !== undefined || opts.viewMatrix !== undefined) {\n    uniforms.viewProjectionMatrix = new _core.Matrix4(opts.projectionMatrix).multiplyRight(opts.viewMatrix);\n  }\n  return uniforms;\n}\nconst common = \"varying vec4 project_vPositionWorld;\\nvarying vec3 project_vNormalWorld;\\n\\nvec4 project_getPosition_World() {\\n  return project_vPositionWorld;\\n}\\n\\nvec3 project_getNormal_World() {\\n  return project_vNormalWorld;\\n}\\n\";\nconst vs = \"\".concat(common, \"\\nuniform mat4 modelMatrix;\\nuniform mat4 viewMatrix;\\nuniform mat4 projectionMatrix;\\nuniform mat4 viewProjectionMatrix;\\nuniform vec3 cameraPositionWorld;\\n\\nstruct World {\\n  vec3 position;\\n  vec3 normal;\\n};\\n\\nWorld world;\\n\\nvoid project_setPosition(vec4 position) {\\n  project_vPositionWorld = position;\\n}\\n\\nvoid project_setNormal(vec3 normal) {\\n  project_vNormalWorld = normal;\\n}\\n\\nvoid project_setPositionAndNormal_World(vec3 position, vec3 normal) {\\n  world.position = position;\\n  world.normal = normal;\\n}\\n\\nvoid project_setPositionAndNormal_Model(vec3 position, vec3 normal) {\\n  world.position = (modelMatrix * vec4(position, 1.)).xyz;\\n  world.normal = mat3(modelMatrix) * normal;\\n}\\n\\nvec4 project_model_to_clipspace(vec4 position) {\\n  return viewProjectionMatrix * modelMatrix * position;\\n}\\n\\nvec4 project_model_to_clipspace(vec3 position) {\\n  return viewProjectionMatrix * modelMatrix * vec4(position, 1.);\\n}\\n\\nvec4 project_world_to_clipspace(vec3 position) {\\n  return viewProjectionMatrix * vec4(position, 1.);\\n}\\n\\nvec4 project_view_to_clipspace(vec3 position) {\\n  return projectionMatrix * vec4(position, 1.);\\n}\\n\\nvec4 project_to_clipspace(vec3 position) {\\n  return viewProjectionMatrix * vec4(position, 1.);\\n}\\n\");\nconst fs = \"\\n\".concat(common);\nconst project = {\n  name: 'project',\n  getUniforms,\n  vs,\n  fs\n};\nexports.project = project;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":3,"column":0},"generated":{"line":7,"column":0}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":3,"column":0},"generated":{"line":7,"column":4}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":3,"column":0},"generated":{"line":7,"column":9}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":3,"column":0},"generated":{"line":7,"column":12}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":3,"column":0},"generated":{"line":7,"column":19}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":0},"generated":{"line":8,"column":0}},{"source":"../../../../src/modules/project/project.js","name":"IDENTITY_MATRIX","original":{"line":5,"column":6},"generated":{"line":8,"column":6}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":21},"generated":{"line":8,"column":21}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":24}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":25},"generated":{"line":8,"column":25}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":26}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":28},"generated":{"line":8,"column":28}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":29}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":31},"generated":{"line":8,"column":31}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":32}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":34},"generated":{"line":8,"column":34}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":35}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":37},"generated":{"line":8,"column":37}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":38}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":40},"generated":{"line":8,"column":40}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":41}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":43},"generated":{"line":8,"column":43}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":44}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":46},"generated":{"line":8,"column":46}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":47}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":49},"generated":{"line":8,"column":49}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":50}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":52},"generated":{"line":8,"column":52}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":53}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":55},"generated":{"line":8,"column":55}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":56}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":58},"generated":{"line":8,"column":58}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":59}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":61},"generated":{"line":8,"column":61}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":62}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":64},"generated":{"line":8,"column":64}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":65}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":67},"generated":{"line":8,"column":67}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":68}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":70},"generated":{"line":8,"column":70}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":24},"generated":{"line":8,"column":71}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":5,"column":0},"generated":{"line":8,"column":72}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":7,"column":0},"generated":{"line":9,"column":0}},{"source":"../../../../src/modules/project/project.js","name":"DEFAULT_MODULE_OPTIONS","original":{"line":7,"column":6},"generated":{"line":9,"column":6}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":7,"column":28},"generated":{"line":9,"column":28}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":7,"column":31},"generated":{"line":9,"column":31}},{"source":"../../../../src/modules/project/project.js","name":"modelMatrix","original":{"line":8,"column":2},"generated":{"line":10,"column":2}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":8,"column":13},"generated":{"line":10,"column":13}},{"source":"../../../../src/modules/project/project.js","name":"IDENTITY_MATRIX","original":{"line":8,"column":15},"generated":{"line":10,"column":15}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":7,"column":31},"generated":{"line":10,"column":30}},{"source":"../../../../src/modules/project/project.js","name":"viewMatrix","original":{"line":9,"column":2},"generated":{"line":11,"column":2}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":9,"column":12},"generated":{"line":11,"column":12}},{"source":"../../../../src/modules/project/project.js","name":"IDENTITY_MATRIX","original":{"line":9,"column":14},"generated":{"line":11,"column":14}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":7,"column":31},"generated":{"line":11,"column":29}},{"source":"../../../../src/modules/project/project.js","name":"projectionMatrix","original":{"line":10,"column":2},"generated":{"line":12,"column":2}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":10,"column":18},"generated":{"line":12,"column":18}},{"source":"../../../../src/modules/project/project.js","name":"IDENTITY_MATRIX","original":{"line":10,"column":20},"generated":{"line":12,"column":20}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":7,"column":31},"generated":{"line":12,"column":35}},{"source":"../../../../src/modules/project/project.js","name":"cameraPositionWorld","original":{"line":11,"column":2},"generated":{"line":13,"column":2}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":11,"column":21},"generated":{"line":13,"column":21}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":11,"column":23},"generated":{"line":13,"column":23}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":11,"column":24},"generated":{"line":13,"column":24}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":11,"column":23},"generated":{"line":13,"column":25}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":11,"column":27},"generated":{"line":13,"column":27}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":11,"column":23},"generated":{"line":13,"column":28}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":11,"column":30},"generated":{"line":13,"column":30}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":11,"column":23},"generated":{"line":13,"column":31}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":7,"column":31},"generated":{"line":14,"column":0}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":7,"column":0},"generated":{"line":14,"column":1}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":0},"generated":{"line":15,"column":0}},{"source":"../../../../src/modules/project/project.js","name":"getUniforms","original":{"line":14,"column":9},"generated":{"line":15,"column":9}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":0},"generated":{"line":15,"column":20}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":0},"generated":{"line":15,"column":21}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":15,"column":23}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":2}},{"source":"../../../../src/modules/project/project.js","name":"opts","original":{"line":14,"column":21},"generated":{"line":16,"column":6}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":10}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":13}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":22}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":23}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":29}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":32}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":33}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":37}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":46}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":47}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":48}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":49}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":54}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":63}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":66}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":75}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":76}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":77}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":78}},{"source":"../../../../src/modules/project/project.js","name":"DEFAULT_MODULE_OPTIONS","original":{"line":14,"column":28},"generated":{"line":16,"column":81}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":16,"column":103}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":2}},{"source":"../../../../src/modules/project/project.js","name":"prevUniforms","original":{"line":14,"column":52},"generated":{"line":17,"column":6}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":18}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":21}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":30}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":31}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":37}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":40}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":41}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":45}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":54}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":55}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":56}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":57}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":62}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":71}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":74}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":83}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":84}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":85}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":86}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":67},"generated":{"line":17,"column":89}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":67},"generated":{"line":17,"column":90}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":14,"column":71},"generated":{"line":17,"column":91}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":19,"column":2},"generated":{"line":18,"column":2}},{"source":"../../../../src/modules/project/project.js","name":"uniforms","original":{"line":19,"column":8},"generated":{"line":18,"column":8}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":19,"column":16},"generated":{"line":18,"column":16}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":19,"column":19},"generated":{"line":18,"column":19}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":19,"column":19},"generated":{"line":18,"column":20}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":19,"column":2},"generated":{"line":18,"column":21}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":20,"column":2},"generated":{"line":19,"column":2}},{"source":"../../../../src/modules/project/project.js","name":"opts","original":{"line":20,"column":6},"generated":{"line":19,"column":6}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":20,"column":10},"generated":{"line":19,"column":10}},{"source":"../../../../src/modules/project/project.js","name":"modelMatrix","original":{"line":20,"column":11},"generated":{"line":19,"column":11}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":20,"column":6},"generated":{"line":19,"column":22}},{"source":"../../../../src/modules/project/project.js","name":"undefined","original":{"line":20,"column":27},"generated":{"line":19,"column":27}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":20,"column":2},"generated":{"line":19,"column":36}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":20,"column":38},"generated":{"line":19,"column":38}},{"source":"../../../../src/modules/project/project.js","name":"uniforms","original":{"line":21,"column":4},"generated":{"line":20,"column":4}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":21,"column":12},"generated":{"line":20,"column":12}},{"source":"../../../../src/modules/project/project.js","name":"modelMatrix","original":{"line":21,"column":13},"generated":{"line":20,"column":13}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":21,"column":4},"generated":{"line":20,"column":24}},{"source":"../../../../src/modules/project/project.js","name":"opts","original":{"line":21,"column":27},"generated":{"line":20,"column":27}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":21,"column":31},"generated":{"line":20,"column":31}},{"source":"../../../../src/modules/project/project.js","name":"modelMatrix","original":{"line":21,"column":32},"generated":{"line":20,"column":32}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":21,"column":4},"generated":{"line":20,"column":43}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":22,"column":3},"generated":{"line":21,"column":2}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":23,"column":2},"generated":{"line":22,"column":2}},{"source":"../../../../src/modules/project/project.js","name":"opts","original":{"line":23,"column":6},"generated":{"line":22,"column":6}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":23,"column":10},"generated":{"line":22,"column":10}},{"source":"../../../../src/modules/project/project.js","name":"viewMatrix","original":{"line":23,"column":11},"generated":{"line":22,"column":11}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":23,"column":6},"generated":{"line":22,"column":21}},{"source":"../../../../src/modules/project/project.js","name":"undefined","original":{"line":23,"column":26},"generated":{"line":22,"column":26}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":23,"column":2},"generated":{"line":22,"column":35}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":23,"column":37},"generated":{"line":22,"column":37}},{"source":"../../../../src/modules/project/project.js","name":"uniforms","original":{"line":24,"column":4},"generated":{"line":23,"column":4}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":24,"column":12},"generated":{"line":23,"column":12}},{"source":"../../../../src/modules/project/project.js","name":"viewMatrix","original":{"line":24,"column":13},"generated":{"line":23,"column":13}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":24,"column":4},"generated":{"line":23,"column":23}},{"source":"../../../../src/modules/project/project.js","name":"opts","original":{"line":24,"column":26},"generated":{"line":23,"column":26}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":24,"column":30},"generated":{"line":23,"column":30}},{"source":"../../../../src/modules/project/project.js","name":"viewMatrix","original":{"line":24,"column":31},"generated":{"line":23,"column":31}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":24,"column":4},"generated":{"line":23,"column":41}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":25,"column":3},"generated":{"line":24,"column":2}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":26,"column":2},"generated":{"line":25,"column":2}},{"source":"../../../../src/modules/project/project.js","name":"opts","original":{"line":26,"column":6},"generated":{"line":25,"column":6}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":26,"column":10},"generated":{"line":25,"column":10}},{"source":"../../../../src/modules/project/project.js","name":"projectionMatrix","original":{"line":26,"column":11},"generated":{"line":25,"column":11}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":26,"column":6},"generated":{"line":25,"column":27}},{"source":"../../../../src/modules/project/project.js","name":"undefined","original":{"line":26,"column":32},"generated":{"line":25,"column":32}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":26,"column":2},"generated":{"line":25,"column":41}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":26,"column":43},"generated":{"line":25,"column":43}},{"source":"../../../../src/modules/project/project.js","name":"uniforms","original":{"line":27,"column":4},"generated":{"line":26,"column":4}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":27,"column":12},"generated":{"line":26,"column":12}},{"source":"../../../../src/modules/project/project.js","name":"projectionMatrix","original":{"line":27,"column":13},"generated":{"line":26,"column":13}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":27,"column":4},"generated":{"line":26,"column":29}},{"source":"../../../../src/modules/project/project.js","name":"opts","original":{"line":27,"column":32},"generated":{"line":26,"column":32}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":27,"column":36},"generated":{"line":26,"column":36}},{"source":"../../../../src/modules/project/project.js","name":"projectionMatrix","original":{"line":27,"column":37},"generated":{"line":26,"column":37}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":27,"column":4},"generated":{"line":26,"column":53}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":28,"column":3},"generated":{"line":27,"column":2}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":29,"column":2},"generated":{"line":28,"column":2}},{"source":"../../../../src/modules/project/project.js","name":"opts","original":{"line":29,"column":6},"generated":{"line":28,"column":6}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":29,"column":10},"generated":{"line":28,"column":10}},{"source":"../../../../src/modules/project/project.js","name":"cameraPositionWorld","original":{"line":29,"column":11},"generated":{"line":28,"column":11}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":29,"column":6},"generated":{"line":28,"column":30}},{"source":"../../../../src/modules/project/project.js","name":"undefined","original":{"line":29,"column":35},"generated":{"line":28,"column":35}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":29,"column":2},"generated":{"line":28,"column":44}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":29,"column":46},"generated":{"line":28,"column":46}},{"source":"../../../../src/modules/project/project.js","name":"uniforms","original":{"line":30,"column":4},"generated":{"line":29,"column":4}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":30,"column":12},"generated":{"line":29,"column":12}},{"source":"../../../../src/modules/project/project.js","name":"cameraPositionWorld","original":{"line":30,"column":13},"generated":{"line":29,"column":13}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":30,"column":4},"generated":{"line":29,"column":32}},{"source":"../../../../src/modules/project/project.js","name":"opts","original":{"line":30,"column":35},"generated":{"line":29,"column":35}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":30,"column":39},"generated":{"line":29,"column":39}},{"source":"../../../../src/modules/project/project.js","name":"cameraPositionWorld","original":{"line":30,"column":40},"generated":{"line":29,"column":40}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":30,"column":4},"generated":{"line":29,"column":59}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":31,"column":3},"generated":{"line":30,"column":2}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":34,"column":2},"generated":{"line":31,"column":2}},{"source":"../../../../src/modules/project/project.js","name":"opts","original":{"line":34,"column":6},"generated":{"line":31,"column":6}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":34,"column":10},"generated":{"line":31,"column":10}},{"source":"../../../../src/modules/project/project.js","name":"projectionMatrix","original":{"line":34,"column":11},"generated":{"line":31,"column":11}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":34,"column":6},"generated":{"line":31,"column":27}},{"source":"../../../../src/modules/project/project.js","name":"undefined","original":{"line":34,"column":32},"generated":{"line":31,"column":32}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":34,"column":6},"generated":{"line":31,"column":41}},{"source":"../../../../src/modules/project/project.js","name":"opts","original":{"line":34,"column":45},"generated":{"line":31,"column":45}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":34,"column":49},"generated":{"line":31,"column":49}},{"source":"../../../../src/modules/project/project.js","name":"viewMatrix","original":{"line":34,"column":50},"generated":{"line":31,"column":50}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":34,"column":45},"generated":{"line":31,"column":60}},{"source":"../../../../src/modules/project/project.js","name":"undefined","original":{"line":34,"column":65},"generated":{"line":31,"column":65}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":34,"column":2},"generated":{"line":31,"column":74}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":34,"column":76},"generated":{"line":31,"column":76}},{"source":"../../../../src/modules/project/project.js","name":"uniforms","original":{"line":35,"column":4},"generated":{"line":32,"column":4}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":35,"column":12},"generated":{"line":32,"column":12}},{"source":"../../../../src/modules/project/project.js","name":"viewProjectionMatrix","original":{"line":35,"column":13},"generated":{"line":32,"column":13}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":35,"column":4},"generated":{"line":32,"column":33}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":35,"column":36},"generated":{"line":32,"column":36}},{"source":"../../../../src/modules/project/project.js","name":"Matrix4","original":{"line":35,"column":40},"generated":{"line":32,"column":40}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":35,"column":36},"generated":{"line":32,"column":53}},{"source":"../../../../src/modules/project/project.js","name":"opts","original":{"line":35,"column":48},"generated":{"line":32,"column":54}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":35,"column":52},"generated":{"line":32,"column":58}},{"source":"../../../../src/modules/project/project.js","name":"projectionMatrix","original":{"line":35,"column":53},"generated":{"line":32,"column":59}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":35,"column":36},"generated":{"line":32,"column":75}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":35,"column":36},"generated":{"line":32,"column":76}},{"source":"../../../../src/modules/project/project.js","name":"multiplyRight","original":{"line":35,"column":71},"generated":{"line":32,"column":77}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":35,"column":36},"generated":{"line":32,"column":90}},{"source":"../../../../src/modules/project/project.js","name":"opts","original":{"line":36,"column":6},"generated":{"line":32,"column":91}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":36,"column":10},"generated":{"line":32,"column":95}},{"source":"../../../../src/modules/project/project.js","name":"viewMatrix","original":{"line":36,"column":11},"generated":{"line":32,"column":96}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":35,"column":36},"generated":{"line":32,"column":106}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":35,"column":4},"generated":{"line":32,"column":107}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":38,"column":3},"generated":{"line":33,"column":2}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":40,"column":2},"generated":{"line":34,"column":2}},{"source":"../../../../src/modules/project/project.js","name":"uniforms","original":{"line":40,"column":9},"generated":{"line":34,"column":9}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":40,"column":2},"generated":{"line":34,"column":17}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":41,"column":1},"generated":{"line":35,"column":0}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":43,"column":0},"generated":{"line":36,"column":0}},{"source":"../../../../src/modules/project/project.js","name":"common","original":{"line":43,"column":6},"generated":{"line":36,"column":6}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":43,"column":12},"generated":{"line":36,"column":12}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":43,"column":12},"generated":{"line":36,"column":15}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":43,"column":0},"generated":{"line":36,"column":237}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":56,"column":0},"generated":{"line":37,"column":0}},{"source":"../../../../src/modules/project/project.js","name":"vs","original":{"line":56,"column":6},"generated":{"line":37,"column":6}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":56,"column":8},"generated":{"line":37,"column":8}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":56,"column":8},"generated":{"line":37,"column":11}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":56,"column":8},"generated":{"line":37,"column":13}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":56,"column":8},"generated":{"line":37,"column":14}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":56,"column":8},"generated":{"line":37,"column":20}},{"source":"../../../../src/modules/project/project.js","name":"common","original":{"line":57,"column":2},"generated":{"line":37,"column":21}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":56,"column":8},"generated":{"line":37,"column":27}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":56,"column":8},"generated":{"line":37,"column":29}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":56,"column":8},"generated":{"line":37,"column":1286}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":56,"column":0},"generated":{"line":37,"column":1287}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":112,"column":0},"generated":{"line":38,"column":0}},{"source":"../../../../src/modules/project/project.js","name":"fs","original":{"line":112,"column":6},"generated":{"line":38,"column":6}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":112,"column":8},"generated":{"line":38,"column":8}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":112,"column":8},"generated":{"line":38,"column":11}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":112,"column":8},"generated":{"line":38,"column":15}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":112,"column":8},"generated":{"line":38,"column":16}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":112,"column":8},"generated":{"line":38,"column":22}},{"source":"../../../../src/modules/project/project.js","name":"common","original":{"line":113,"column":2},"generated":{"line":38,"column":23}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":112,"column":8},"generated":{"line":38,"column":29}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":112,"column":0},"generated":{"line":38,"column":30}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":117,"column":7},"generated":{"line":39,"column":0}},{"source":"../../../../src/modules/project/project.js","name":"project","original":{"line":117,"column":13},"generated":{"line":39,"column":6}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":117,"column":20},"generated":{"line":39,"column":13}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":117,"column":23},"generated":{"line":39,"column":16}},{"source":"../../../../src/modules/project/project.js","name":"name","original":{"line":118,"column":2},"generated":{"line":40,"column":2}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":118,"column":6},"generated":{"line":40,"column":6}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":118,"column":8},"generated":{"line":40,"column":8}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":117,"column":23},"generated":{"line":40,"column":17}},{"source":"../../../../src/modules/project/project.js","name":"getUniforms","original":{"line":119,"column":2},"generated":{"line":41,"column":2}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":117,"column":23},"generated":{"line":41,"column":13}},{"source":"../../../../src/modules/project/project.js","name":"vs","original":{"line":120,"column":2},"generated":{"line":42,"column":2}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":117,"column":23},"generated":{"line":42,"column":4}},{"source":"../../../../src/modules/project/project.js","name":"fs","original":{"line":121,"column":2},"generated":{"line":43,"column":2}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":117,"column":23},"generated":{"line":44,"column":0}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":117,"column":7},"generated":{"line":44,"column":1}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":117,"column":7},"generated":{"line":45,"column":0}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":117,"column":7},"generated":{"line":45,"column":7}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":117,"column":7},"generated":{"line":45,"column":8}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":117,"column":7},"generated":{"line":45,"column":15}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":117,"column":7},"generated":{"line":45,"column":18}},{"source":"../../../../src/modules/project/project.js","name":null,"original":{"line":117,"column":7},"generated":{"line":45,"column":25}}],"sources":{"../../../../src/modules/project/project.js":"/** @typedef {import('../../types').ShaderModule} ShaderModule */\n\nimport {Matrix4} from '@math.gl/core';\n\nconst IDENTITY_MATRIX = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\nconst DEFAULT_MODULE_OPTIONS = {\n  modelMatrix: IDENTITY_MATRIX,\n  viewMatrix: IDENTITY_MATRIX,\n  projectionMatrix: IDENTITY_MATRIX,\n  cameraPositionWorld: [0, 0, 0]\n};\n\nfunction getUniforms(opts = DEFAULT_MODULE_OPTIONS, prevUniforms = {}) {\n  // const viewProjectionInverse = viewProjection.invert();\n  // viewInverseMatrix: view.invert(),\n  // viewProjectionInverseMatrix: viewProjectionInverse\n\n  const uniforms = {};\n  if (opts.modelMatrix !== undefined) {\n    uniforms.modelMatrix = opts.modelMatrix;\n  }\n  if (opts.viewMatrix !== undefined) {\n    uniforms.viewMatrix = opts.viewMatrix;\n  }\n  if (opts.projectionMatrix !== undefined) {\n    uniforms.projectionMatrix = opts.projectionMatrix;\n  }\n  if (opts.cameraPositionWorld !== undefined) {\n    uniforms.cameraPositionWorld = opts.cameraPositionWorld;\n  }\n\n  // COMPOSITE UNIFORMS\n  if (opts.projectionMatrix !== undefined || opts.viewMatrix !== undefined) {\n    uniforms.viewProjectionMatrix = new Matrix4(opts.projectionMatrix).multiplyRight(\n      opts.viewMatrix\n    );\n  }\n\n  return uniforms;\n}\n\nconst common = `\\\nvarying vec4 project_vPositionWorld;\nvarying vec3 project_vNormalWorld;\n\nvec4 project_getPosition_World() {\n  return project_vPositionWorld;\n}\n\nvec3 project_getNormal_World() {\n  return project_vNormalWorld;\n}\n`;\n\nconst vs = `\\\n${common}\n\n// Unprefixed uniforms\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewProjectionMatrix;\nuniform vec3 cameraPositionWorld;\n\nstruct World {\n  vec3 position;\n  vec3 normal;\n};\n\nWorld world;\n\nvoid project_setPosition(vec4 position) {\n  project_vPositionWorld = position;\n}\n\nvoid project_setNormal(vec3 normal) {\n  project_vNormalWorld = normal;\n}\n\nvoid project_setPositionAndNormal_World(vec3 position, vec3 normal) {\n  world.position = position;\n  world.normal = normal;\n}\n\nvoid project_setPositionAndNormal_Model(vec3 position, vec3 normal) {\n  world.position = (modelMatrix * vec4(position, 1.)).xyz;\n  world.normal = mat3(modelMatrix) * normal;\n}\n\nvec4 project_model_to_clipspace(vec4 position) {\n  return viewProjectionMatrix * modelMatrix * position;\n}\n\nvec4 project_model_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * modelMatrix * vec4(position, 1.);\n}\n\nvec4 project_world_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_view_to_clipspace(vec3 position) {\n  return projectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n`;\n\nconst fs = `\n${common}\\\n`;\n\n/** @type {ShaderModule} */\nexport const project = {\n  name: 'project',\n  getUniforms,\n  vs,\n  fs\n};\n"},"lineCount":null}},"error":null,"hash":"ce1b822be1d947c02f5287a6d3b9f80f","cacheData":{"env":{}}}