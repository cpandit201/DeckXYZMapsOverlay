{"id":"yBNR","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/effects/lighting/point-light.js.map","includedInParent":true,"mtime":1688284130514},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/package.json","includedInParent":true,"mtime":1688284130514},{"name":"@babel/runtime/helpers/esm/defineProperty","loc":{"line":1,"column":28,"index":28},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/effects/lighting/point-light.js","resolved":"/project/deck-gl-examples-01/node_modules/@babel/runtime/helpers/esm/defineProperty.js"},{"name":"../../shaderlib/project/project-functions","loc":{"line":2,"column":32,"index":105},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/effects/lighting/point-light.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/shaderlib/project/project-functions.js"},{"name":"../../lib/constants","loc":{"line":3,"column":34,"index":184},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/effects/lighting/point-light.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/constants.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.PointLight=void 0;var t=e(require(\"@babel/runtime/helpers/esm/defineProperty\")),i=require(\"../../shaderlib/project/project-functions\"),o=require(\"../../lib/constants\");function e(t){return t&&t.__esModule?t:{default:t}}const n=[255,255,255],s=1,r=[0,0,1],d=[0,0,1];let a=0;class c{constructor(i={}){(0,t.default)(this,\"id\",void 0),(0,t.default)(this,\"color\",void 0),(0,t.default)(this,\"intensity\",void 0),(0,t.default)(this,\"type\",\"point\"),(0,t.default)(this,\"position\",void 0),(0,t.default)(this,\"attenuation\",void 0),(0,t.default)(this,\"projectedLight\",void 0);const{color:o=n}=i,{intensity:e=s}=i,{position:r=d}=i;this.id=i.id||\"point-\".concat(a++),this.color=o,this.intensity=e,this.type=\"point\",this.position=r,this.attenuation=h(i),this.projectedLight={...this}}getProjectedLight({layer:t}){const{projectedLight:e}=this,n=t.context.viewport,{coordinateSystem:s,coordinateOrigin:r}=t.props,d=(0,i.projectPosition)(this.position,{viewport:n,coordinateSystem:s,coordinateOrigin:r,fromCoordinateSystem:n.isGeospatial?o.COORDINATE_SYSTEM.LNGLAT:o.COORDINATE_SYSTEM.CARTESIAN,fromCoordinateOrigin:[0,0,0]});return e.color=this.color,e.intensity=this.intensity,e.position=d,e}}function h(t){return t.attenuation?t.attenuation:\"intensity\"in t?[0,0,t.intensity||0]:r}exports.PointLight=c;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":92}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":94}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":98}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":100}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":102}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":1,"column":110}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":156}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":158}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":166}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":211}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":213}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":221}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":244}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":253}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":255}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":258}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":265}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":268}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":270}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":281}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":283}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":284}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":292}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":295}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"DEFAULT_LIGHT_COLOR","original":{"line":6,"column":6},"generated":{"line":1,"column":301}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":6,"column":28},"generated":{"line":1,"column":303}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":6,"column":29},"generated":{"line":1,"column":304}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":6,"column":34},"generated":{"line":1,"column":308}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":6,"column":39},"generated":{"line":1,"column":312}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"DEFAULT_LIGHT_INTENSITY","original":{"line":7,"column":6},"generated":{"line":1,"column":317}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":7,"column":32},"generated":{"line":1,"column":319}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"DEFAULT_ATTENUATION","original":{"line":8,"column":6},"generated":{"line":1,"column":321}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":8,"column":28},"generated":{"line":1,"column":323}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":8,"column":29},"generated":{"line":1,"column":324}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":8,"column":32},"generated":{"line":1,"column":326}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":8,"column":35},"generated":{"line":1,"column":328}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"DEFAULT_LIGHT_POSITION","original":{"line":9,"column":6},"generated":{"line":1,"column":331}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":9,"column":31},"generated":{"line":1,"column":333}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":9,"column":32},"generated":{"line":1,"column":334}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":9,"column":37},"generated":{"line":1,"column":336}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":9,"column":42},"generated":{"line":1,"column":338}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":341}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"idCount","original":{"line":11,"column":4},"generated":{"line":1,"column":345}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":11,"column":14},"generated":{"line":1,"column":347}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":33,"column":7},"generated":{"line":1,"column":349}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"PointLight","original":{"line":33,"column":13},"generated":{"line":1,"column":355}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"constructor","original":{"line":43,"column":2},"generated":{"line":1,"column":357}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"props","original":{"line":43,"column":14},"generated":{"line":1,"column":369}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":41},"generated":{"line":1,"column":371}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":376}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":378}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":380}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":389}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":394}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":404}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":408}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":410}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":412}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":421}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":426}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":439}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":443}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":445}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":447}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":456}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":461}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":478}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":482}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":484}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":486}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":495}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":500}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":37,"column":9},"generated":{"line":1,"column":507}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":517}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":519}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":521}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":530}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":535}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":551}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":555}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":557}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":559}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":568}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":573}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":592}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":596}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":598}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":600}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":609}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":614}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":636}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":639}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":44,"column":10},"generated":{"line":1,"column":645}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"color","original":{"line":44,"column":11},"generated":{"line":1,"column":651}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"DEFAULT_LIGHT_COLOR","original":{"line":44,"column":19},"generated":{"line":1,"column":653}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"props","original":{"line":44,"column":42},"generated":{"line":1,"column":656}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":45,"column":10},"generated":{"line":1,"column":659}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"intensity","original":{"line":45,"column":11},"generated":{"line":1,"column":669}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"DEFAULT_LIGHT_INTENSITY","original":{"line":45,"column":23},"generated":{"line":1,"column":671}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"props","original":{"line":45,"column":50},"generated":{"line":1,"column":674}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":46,"column":10},"generated":{"line":1,"column":677}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"position","original":{"line":46,"column":11},"generated":{"line":1,"column":686}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"DEFAULT_LIGHT_POSITION","original":{"line":46,"column":22},"generated":{"line":1,"column":688}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"props","original":{"line":46,"column":48},"generated":{"line":1,"column":691}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":1,"column":693}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"id","original":{"line":48,"column":9},"generated":{"line":1,"column":698}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"props","original":{"line":48,"column":14},"generated":{"line":1,"column":701}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"id","original":{"line":48,"column":20},"generated":{"line":1,"column":703}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":48,"column":14},"generated":{"line":1,"column":707}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":48,"column":14},"generated":{"line":1,"column":716}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"idCount","original":{"line":48,"column":35},"generated":{"line":1,"column":723}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":1,"column":728}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"color","original":{"line":49,"column":9},"generated":{"line":1,"column":733}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"color","original":{"line":49,"column":17},"generated":{"line":1,"column":739}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":1,"column":741}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"intensity","original":{"line":50,"column":9},"generated":{"line":1,"column":746}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"intensity","original":{"line":50,"column":21},"generated":{"line":1,"column":756}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":1,"column":758}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"type","original":{"line":51,"column":9},"generated":{"line":1,"column":763}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":1,"column":768}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":1,"column":776}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"position","original":{"line":52,"column":9},"generated":{"line":1,"column":781}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"position","original":{"line":52,"column":20},"generated":{"line":1,"column":790}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":1,"column":792}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"attenuation","original":{"line":53,"column":9},"generated":{"line":1,"column":797}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"getAttenuation","original":{"line":53,"column":23},"generated":{"line":1,"column":809}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"props","original":{"line":53,"column":38},"generated":{"line":1,"column":811}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":814}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"projectedLight","original":{"line":54,"column":9},"generated":{"line":1,"column":819}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":54,"column":26},"generated":{"line":1,"column":834}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":54,"column":30},"generated":{"line":1,"column":838}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"getProjectedLight","original":{"line":57,"column":2},"generated":{"line":1,"column":844}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":57,"column":20},"generated":{"line":1,"column":863}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"layer","original":{"line":57,"column":21},"generated":{"line":1,"column":869}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":873}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":58,"column":10},"generated":{"line":1,"column":879}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"projectedLight","original":{"line":58,"column":11},"generated":{"line":1,"column":894}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":58,"column":29},"generated":{"line":1,"column":897}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"viewport","original":{"line":59,"column":10},"generated":{"line":1,"column":902}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"layer","original":{"line":59,"column":21},"generated":{"line":1,"column":904}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"context","original":{"line":59,"column":27},"generated":{"line":1,"column":906}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"viewport","original":{"line":59,"column":35},"generated":{"line":1,"column":914}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":60,"column":10},"generated":{"line":1,"column":924}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"coordinateSystem","original":{"line":60,"column":11},"generated":{"line":1,"column":941}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":60,"column":10},"generated":{"line":1,"column":943}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"coordinateOrigin","original":{"line":60,"column":29},"generated":{"line":1,"column":960}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"layer","original":{"line":60,"column":49},"generated":{"line":1,"column":963}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"props","original":{"line":60,"column":55},"generated":{"line":1,"column":965}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"position","original":{"line":61,"column":10},"generated":{"line":1,"column":971}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"projectPosition","original":{"line":61,"column":21},"generated":{"line":1,"column":974}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"projectPosition","original":{"line":61,"column":21},"generated":{"line":1,"column":976}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":61,"column":36},"generated":{"line":1,"column":978}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":61,"column":37},"generated":{"line":1,"column":995}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"position","original":{"line":61,"column":42},"generated":{"line":1,"column":1000}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":61,"column":52},"generated":{"line":1,"column":1009}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"viewport","original":{"line":62,"column":6},"generated":{"line":1,"column":1010}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"viewport","original":{"line":62,"column":6},"generated":{"line":1,"column":1019}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"coordinateSystem","original":{"line":63,"column":6},"generated":{"line":1,"column":1021}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"coordinateSystem","original":{"line":63,"column":6},"generated":{"line":1,"column":1038}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"coordinateOrigin","original":{"line":64,"column":6},"generated":{"line":1,"column":1040}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"coordinateOrigin","original":{"line":64,"column":6},"generated":{"line":1,"column":1057}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"fromCoordinateSystem","original":{"line":65,"column":6},"generated":{"line":1,"column":1059}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"viewport","original":{"line":65,"column":28},"generated":{"line":1,"column":1080}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"isGeospatial","original":{"line":65,"column":37},"generated":{"line":1,"column":1082}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"COORDINATE_SYSTEM","original":{"line":66,"column":10},"generated":{"line":1,"column":1095}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":66,"column":27},"generated":{"line":1,"column":1097}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"LNGLAT","original":{"line":66,"column":28},"generated":{"line":1,"column":1115}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"COORDINATE_SYSTEM","original":{"line":67,"column":10},"generated":{"line":1,"column":1122}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":67,"column":27},"generated":{"line":1,"column":1124}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"CARTESIAN","original":{"line":67,"column":28},"generated":{"line":1,"column":1142}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"fromCoordinateOrigin","original":{"line":68,"column":6},"generated":{"line":1,"column":1152}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":68,"column":28},"generated":{"line":1,"column":1173}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":68,"column":29},"generated":{"line":1,"column":1174}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":68,"column":32},"generated":{"line":1,"column":1176}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":68,"column":35},"generated":{"line":1,"column":1178}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":1,"column":1183}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"projectedLight","original":{"line":70,"column":4},"generated":{"line":1,"column":1190}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"color","original":{"line":70,"column":19},"generated":{"line":1,"column":1192}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":70,"column":27},"generated":{"line":1,"column":1198}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"color","original":{"line":70,"column":32},"generated":{"line":1,"column":1203}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"projectedLight","original":{"line":71,"column":4},"generated":{"line":1,"column":1209}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"intensity","original":{"line":71,"column":19},"generated":{"line":1,"column":1211}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":71,"column":31},"generated":{"line":1,"column":1221}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"intensity","original":{"line":71,"column":36},"generated":{"line":1,"column":1226}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"projectedLight","original":{"line":72,"column":4},"generated":{"line":1,"column":1236}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"position","original":{"line":72,"column":19},"generated":{"line":1,"column":1238}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"position","original":{"line":72,"column":30},"generated":{"line":1,"column":1247}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"projectedLight","original":{"line":73,"column":11},"generated":{"line":1,"column":1249}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":77,"column":0},"generated":{"line":1,"column":1252}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"getAttenuation","original":{"line":77,"column":9},"generated":{"line":1,"column":1261}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"props","original":{"line":77,"column":24},"generated":{"line":1,"column":1263}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":78,"column":2},"generated":{"line":1,"column":1266}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"props","original":{"line":78,"column":6},"generated":{"line":1,"column":1273}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"attenuation","original":{"line":78,"column":12},"generated":{"line":1,"column":1275}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"props","original":{"line":79,"column":11},"generated":{"line":1,"column":1287}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"attenuation","original":{"line":79,"column":17},"generated":{"line":1,"column":1289}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":81,"column":6},"generated":{"line":1,"column":1301}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"props","original":{"line":81,"column":21},"generated":{"line":1,"column":1315}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":82,"column":11},"generated":{"line":1,"column":1317}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":82,"column":12},"generated":{"line":1,"column":1318}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":82,"column":15},"generated":{"line":1,"column":1320}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"props","original":{"line":82,"column":18},"generated":{"line":1,"column":1322}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"intensity","original":{"line":82,"column":24},"generated":{"line":1,"column":1324}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":82,"column":37},"generated":{"line":1,"column":1335}},{"source":"../../../../src/effects/lighting/point-light.ts","name":"DEFAULT_ATTENUATION","original":{"line":84,"column":9},"generated":{"line":1,"column":1338}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":33,"column":24},"generated":{"line":1,"column":1340}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":33,"column":24},"generated":{"line":1,"column":1348}},{"source":"../../../../src/effects/lighting/point-light.ts","name":null,"original":{"line":33,"column":24},"generated":{"line":1,"column":1359}}],"sources":{"../../../../src/effects/lighting/point-light.ts":"import {projectPosition} from '../../shaderlib/project/project-functions';\nimport {COORDINATE_SYSTEM} from '../../lib/constants';\n\nimport type Layer from '../../lib/layer';\n\nconst DEFAULT_LIGHT_COLOR = [255, 255, 255];\nconst DEFAULT_LIGHT_INTENSITY = 1.0;\nconst DEFAULT_ATTENUATION = [0, 0, 1];\nconst DEFAULT_LIGHT_POSITION = [0.0, 0.0, 1.0];\n\nlet idCount = 0;\n\nexport type PointLightOptions = {\n  id?: string;\n  /** Light color, [r, g, b] in the 0-255 range\n   * @default [255, 255, 255]\n   */\n  color?: number[];\n  /** Light intensity, higher number is brighter\n   * @default 1.0\n   */\n  intensity?: number;\n  /** Light position [x, y, z] in the common space\n   * @default [0.0, 0.0, 1.0]\n   */\n  position?: number[];\n  /** Light attenuation\n   * @default [0.0, 0.0, 1.0]\n   */\n  attenuation?: number[];\n};\n\nexport class PointLight {\n  id: string;\n  color: number[];\n  intensity: number;\n  type = 'point';\n  position: number[];\n  attenuation: number[];\n\n  protected projectedLight: PointLight;\n\n  constructor(props: PointLightOptions = {}) {\n    const {color = DEFAULT_LIGHT_COLOR} = props;\n    const {intensity = DEFAULT_LIGHT_INTENSITY} = props;\n    const {position = DEFAULT_LIGHT_POSITION} = props;\n\n    this.id = props.id || `point-${idCount++}`;\n    this.color = color;\n    this.intensity = intensity;\n    this.type = 'point';\n    this.position = position;\n    this.attenuation = getAttenuation(props);\n    this.projectedLight = {...this};\n  }\n\n  getProjectedLight({layer}: {layer: Layer}): PointLight {\n    const {projectedLight} = this;\n    const viewport = layer.context.viewport;\n    const {coordinateSystem, coordinateOrigin} = layer.props;\n    const position = projectPosition(this.position, {\n      viewport,\n      coordinateSystem,\n      coordinateOrigin,\n      fromCoordinateSystem: viewport.isGeospatial\n        ? COORDINATE_SYSTEM.LNGLAT\n        : COORDINATE_SYSTEM.CARTESIAN,\n      fromCoordinateOrigin: [0, 0, 0]\n    });\n    projectedLight.color = this.color;\n    projectedLight.intensity = this.intensity;\n    projectedLight.position = position;\n    return projectedLight;\n  }\n}\n\nfunction getAttenuation(props: PointLightOptions): number[] {\n  if (props.attenuation) {\n    return props.attenuation;\n  }\n  if ('intensity' in props) {\n    return [0, 0, props.intensity || 0];\n  }\n  return DEFAULT_ATTENUATION;\n}\n"},"lineCount":null}},"error":null,"hash":"866888ead0f6b1018b28f3380ed5ba10","cacheData":{"env":{}}}