{"id":"b40H","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/fetch/fetch-file.js.map","includedInParent":true,"mtime":1688284130527},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/package.json","includedInParent":true,"mtime":1688284130527},{"name":"@loaders.gl/loader-utils","loc":{"line":1,"column":28,"index":28},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/fetch/fetch-file.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/loader-utils/dist/esm/index.js"},{"name":"../utils/response-utils","loc":{"line":2,"column":29,"index":85},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/fetch/fetch-file.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/utils/response-utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.fetchFile=r;var e=require(\"@loaders.gl/loader-utils\"),t=require(\"../utils/response-utils\");async function r(r,s){if(\"string\"==typeof r){r=(0,e.resolvePath)(r);let t=s;return null!=s&&s.fetch&&\"function\"!=typeof(null==s?void 0:s.fetch)&&(t=s.fetch),await fetch(r,t)}return await(0,t.makeResponse)(r)}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":86}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":88}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":94}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":102}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":130}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":132}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":140}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":14,"column":7},"generated":{"line":1,"column":167}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"fetchFile","original":{"line":14,"column":22},"generated":{"line":1,"column":182}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"url","original":{"line":15,"column":2},"generated":{"line":1,"column":184}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"options","original":{"line":16,"column":2},"generated":{"line":1,"column":186}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":189}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":18,"column":21},"generated":{"line":1,"column":192}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"url","original":{"line":18,"column":13},"generated":{"line":1,"column":209}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":18,"column":31},"generated":{"line":1,"column":211}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"url","original":{"line":19,"column":4},"generated":{"line":1,"column":212}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"resolvePath","original":{"line":19,"column":10},"generated":{"line":1,"column":215}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"resolvePath","original":{"line":19,"column":10},"generated":{"line":1,"column":217}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":19,"column":21},"generated":{"line":1,"column":219}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"url","original":{"line":19,"column":22},"generated":{"line":1,"column":232}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":1,"column":235}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"fetchOptions","original":{"line":21,"column":8},"generated":{"line":1,"column":239}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"options","original":{"line":21,"column":36},"generated":{"line":1,"column":241}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":1,"column":243}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"options","original":{"line":22,"column":8},"generated":{"line":1,"column":250}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"options","original":{"line":22,"column":8},"generated":{"line":1,"column":256}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"options","original":{"line":22,"column":8},"generated":{"line":1,"column":259}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"fetch","original":{"line":22,"column":17},"generated":{"line":1,"column":261}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":22,"column":52},"generated":{"line":1,"column":268}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"options","original":{"line":22,"column":33},"generated":{"line":1,"column":287}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"options","original":{"line":22,"column":33},"generated":{"line":1,"column":293}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":22,"column":40},"generated":{"line":1,"column":300}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"options","original":{"line":22,"column":33},"generated":{"line":1,"column":302}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"fetch","original":{"line":22,"column":42},"generated":{"line":1,"column":304}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"fetchOptions","original":{"line":23,"column":6},"generated":{"line":1,"column":313}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"options","original":{"line":23,"column":21},"generated":{"line":1,"column":315}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"fetch","original":{"line":23,"column":29},"generated":{"line":1,"column":317}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"fetch","original":{"line":26,"column":17},"generated":{"line":1,"column":330}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"url","original":{"line":26,"column":23},"generated":{"line":1,"column":336}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"fetchOptions","original":{"line":26,"column":28},"generated":{"line":1,"column":338}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":1,"column":341}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"makeResponse","original":{"line":29,"column":15},"generated":{"line":1,"column":354}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"makeResponse","original":{"line":29,"column":15},"generated":{"line":1,"column":356}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":null,"original":{"line":29,"column":27},"generated":{"line":1,"column":358}},{"source":"../../../../src/lib/fetch/fetch-file.ts","name":"url","original":{"line":29,"column":28},"generated":{"line":1,"column":372}}],"sources":{"../../../../src/lib/fetch/fetch-file.ts":"import {resolvePath} from '@loaders.gl/loader-utils';\nimport {makeResponse} from '../utils/response-utils';\n// import {getErrorMessageFromResponse} from './fetch-error-message';\n\n/**\n * fetch compatible function\n * Reads file data from:\n * - http/http urls\n * - data urls\n * - File/Blob objects\n * Leverages `@loaders.gl/polyfills` for Node.js support\n * Respects pathPrefix and file aliases\n */\nexport async function fetchFile(\n  url: string | Blob,\n  options?: RequestInit & {fetch?: RequestInit | Function}\n): Promise<Response> {\n  if (typeof url === 'string') {\n    url = resolvePath(url);\n\n    let fetchOptions: RequestInit = options as RequestInit;\n    if (options?.fetch && typeof options?.fetch !== 'function') {\n      fetchOptions = options.fetch;\n    }\n\n    return await fetch(url, fetchOptions);\n  }\n\n  return await makeResponse(url);\n}\n"},"lineCount":null}},"error":null,"hash":"1901324dc1decda84ad799bc6d044d8d","cacheData":{"env":{}}}