{"id":"LoQn","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/dist/esm/utils/device-pixels.js.map","includedInParent":true,"mtime":1688284131786},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/package.json","includedInParent":true,"mtime":1688284131786}],"generated":{"js":"\"use strict\";function t(t){const{luma:e}=t;if(t.canvas&&e){const n=e.canvasSizeInfo,i=\"clientWidth\"in n?n.clientWidth:t.canvas.clientWidth;return i?t.drawingBufferWidth/i:1}return 1}function e(e,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return i(n,t(e),e.drawingBufferWidth,e.drawingBufferHeight,r)}function n(t){const e=\"undefined\"==typeof window?1:window.devicePixelRatio||1;return Number.isFinite(t)?t<=0?1:t:t?e:1}function i(t,e,n,i,a){const c=r(t[0],e,n);let u=o(t[1],e,i,a),s=r(t[0]+1,e,n);const d=s===n-1?s:s-1;let h;return s=o(t[1]+1,e,i,a),a?(h=u,u=s=0===s?s:s+1):h=s===i-1?s:s-1,{x:c,y:u,width:Math.max(d-c+1,1),height:Math.max(h-u+1,1)}}function r(t,e,n){return Math.min(Math.round(t*e),n-1)}function o(t,e,n,i){return i?Math.max(0,n-1-Math.round(t*e)):Math.min(Math.round(t*e),n-1)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.cssToDevicePixels=e,exports.cssToDeviceRatio=t,exports.getDevicePixelRatio=n;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":7,"column":7},"generated":{"line":1,"column":13}},{"source":"../../../src/utils/device-pixels.js","name":"cssToDeviceRatio","original":{"line":7,"column":16},"generated":{"line":1,"column":22}},{"source":"../../../src/utils/device-pixels.js","name":"gl","original":{"line":7,"column":33},"generated":{"line":1,"column":24}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":27}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":9,"column":8},"generated":{"line":1,"column":33}},{"source":"../../../src/utils/device-pixels.js","name":"luma","original":{"line":9,"column":9},"generated":{"line":1,"column":38}},{"source":"../../../src/utils/device-pixels.js","name":"gl","original":{"line":9,"column":17},"generated":{"line":1,"column":41}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":43}},{"source":"../../../src/utils/device-pixels.js","name":"gl","original":{"line":11,"column":6},"generated":{"line":1,"column":46}},{"source":"../../../src/utils/device-pixels.js","name":"canvas","original":{"line":11,"column":9},"generated":{"line":1,"column":48}},{"source":"../../../src/utils/device-pixels.js","name":"luma","original":{"line":11,"column":19},"generated":{"line":1,"column":56}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":11,"column":25},"generated":{"line":1,"column":58}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":14,"column":4},"generated":{"line":1,"column":59}},{"source":"../../../src/utils/device-pixels.js","name":"cachedSize","original":{"line":14,"column":10},"generated":{"line":1,"column":65}},{"source":"../../../src/utils/device-pixels.js","name":"luma","original":{"line":14,"column":23},"generated":{"line":1,"column":67}},{"source":"../../../src/utils/device-pixels.js","name":"canvasSizeInfo","original":{"line":14,"column":28},"generated":{"line":1,"column":69}},{"source":"../../../src/utils/device-pixels.js","name":"clientWidth","original":{"line":15,"column":10},"generated":{"line":1,"column":84}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":16,"column":6},"generated":{"line":1,"column":86}},{"source":"../../../src/utils/device-pixels.js","name":"cachedSize","original":{"line":16,"column":23},"generated":{"line":1,"column":102}},{"source":"../../../src/utils/device-pixels.js","name":"cachedSize","original":{"line":16,"column":36},"generated":{"line":1,"column":104}},{"source":"../../../src/utils/device-pixels.js","name":"clientWidth","original":{"line":16,"column":47},"generated":{"line":1,"column":106}},{"source":"../../../src/utils/device-pixels.js","name":"gl","original":{"line":16,"column":61},"generated":{"line":1,"column":118}},{"source":"../../../src/utils/device-pixels.js","name":"canvas","original":{"line":16,"column":64},"generated":{"line":1,"column":120}},{"source":"../../../src/utils/device-pixels.js","name":"clientWidth","original":{"line":16,"column":71},"generated":{"line":1,"column":127}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":17,"column":4},"generated":{"line":1,"column":139}},{"source":"../../../src/utils/device-pixels.js","name":"clientWidth","original":{"line":17,"column":11},"generated":{"line":1,"column":146}},{"source":"../../../src/utils/device-pixels.js","name":"gl","original":{"line":17,"column":25},"generated":{"line":1,"column":148}},{"source":"../../../src/utils/device-pixels.js","name":"drawingBufferWidth","original":{"line":17,"column":28},"generated":{"line":1,"column":150}},{"source":"../../../src/utils/device-pixels.js","name":"clientWidth","original":{"line":17,"column":49},"generated":{"line":1,"column":169}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":17,"column":63},"generated":{"line":1,"column":171}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":20,"column":2},"generated":{"line":1,"column":173}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":20,"column":9},"generated":{"line":1,"column":180}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":27,"column":7},"generated":{"line":1,"column":182}},{"source":"../../../src/utils/device-pixels.js","name":"cssToDevicePixels","original":{"line":27,"column":16},"generated":{"line":1,"column":191}},{"source":"../../../src/utils/device-pixels.js","name":"gl","original":{"line":27,"column":34},"generated":{"line":1,"column":193}},{"source":"../../../src/utils/device-pixels.js","name":"cssPixel","original":{"line":27,"column":38},"generated":{"line":1,"column":195}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":27,"column":64},"generated":{"line":1,"column":198}},{"source":"../../../src/utils/device-pixels.js","name":"yInvert","original":{"line":27,"column":48},"generated":{"line":1,"column":202}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":27,"column":64},"generated":{"line":1,"column":206}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":27,"column":64},"generated":{"line":1,"column":216}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":27,"column":64},"generated":{"line":1,"column":223}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":27,"column":64},"generated":{"line":1,"column":231}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":27,"column":64},"generated":{"line":1,"column":235}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":27,"column":64},"generated":{"line":1,"column":245}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":27,"column":64},"generated":{"line":1,"column":250}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":27,"column":64},"generated":{"line":1,"column":260}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":31,"column":2},"generated":{"line":1,"column":263}},{"source":"../../../src/utils/device-pixels.js","name":"scalePixels","original":{"line":31,"column":9},"generated":{"line":1,"column":270}},{"source":"../../../src/utils/device-pixels.js","name":"cssPixel","original":{"line":31,"column":21},"generated":{"line":1,"column":272}},{"source":"../../../src/utils/device-pixels.js","name":"cssToDeviceRatio","original":{"line":28,"column":16},"generated":{"line":1,"column":274}},{"source":"../../../src/utils/device-pixels.js","name":"gl","original":{"line":28,"column":33},"generated":{"line":1,"column":276}},{"source":"../../../src/utils/device-pixels.js","name":"gl","original":{"line":29,"column":16},"generated":{"line":1,"column":279}},{"source":"../../../src/utils/device-pixels.js","name":"drawingBufferWidth","original":{"line":29,"column":19},"generated":{"line":1,"column":281}},{"source":"../../../src/utils/device-pixels.js","name":"gl","original":{"line":30,"column":17},"generated":{"line":1,"column":300}},{"source":"../../../src/utils/device-pixels.js","name":"drawingBufferHeight","original":{"line":30,"column":20},"generated":{"line":1,"column":302}},{"source":"../../../src/utils/device-pixels.js","name":"yInvert","original":{"line":31,"column":53},"generated":{"line":1,"column":322}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":40,"column":7},"generated":{"line":1,"column":325}},{"source":"../../../src/utils/device-pixels.js","name":"getDevicePixelRatio","original":{"line":40,"column":16},"generated":{"line":1,"column":334}},{"source":"../../../src/utils/device-pixels.js","name":"useDevicePixels","original":{"line":40,"column":36},"generated":{"line":1,"column":336}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":41,"column":2},"generated":{"line":1,"column":339}},{"source":"../../../src/utils/device-pixels.js","name":"windowRatio","original":{"line":41,"column":8},"generated":{"line":1,"column":345}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":41,"column":40},"generated":{"line":1,"column":347}},{"source":"../../../src/utils/device-pixels.js","name":"window","original":{"line":41,"column":29},"generated":{"line":1,"column":367}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":41,"column":54},"generated":{"line":1,"column":374}},{"source":"../../../src/utils/device-pixels.js","name":"window","original":{"line":41,"column":58},"generated":{"line":1,"column":376}},{"source":"../../../src/utils/device-pixels.js","name":"devicePixelRatio","original":{"line":41,"column":65},"generated":{"line":1,"column":383}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":41,"column":85},"generated":{"line":1,"column":401}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":403}},{"source":"../../../src/utils/device-pixels.js","name":"Number","original":{"line":42,"column":6},"generated":{"line":1,"column":410}},{"source":"../../../src/utils/device-pixels.js","name":"isFinite","original":{"line":42,"column":13},"generated":{"line":1,"column":417}},{"source":"../../../src/utils/device-pixels.js","name":"useDevicePixels","original":{"line":42,"column":22},"generated":{"line":1,"column":426}},{"source":"../../../src/utils/device-pixels.js","name":"useDevicePixels","original":{"line":44,"column":11},"generated":{"line":1,"column":429}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":44,"column":30},"generated":{"line":1,"column":432}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":44,"column":34},"generated":{"line":1,"column":434}},{"source":"../../../src/utils/device-pixels.js","name":"useDevicePixels","original":{"line":44,"column":38},"generated":{"line":1,"column":436}},{"source":"../../../src/utils/device-pixels.js","name":"useDevicePixels","original":{"line":46,"column":9},"generated":{"line":1,"column":438}},{"source":"../../../src/utils/device-pixels.js","name":"windowRatio","original":{"line":46,"column":27},"generated":{"line":1,"column":440}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":46,"column":41},"generated":{"line":1,"column":442}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":444}},{"source":"../../../src/utils/device-pixels.js","name":"scalePixels","original":{"line":51,"column":9},"generated":{"line":1,"column":453}},{"source":"../../../src/utils/device-pixels.js","name":"pixel","original":{"line":51,"column":21},"generated":{"line":1,"column":455}},{"source":"../../../src/utils/device-pixels.js","name":"ratio","original":{"line":51,"column":28},"generated":{"line":1,"column":457}},{"source":"../../../src/utils/device-pixels.js","name":"width","original":{"line":51,"column":35},"generated":{"line":1,"column":459}},{"source":"../../../src/utils/device-pixels.js","name":"height","original":{"line":51,"column":42},"generated":{"line":1,"column":461}},{"source":"../../../src/utils/device-pixels.js","name":"yInvert","original":{"line":51,"column":50},"generated":{"line":1,"column":463}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":52,"column":2},"generated":{"line":1,"column":466}},{"source":"../../../src/utils/device-pixels.js","name":"x","original":{"line":52,"column":8},"generated":{"line":1,"column":472}},{"source":"../../../src/utils/device-pixels.js","name":"scaleX","original":{"line":52,"column":12},"generated":{"line":1,"column":474}},{"source":"../../../src/utils/device-pixels.js","name":"pixel","original":{"line":52,"column":19},"generated":{"line":1,"column":476}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":52,"column":25},"generated":{"line":1,"column":478}},{"source":"../../../src/utils/device-pixels.js","name":"ratio","original":{"line":52,"column":29},"generated":{"line":1,"column":481}},{"source":"../../../src/utils/device-pixels.js","name":"width","original":{"line":52,"column":36},"generated":{"line":1,"column":483}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":486}},{"source":"../../../src/utils/device-pixels.js","name":"y","original":{"line":53,"column":6},"generated":{"line":1,"column":490}},{"source":"../../../src/utils/device-pixels.js","name":"scaleY","original":{"line":53,"column":10},"generated":{"line":1,"column":492}},{"source":"../../../src/utils/device-pixels.js","name":"pixel","original":{"line":53,"column":17},"generated":{"line":1,"column":494}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":53,"column":23},"generated":{"line":1,"column":496}},{"source":"../../../src/utils/device-pixels.js","name":"ratio","original":{"line":53,"column":27},"generated":{"line":1,"column":499}},{"source":"../../../src/utils/device-pixels.js","name":"height","original":{"line":53,"column":34},"generated":{"line":1,"column":501}},{"source":"../../../src/utils/device-pixels.js","name":"yInvert","original":{"line":53,"column":42},"generated":{"line":1,"column":503}},{"source":"../../../src/utils/device-pixels.js","name":"t","original":{"line":57,"column":6},"generated":{"line":1,"column":506}},{"source":"../../../src/utils/device-pixels.js","name":"scaleX","original":{"line":57,"column":10},"generated":{"line":1,"column":508}},{"source":"../../../src/utils/device-pixels.js","name":"pixel","original":{"line":57,"column":17},"generated":{"line":1,"column":510}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":57,"column":23},"generated":{"line":1,"column":512}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":57,"column":28},"generated":{"line":1,"column":515}},{"source":"../../../src/utils/device-pixels.js","name":"ratio","original":{"line":57,"column":31},"generated":{"line":1,"column":517}},{"source":"../../../src/utils/device-pixels.js","name":"width","original":{"line":57,"column":38},"generated":{"line":1,"column":519}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":59,"column":2},"generated":{"line":1,"column":522}},{"source":"../../../src/utils/device-pixels.js","name":"xHigh","original":{"line":59,"column":8},"generated":{"line":1,"column":528}},{"source":"../../../src/utils/device-pixels.js","name":"t","original":{"line":59,"column":16},"generated":{"line":1,"column":530}},{"source":"../../../src/utils/device-pixels.js","name":"width","original":{"line":59,"column":22},"generated":{"line":1,"column":534}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":59,"column":30},"generated":{"line":1,"column":536}},{"source":"../../../src/utils/device-pixels.js","name":"t","original":{"line":59,"column":34},"generated":{"line":1,"column":538}},{"source":"../../../src/utils/device-pixels.js","name":"t","original":{"line":59,"column":38},"generated":{"line":1,"column":540}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":59,"column":42},"generated":{"line":1,"column":542}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":62,"column":2},"generated":{"line":1,"column":544}},{"source":"../../../src/utils/device-pixels.js","name":"yHigh","original":{"line":62,"column":6},"generated":{"line":1,"column":548}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":74,"column":2},"generated":{"line":1,"column":550}},{"source":"../../../src/utils/device-pixels.js","name":"t","original":{"line":61,"column":2},"generated":{"line":1,"column":557}},{"source":"../../../src/utils/device-pixels.js","name":"scaleY","original":{"line":61,"column":6},"generated":{"line":1,"column":559}},{"source":"../../../src/utils/device-pixels.js","name":"pixel","original":{"line":61,"column":13},"generated":{"line":1,"column":561}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":61,"column":19},"generated":{"line":1,"column":563}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":61,"column":24},"generated":{"line":1,"column":566}},{"source":"../../../src/utils/device-pixels.js","name":"ratio","original":{"line":61,"column":27},"generated":{"line":1,"column":568}},{"source":"../../../src/utils/device-pixels.js","name":"height","original":{"line":61,"column":34},"generated":{"line":1,"column":570}},{"source":"../../../src/utils/device-pixels.js","name":"yInvert","original":{"line":61,"column":42},"generated":{"line":1,"column":572}},{"source":"../../../src/utils/device-pixels.js","name":"yInvert","original":{"line":63,"column":6},"generated":{"line":1,"column":575}},{"source":"../../../src/utils/device-pixels.js","name":"yHigh","original":{"line":67,"column":4},"generated":{"line":1,"column":578}},{"source":"../../../src/utils/device-pixels.js","name":"y","original":{"line":67,"column":12},"generated":{"line":1,"column":580}},{"source":"../../../src/utils/device-pixels.js","name":"y","original":{"line":68,"column":4},"generated":{"line":1,"column":582}},{"source":"../../../src/utils/device-pixels.js","name":"t","original":{"line":65,"column":4},"generated":{"line":1,"column":584}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":65,"column":14},"generated":{"line":1,"column":586}},{"source":"../../../src/utils/device-pixels.js","name":"t","original":{"line":65,"column":8},"generated":{"line":1,"column":590}},{"source":"../../../src/utils/device-pixels.js","name":"t","original":{"line":65,"column":18},"generated":{"line":1,"column":592}},{"source":"../../../src/utils/device-pixels.js","name":"t","original":{"line":65,"column":22},"generated":{"line":1,"column":594}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":65,"column":26},"generated":{"line":1,"column":596}},{"source":"../../../src/utils/device-pixels.js","name":"yHigh","original":{"line":71,"column":4},"generated":{"line":1,"column":599}},{"source":"../../../src/utils/device-pixels.js","name":"t","original":{"line":71,"column":12},"generated":{"line":1,"column":601}},{"source":"../../../src/utils/device-pixels.js","name":"height","original":{"line":71,"column":18},"generated":{"line":1,"column":605}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":71,"column":27},"generated":{"line":1,"column":607}},{"source":"../../../src/utils/device-pixels.js","name":"t","original":{"line":71,"column":31},"generated":{"line":1,"column":609}},{"source":"../../../src/utils/device-pixels.js","name":"t","original":{"line":71,"column":35},"generated":{"line":1,"column":611}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":71,"column":39},"generated":{"line":1,"column":613}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":74,"column":9},"generated":{"line":1,"column":615}},{"source":"../../../src/utils/device-pixels.js","name":"x","original":{"line":75,"column":4},"generated":{"line":1,"column":616}},{"source":"../../../src/utils/device-pixels.js","name":"x","original":{"line":75,"column":4},"generated":{"line":1,"column":618}},{"source":"../../../src/utils/device-pixels.js","name":"y","original":{"line":76,"column":4},"generated":{"line":1,"column":620}},{"source":"../../../src/utils/device-pixels.js","name":"y","original":{"line":76,"column":4},"generated":{"line":1,"column":622}},{"source":"../../../src/utils/device-pixels.js","name":"width","original":{"line":78,"column":4},"generated":{"line":1,"column":624}},{"source":"../../../src/utils/device-pixels.js","name":"Math","original":{"line":78,"column":11},"generated":{"line":1,"column":630}},{"source":"../../../src/utils/device-pixels.js","name":"max","original":{"line":78,"column":16},"generated":{"line":1,"column":635}},{"source":"../../../src/utils/device-pixels.js","name":"xHigh","original":{"line":78,"column":20},"generated":{"line":1,"column":639}},{"source":"../../../src/utils/device-pixels.js","name":"x","original":{"line":78,"column":28},"generated":{"line":1,"column":641}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":78,"column":32},"generated":{"line":1,"column":643}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":78,"column":35},"generated":{"line":1,"column":645}},{"source":"../../../src/utils/device-pixels.js","name":"height","original":{"line":79,"column":4},"generated":{"line":1,"column":648}},{"source":"../../../src/utils/device-pixels.js","name":"Math","original":{"line":79,"column":12},"generated":{"line":1,"column":655}},{"source":"../../../src/utils/device-pixels.js","name":"max","original":{"line":79,"column":17},"generated":{"line":1,"column":660}},{"source":"../../../src/utils/device-pixels.js","name":"yHigh","original":{"line":79,"column":21},"generated":{"line":1,"column":664}},{"source":"../../../src/utils/device-pixels.js","name":"y","original":{"line":79,"column":29},"generated":{"line":1,"column":666}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":79,"column":33},"generated":{"line":1,"column":668}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":79,"column":36},"generated":{"line":1,"column":670}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":83,"column":0},"generated":{"line":1,"column":674}},{"source":"../../../src/utils/device-pixels.js","name":"scaleX","original":{"line":83,"column":9},"generated":{"line":1,"column":683}},{"source":"../../../src/utils/device-pixels.js","name":"x","original":{"line":83,"column":16},"generated":{"line":1,"column":685}},{"source":"../../../src/utils/device-pixels.js","name":"ratio","original":{"line":83,"column":19},"generated":{"line":1,"column":687}},{"source":"../../../src/utils/device-pixels.js","name":"width","original":{"line":83,"column":26},"generated":{"line":1,"column":689}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":692}},{"source":"../../../src/utils/device-pixels.js","name":"Math","original":{"line":85,"column":12},"generated":{"line":1,"column":699}},{"source":"../../../src/utils/device-pixels.js","name":"min","original":{"line":85,"column":17},"generated":{"line":1,"column":704}},{"source":"../../../src/utils/device-pixels.js","name":"Math","original":{"line":85,"column":21},"generated":{"line":1,"column":708}},{"source":"../../../src/utils/device-pixels.js","name":"round","original":{"line":85,"column":26},"generated":{"line":1,"column":713}},{"source":"../../../src/utils/device-pixels.js","name":"x","original":{"line":85,"column":32},"generated":{"line":1,"column":719}},{"source":"../../../src/utils/device-pixels.js","name":"ratio","original":{"line":85,"column":36},"generated":{"line":1,"column":721}},{"source":"../../../src/utils/device-pixels.js","name":"width","original":{"line":85,"column":44},"generated":{"line":1,"column":724}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":85,"column":52},"generated":{"line":1,"column":726}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":89,"column":0},"generated":{"line":1,"column":729}},{"source":"../../../src/utils/device-pixels.js","name":"scaleY","original":{"line":89,"column":9},"generated":{"line":1,"column":738}},{"source":"../../../src/utils/device-pixels.js","name":"y","original":{"line":89,"column":16},"generated":{"line":1,"column":740}},{"source":"../../../src/utils/device-pixels.js","name":"ratio","original":{"line":89,"column":19},"generated":{"line":1,"column":742}},{"source":"../../../src/utils/device-pixels.js","name":"height","original":{"line":89,"column":26},"generated":{"line":1,"column":744}},{"source":"../../../src/utils/device-pixels.js","name":"yInvert","original":{"line":89,"column":34},"generated":{"line":1,"column":746}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":91,"column":2},"generated":{"line":1,"column":749}},{"source":"../../../src/utils/device-pixels.js","name":"yInvert","original":{"line":91,"column":9},"generated":{"line":1,"column":756}},{"source":"../../../src/utils/device-pixels.js","name":"Math","original":{"line":92,"column":6},"generated":{"line":1,"column":758}},{"source":"../../../src/utils/device-pixels.js","name":"max","original":{"line":92,"column":11},"generated":{"line":1,"column":763}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":92,"column":15},"generated":{"line":1,"column":767}},{"source":"../../../src/utils/device-pixels.js","name":"height","original":{"line":92,"column":18},"generated":{"line":1,"column":769}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":92,"column":27},"generated":{"line":1,"column":771}},{"source":"../../../src/utils/device-pixels.js","name":"Math","original":{"line":92,"column":31},"generated":{"line":1,"column":773}},{"source":"../../../src/utils/device-pixels.js","name":"round","original":{"line":92,"column":36},"generated":{"line":1,"column":778}},{"source":"../../../src/utils/device-pixels.js","name":"y","original":{"line":92,"column":42},"generated":{"line":1,"column":784}},{"source":"../../../src/utils/device-pixels.js","name":"ratio","original":{"line":92,"column":46},"generated":{"line":1,"column":786}},{"source":"../../../src/utils/device-pixels.js","name":"Math","original":{"line":93,"column":6},"generated":{"line":1,"column":790}},{"source":"../../../src/utils/device-pixels.js","name":"min","original":{"line":93,"column":11},"generated":{"line":1,"column":795}},{"source":"../../../src/utils/device-pixels.js","name":"Math","original":{"line":93,"column":15},"generated":{"line":1,"column":799}},{"source":"../../../src/utils/device-pixels.js","name":"round","original":{"line":93,"column":20},"generated":{"line":1,"column":804}},{"source":"../../../src/utils/device-pixels.js","name":"y","original":{"line":93,"column":26},"generated":{"line":1,"column":810}},{"source":"../../../src/utils/device-pixels.js","name":"ratio","original":{"line":93,"column":30},"generated":{"line":1,"column":812}},{"source":"../../../src/utils/device-pixels.js","name":"height","original":{"line":93,"column":38},"generated":{"line":1,"column":815}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":93,"column":47},"generated":{"line":1,"column":817}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":820}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":827}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":842}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":850}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":863}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":864}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":871}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":875}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":883}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":901}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":903}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":911}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":928}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":930}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":938}},{"source":"../../../src/utils/device-pixels.js","name":null,"original":{"line":94,"column":1},"generated":{"line":1,"column":958}}],"sources":{"../../../src/utils/device-pixels.js":"/** @typedef {import('./device-pixels')} types */\n\n/**\n * Returns multiplier need to convert CSS size to Device size\n * @type {types['cssToDeviceRatio']}\n */\nexport function cssToDeviceRatio(gl) {\n  // @ts-ignore\n  const {luma} = gl;\n\n  if (gl.canvas && luma) {\n    // For headless gl we might have used custom width and height\n    // hence prioritize cached clientWidth\n    const cachedSize = luma.canvasSizeInfo;\n    const clientWidth =\n      'clientWidth' in cachedSize ? cachedSize.clientWidth : gl.canvas.clientWidth;\n    return clientWidth ? gl.drawingBufferWidth / clientWidth : 1;\n  }\n  // use default device pixel ratio\n  return 1;\n}\n\n/**\n * Maps CSS pixel position to device pixel position\n * @type {types['cssToDevicePixels']}\n */\nexport function cssToDevicePixels(gl, cssPixel, yInvert = true) {\n  const ratio = cssToDeviceRatio(gl);\n  const width = gl.drawingBufferWidth;\n  const height = gl.drawingBufferHeight;\n  return scalePixels(cssPixel, ratio, width, height, yInvert);\n}\n\n// HELPER METHOD\n\n/**\n * Calulates device pixel ratio, used during context creation\n * @type {types['getDevicePixelRatio']}\n */\nexport function getDevicePixelRatio(useDevicePixels) {\n  const windowRatio = typeof window === 'undefined' ? 1 : window.devicePixelRatio || 1;\n  if (Number.isFinite(useDevicePixels)) {\n    // @ts-ignore Can no longer be boolean after previous line\n    return useDevicePixels <= 0 ? 1 : useDevicePixels;\n  }\n  return useDevicePixels ? windowRatio : 1;\n}\n\n// PRIVATE\n\nfunction scalePixels(pixel, ratio, width, height, yInvert) {\n  const x = scaleX(pixel[0], ratio, width);\n  let y = scaleY(pixel[1], ratio, height, yInvert);\n\n  // Find boundaries of next pixel to provide valid range of device pixel locaitons\n\n  let t = scaleX(pixel[0] + 1, ratio, width);\n  // If next pixel's position is clamped to boundary, use it as is, otherwise subtract 1 for current pixel boundary\n  const xHigh = t === width - 1 ? t : t - 1;\n\n  t = scaleY(pixel[1] + 1, ratio, height, yInvert);\n  let yHigh;\n  if (yInvert) {\n    // If next pixel's position is clamped to boundary, use it as is, otherwise clamp it to valid range\n    t = t === 0 ? t : t + 1;\n    // swap y and yHigh\n    yHigh = y;\n    y = t;\n  } else {\n    // If next pixel's position is clamped to boundary, use it as is, otherwise clamp it to valid range\n    yHigh = t === height - 1 ? t : t - 1;\n    // y remains same\n  }\n  return {\n    x,\n    y,\n    // when ratio < 1, current css pixel and next css pixel may point to same device pixel, set width/height to 1 in those cases.\n    width: Math.max(xHigh - x + 1, 1),\n    height: Math.max(yHigh - y + 1, 1)\n  };\n}\n\nfunction scaleX(x, ratio, width) {\n  // since we are rounding to nearest, when ratio > 1, edge pixels may point to out of bounds value, clamp to the limit\n  const r = Math.min(Math.round(x * ratio), width - 1);\n  return r;\n}\n\nfunction scaleY(y, ratio, height, yInvert) {\n  // since we are rounding to nearest, when ratio > 1, edge pixels may point to out of bounds value, clamp to the limit\n  return yInvert\n    ? Math.max(0, height - 1 - Math.round(y * ratio))\n    : Math.min(Math.round(y * ratio), height - 1);\n}\n"},"lineCount":null}},"error":null,"hash":"01d1da717af401154a783b4c4f93bbd1","cacheData":{"env":{}}}