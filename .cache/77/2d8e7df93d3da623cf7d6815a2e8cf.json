{"id":"f2Ln","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/uniform-transition-manager.js.map","includedInParent":true,"mtime":1688284130514},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/package.json","includedInParent":true,"mtime":1688284130514},{"name":"./attribute/attribute-transition-utils","loc":{"line":1,"column":44,"index":44},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/uniform-transition-manager.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/attribute/attribute-transition-utils.js"},{"name":"../transitions/cpu-interpolation-transition","loc":{"line":2,"column":39,"index":125},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/uniform-transition-manager.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/transitions/cpu-interpolation-transition.js"},{"name":"../transitions/cpu-spring-transition","loc":{"line":3,"column":32,"index":204},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/uniform-transition-manager.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/transitions/cpu-spring-transition.js"},{"name":"../utils/log","loc":{"line":4,"column":16,"index":260},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/uniform-transition-manager.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/utils/log.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=require(\"./attribute/attribute-transition-utils\"),e=r(require(\"../transitions/cpu-interpolation-transition\")),i=r(require(\"../transitions/cpu-spring-transition\")),s=r(require(\"../utils/log\"));function r(t){return t&&t.__esModule?t:{default:t}}const n={interpolation:e.default,spring:i.default};class o{constructor(t){this.transitions=new Map,this.timeline=t}get active(){return this.transitions.size>0}add(e,i,r,o){const{transitions:a}=this;if(a.has(e)){const t=a.get(e),{value:s=t.settings.fromValue}=t;i=s,this.remove(e)}if(!(o=(0,t.normalizeTransitionSettings)(o)))return;const u=n[o.type];if(!u)return void s.default.error(\"unsupported transition type '\".concat(o.type,\"'\"))();const l=new u(this.timeline);l.start({...o,fromValue:i,toValue:r}),a.set(e,l)}remove(t){const{transitions:e}=this;e.has(t)&&(e.get(t).cancel(),e.delete(t))}update(){const t={};for(const[e,i]of this.transitions)i.update(),t[e]=i.value,i.inProgress||this.remove(e);return t}clear(){for(const t of this.transitions.keys())this.remove(t)}}exports.default=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":11,"column":46},"generated":{"line":1,"column":0}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":11,"column":46},"generated":{"line":1,"column":13}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":11,"column":46},"generated":{"line":1,"column":20}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":11,"column":46},"generated":{"line":1,"column":35}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":11,"column":46},"generated":{"line":1,"column":43}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":11,"column":46},"generated":{"line":1,"column":56}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":11,"column":46},"generated":{"line":1,"column":57}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":11,"column":46},"generated":{"line":1,"column":64}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":11,"column":46},"generated":{"line":1,"column":68}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":11,"column":46},"generated":{"line":1,"column":76}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":11,"column":46},"generated":{"line":1,"column":89}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":147}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":149}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":151}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":159}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":207}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":209}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":211}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":219}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":260}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":262}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":264}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":272}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":289}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":298}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":300}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":303}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":310}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":313}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":315}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":326}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":328}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":329}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":337}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":340}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"TRANSITION_TYPES","original":{"line":6,"column":6},"generated":{"line":1,"column":346}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":6,"column":25},"generated":{"line":1,"column":348}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"interpolation","original":{"line":7,"column":2},"generated":{"line":1,"column":349}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"CPUInterpolationTransition","original":{"line":7,"column":17},"generated":{"line":1,"column":363}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":6,"column":25},"generated":{"line":1,"column":365}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"spring","original":{"line":8,"column":2},"generated":{"line":1,"column":373}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"CPUSpringTransition","original":{"line":8,"column":10},"generated":{"line":1,"column":380}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"CPUSpringTransition","original":{"line":8,"column":10},"generated":{"line":1,"column":382}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":11,"column":15},"generated":{"line":1,"column":391}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"UniformTransitionManager","original":{"line":11,"column":21},"generated":{"line":1,"column":397}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"constructor","original":{"line":12,"column":2},"generated":{"line":1,"column":399}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"timeline","original":{"line":12,"column":14},"generated":{"line":1,"column":411}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":414}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transitions","original":{"line":13,"column":9},"generated":{"line":1,"column":419}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":13,"column":23},"generated":{"line":1,"column":431}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"Map","original":{"line":13,"column":27},"generated":{"line":1,"column":435}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":14,"column":4},"generated":{"line":1,"column":439}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"timeline","original":{"line":14,"column":9},"generated":{"line":1,"column":444}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"timeline","original":{"line":14,"column":20},"generated":{"line":1,"column":453}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":17,"column":12},"generated":{"line":1,"column":455}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":18,"column":4},"generated":{"line":1,"column":468}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":18,"column":11},"generated":{"line":1,"column":475}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transitions","original":{"line":18,"column":16},"generated":{"line":1,"column":480}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"size","original":{"line":18,"column":28},"generated":{"line":1,"column":492}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":18,"column":35},"generated":{"line":1,"column":497}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"add","original":{"line":21,"column":2},"generated":{"line":1,"column":499}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"key","original":{"line":21,"column":6},"generated":{"line":1,"column":503}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"fromValue","original":{"line":21,"column":11},"generated":{"line":1,"column":505}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"toValue","original":{"line":21,"column":22},"generated":{"line":1,"column":507}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"settings","original":{"line":21,"column":31},"generated":{"line":1,"column":509}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":22,"column":4},"generated":{"line":1,"column":512}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":22,"column":10},"generated":{"line":1,"column":518}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transitions","original":{"line":22,"column":11},"generated":{"line":1,"column":530}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":22,"column":26},"generated":{"line":1,"column":533}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":538}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transitions","original":{"line":23,"column":8},"generated":{"line":1,"column":541}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"has","original":{"line":23,"column":20},"generated":{"line":1,"column":543}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"key","original":{"line":23,"column":24},"generated":{"line":1,"column":547}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":23,"column":30},"generated":{"line":1,"column":550}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":551}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transition","original":{"line":24,"column":12},"generated":{"line":1,"column":557}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transitions","original":{"line":24,"column":25},"generated":{"line":1,"column":559}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"get","original":{"line":24,"column":37},"generated":{"line":1,"column":561}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"key","original":{"line":24,"column":41},"generated":{"line":1,"column":565}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":26,"column":12},"generated":{"line":1,"column":569}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"value","original":{"line":26,"column":13},"generated":{"line":1,"column":575}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transition","original":{"line":26,"column":21},"generated":{"line":1,"column":577}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"settings","original":{"line":26,"column":32},"generated":{"line":1,"column":579}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"fromValue","original":{"line":26,"column":41},"generated":{"line":1,"column":588}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transition","original":{"line":26,"column":54},"generated":{"line":1,"column":599}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"fromValue","original":{"line":28,"column":6},"generated":{"line":1,"column":601}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"value","original":{"line":28,"column":18},"generated":{"line":1,"column":603}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":29,"column":6},"generated":{"line":1,"column":605}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"remove","original":{"line":29,"column":11},"generated":{"line":1,"column":610}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"key","original":{"line":29,"column":18},"generated":{"line":1,"column":617}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":33,"column":4},"generated":{"line":1,"column":620}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"settings","original":{"line":32,"column":4},"generated":{"line":1,"column":625}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"normalizeTransitionSettings","original":{"line":32,"column":15},"generated":{"line":1,"column":628}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"normalizeTransitionSettings","original":{"line":32,"column":15},"generated":{"line":1,"column":630}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":32,"column":42},"generated":{"line":1,"column":632}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"settings","original":{"line":32,"column":43},"generated":{"line":1,"column":661}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":34,"column":6},"generated":{"line":1,"column":665}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":37,"column":4},"generated":{"line":1,"column":672}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"TransitionType","original":{"line":37,"column":10},"generated":{"line":1,"column":678}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"TRANSITION_TYPES","original":{"line":37,"column":27},"generated":{"line":1,"column":680}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"settings","original":{"line":37,"column":44},"generated":{"line":1,"column":682}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"type","original":{"line":37,"column":53},"generated":{"line":1,"column":684}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":690}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"TransitionType","original":{"line":38,"column":9},"generated":{"line":1,"column":694}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":40,"column":6},"generated":{"line":1,"column":696}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"log","original":{"line":39,"column":6},"generated":{"line":1,"column":708}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":710}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"error","original":{"line":39,"column":10},"generated":{"line":1,"column":718}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":39,"column":6},"generated":{"line":1,"column":724}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":39,"column":6},"generated":{"line":1,"column":756}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"settings","original":{"line":39,"column":48},"generated":{"line":1,"column":763}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"type","original":{"line":39,"column":57},"generated":{"line":1,"column":765}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":39,"column":6},"generated":{"line":1,"column":770}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"log","original":{"line":39,"column":6},"generated":{"line":1,"column":775}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":42,"column":4},"generated":{"line":1,"column":778}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transition","original":{"line":42,"column":10},"generated":{"line":1,"column":784}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":42,"column":23},"generated":{"line":1,"column":786}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"TransitionType","original":{"line":42,"column":27},"generated":{"line":1,"column":790}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":42,"column":42},"generated":{"line":1,"column":792}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"timeline","original":{"line":42,"column":47},"generated":{"line":1,"column":797}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transition","original":{"line":43,"column":4},"generated":{"line":1,"column":807}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"start","original":{"line":43,"column":15},"generated":{"line":1,"column":809}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":43,"column":21},"generated":{"line":1,"column":815}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"settings","original":{"line":44,"column":9},"generated":{"line":1,"column":819}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"fromValue","original":{"line":45,"column":6},"generated":{"line":1,"column":821}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"fromValue","original":{"line":45,"column":6},"generated":{"line":1,"column":831}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"toValue","original":{"line":46,"column":6},"generated":{"line":1,"column":833}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"toValue","original":{"line":46,"column":6},"generated":{"line":1,"column":841}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transitions","original":{"line":48,"column":4},"generated":{"line":1,"column":845}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"set","original":{"line":48,"column":16},"generated":{"line":1,"column":847}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"key","original":{"line":48,"column":20},"generated":{"line":1,"column":851}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transition","original":{"line":48,"column":25},"generated":{"line":1,"column":853}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"remove","original":{"line":51,"column":2},"generated":{"line":1,"column":856}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"key","original":{"line":51,"column":9},"generated":{"line":1,"column":863}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":52,"column":4},"generated":{"line":1,"column":866}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":52,"column":10},"generated":{"line":1,"column":872}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transitions","original":{"line":52,"column":11},"generated":{"line":1,"column":884}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":52,"column":26},"generated":{"line":1,"column":887}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transitions","original":{"line":53,"column":8},"generated":{"line":1,"column":892}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"has","original":{"line":53,"column":20},"generated":{"line":1,"column":894}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"key","original":{"line":53,"column":24},"generated":{"line":1,"column":898}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transitions","original":{"line":54,"column":6},"generated":{"line":1,"column":903}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"get","original":{"line":54,"column":18},"generated":{"line":1,"column":905}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"key","original":{"line":54,"column":22},"generated":{"line":1,"column":909}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"cancel","original":{"line":54,"column":27},"generated":{"line":1,"column":912}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transitions","original":{"line":55,"column":6},"generated":{"line":1,"column":921}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"delete","original":{"line":55,"column":18},"generated":{"line":1,"column":923}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"key","original":{"line":55,"column":25},"generated":{"line":1,"column":930}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"update","original":{"line":59,"column":2},"generated":{"line":1,"column":934}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":60,"column":4},"generated":{"line":1,"column":943}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"propsInTransition","original":{"line":60,"column":10},"generated":{"line":1,"column":949}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":60,"column":30},"generated":{"line":1,"column":951}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":62,"column":4},"generated":{"line":1,"column":954}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":62,"column":9},"generated":{"line":1,"column":958}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"key","original":{"line":62,"column":16},"generated":{"line":1,"column":964}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transition","original":{"line":62,"column":21},"generated":{"line":1,"column":966}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":62,"column":36},"generated":{"line":1,"column":971}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transitions","original":{"line":62,"column":41},"generated":{"line":1,"column":976}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transition","original":{"line":63,"column":6},"generated":{"line":1,"column":988}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"update","original":{"line":63,"column":17},"generated":{"line":1,"column":990}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"propsInTransition","original":{"line":64,"column":6},"generated":{"line":1,"column":999}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"key","original":{"line":64,"column":24},"generated":{"line":1,"column":1001}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transition","original":{"line":64,"column":31},"generated":{"line":1,"column":1004}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"value","original":{"line":64,"column":42},"generated":{"line":1,"column":1006}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transition","original":{"line":65,"column":11},"generated":{"line":1,"column":1012}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"inProgress","original":{"line":65,"column":22},"generated":{"line":1,"column":1014}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":67,"column":8},"generated":{"line":1,"column":1026}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"remove","original":{"line":67,"column":13},"generated":{"line":1,"column":1031}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"key","original":{"line":67,"column":20},"generated":{"line":1,"column":1038}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":71,"column":4},"generated":{"line":1,"column":1041}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"propsInTransition","original":{"line":71,"column":11},"generated":{"line":1,"column":1048}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"clear","original":{"line":74,"column":2},"generated":{"line":1,"column":1050}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":75,"column":4},"generated":{"line":1,"column":1058}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":75,"column":9},"generated":{"line":1,"column":1062}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"key","original":{"line":75,"column":15},"generated":{"line":1,"column":1068}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":75,"column":22},"generated":{"line":1,"column":1073}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"transitions","original":{"line":75,"column":27},"generated":{"line":1,"column":1078}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"keys","original":{"line":75,"column":39},"generated":{"line":1,"column":1090}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":76,"column":6},"generated":{"line":1,"column":1097}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"remove","original":{"line":76,"column":11},"generated":{"line":1,"column":1102}},{"source":"../../../src/lib/uniform-transition-manager.js","name":"key","original":{"line":76,"column":18},"generated":{"line":1,"column":1109}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":11,"column":46},"generated":{"line":1,"column":1113}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":11,"column":46},"generated":{"line":1,"column":1121}},{"source":"../../../src/lib/uniform-transition-manager.js","name":null,"original":{"line":11,"column":46},"generated":{"line":1,"column":1129}}],"sources":{"../../../src/lib/uniform-transition-manager.js":"import {normalizeTransitionSettings} from './attribute/attribute-transition-utils';\nimport CPUInterpolationTransition from '../transitions/cpu-interpolation-transition';\nimport CPUSpringTransition from '../transitions/cpu-spring-transition';\nimport log from '../utils/log';\n\nconst TRANSITION_TYPES = {\n  interpolation: CPUInterpolationTransition,\n  spring: CPUSpringTransition\n};\n\nexport default class UniformTransitionManager {\n  constructor(timeline) {\n    this.transitions = new Map();\n    this.timeline = timeline;\n  }\n\n  get active() {\n    return this.transitions.size > 0;\n  }\n\n  add(key, fromValue, toValue, settings) {\n    const {transitions} = this;\n    if (transitions.has(key)) {\n      const transition = transitions.get(key);\n      // value may not be available if `update()` has not been called. Fallback to `fromValue`\n      const {value = transition.settings.fromValue} = transition;\n      // start from interrupted position\n      fromValue = value;\n      this.remove(key);\n    }\n\n    settings = normalizeTransitionSettings(settings);\n    if (!settings) {\n      return;\n    }\n\n    const TransitionType = TRANSITION_TYPES[settings.type];\n    if (!TransitionType) {\n      log.error(`unsupported transition type '${settings.type}'`)();\n      return;\n    }\n    const transition = new TransitionType(this.timeline);\n    transition.start({\n      ...settings,\n      fromValue,\n      toValue\n    });\n    transitions.set(key, transition);\n  }\n\n  remove(key) {\n    const {transitions} = this;\n    if (transitions.has(key)) {\n      transitions.get(key).cancel();\n      transitions.delete(key);\n    }\n  }\n\n  update() {\n    const propsInTransition = {};\n\n    for (const [key, transition] of this.transitions) {\n      transition.update();\n      propsInTransition[key] = transition.value;\n      if (!transition.inProgress) {\n        // transition ended\n        this.remove(key);\n      }\n    }\n\n    return propsInTransition;\n  }\n\n  clear() {\n    for (const key of this.transitions.keys()) {\n      this.remove(key);\n    }\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"7d580494f776e9e9c0eeb65c782b9e2e","cacheData":{"env":{}}}