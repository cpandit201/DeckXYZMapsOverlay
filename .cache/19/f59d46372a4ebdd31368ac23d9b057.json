{"id":"XhAc","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/dist/esm/transform/transform.js.map","includedInParent":true,"mtime":1688284131877},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/package.json","includedInParent":true,"mtime":1688284131877},{"name":"@luma.gl/shadertools","loc":{"line":1,"column":33,"index":33},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/dist/esm/transform/transform.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/shadertools/dist/esm/index.js"},{"name":"./buffer-transform","loc":{"line":2,"column":28,"index":85},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/dist/esm/transform/transform.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/dist/esm/transform/buffer-transform.js"},{"name":"./texture-transform","loc":{"line":3,"column":29,"index":136},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/dist/esm/transform/transform.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/dist/esm/transform/texture-transform.js"},{"name":"@luma.gl/gltools","loc":{"line":4,"column":25,"index":184},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/dist/esm/transform/transform.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/dist/esm/index.js"},{"name":"@luma.gl/webgl","loc":{"line":5,"column":56,"index":260},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/dist/esm/transform/transform.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/dist/esm/index.js"},{"name":"../lib/model","loc":{"line":6,"column":18,"index":296},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/dist/esm/transform/transform.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/dist/esm/lib/model.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=require(\"@luma.gl/shadertools\"),t=f(require(\"./buffer-transform\")),r=f(require(\"./texture-transform\")),s=require(\"@luma.gl/gltools\"),o=require(\"@luma.gl/webgl\"),n=f(require(\"../lib/model\"));function f(e){return e&&e.__esModule?e:{default:e}}class u{static isSupported(e){return(0,s.isWebGL2)(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(t),Object.seal(this)}delete(){const{model:e,bufferTransform:t,textureTransform:r}=this;e&&e.delete(),t&&t.delete(),r&&r.delete()}run(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{clearRenderTarget:t=!0}=e,r=this._updateDrawOptions(e);t&&r.framebuffer&&r.framebuffer.clear({color:!0}),this.model.transform(r)}swap(){let e=!1;const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of t)e=e||r.swap();(0,o.assert)(e,\"Nothing to swap\")}getBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.bufferTransform&&this.bufferTransform.getBuffer(e)}getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of t){const t=r.getData(e);if(t)return t}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"elementCount\"in e&&this.model.setVertexCount(e.elementCount);const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of t)r.update(e)}_initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gl:r}=this;this._buildResourceTransforms(r,t),t=this._updateModelProps(t),this.model=new n.default(r,Object.assign({},t,{fs:t.fs||(0,e.getPassthroughFS)({version:(0,o.getShaderVersion)(t.vs)}),id:t.id||\"transform-model\",drawMode:t.drawMode||0,vertexCount:t.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(e){let t=Object.assign({},e);const r=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const s of r)t=s.updateModelProps(t);return t}_buildResourceTransforms(e,s){a(s)&&(this.bufferTransform=new t.default(e,s)),i(s)&&(this.textureTransform=new r.default(e,s)),(0,o.assert)(this.bufferTransform||this.textureTransform,\"must provide source/feedback buffers or source/target textures\")}_updateDrawOptions(e){let t=Object.assign({},e);const r=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const s of r)t=Object.assign(t,s.getDrawOptions(t));return t}}function a(e){return!((0,o.isObjectEmpty)(e.feedbackBuffers)&&(0,o.isObjectEmpty)(e.feedbackMap)&&!(e.varyings&&e.varyings.length>0))}function i(e){return!((0,o.isObjectEmpty)(e._sourceTextures)&&!e._targetTexture&&!e._targetTextureVarying)}exports.default=u;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/transform/transform.js","name":null,"original":{"line":177,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":177,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":177,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":177,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":177,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":177,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":177,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":177,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":177,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":177,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":177,"column":1},"generated":{"line":1,"column":89}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":91}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":95}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":97}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":105}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":129}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":131}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":133}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":141}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":164}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":166}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":168}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":176}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":200}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":202}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":210}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":230}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":232}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":240}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":258}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":260}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":262}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":270}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":287}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":296}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":298}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":301}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":308}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":311}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":313}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":324}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":326}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":327}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":335}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":11,"column":15},"generated":{"line":1,"column":338}},{"source":"../../../src/transform/transform.js","name":"Transform","original":{"line":11,"column":21},"generated":{"line":1,"column":344}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":12,"column":20},"generated":{"line":1,"column":346}},{"source":"../../../src/transform/transform.js","name":"gl","original":{"line":12,"column":21},"generated":{"line":1,"column":365}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":14,"column":4},"generated":{"line":1,"column":368}},{"source":"../../../src/transform/transform.js","name":"isWebGL2","original":{"line":14,"column":11},"generated":{"line":1,"column":375}},{"source":"../../../src/transform/transform.js","name":"isWebGL2","original":{"line":14,"column":11},"generated":{"line":1,"column":377}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":14,"column":19},"generated":{"line":1,"column":379}},{"source":"../../../src/transform/transform.js","name":"gl","original":{"line":14,"column":20},"generated":{"line":1,"column":389}},{"source":"../../../src/transform/transform.js","name":"constructor","original":{"line":17,"column":2},"generated":{"line":1,"column":392}},{"source":"../../../src/transform/transform.js","name":"gl","original":{"line":17,"column":14},"generated":{"line":1,"column":404}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":17,"column":30},"generated":{"line":1,"column":407}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":17,"column":18},"generated":{"line":1,"column":411}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":17,"column":30},"generated":{"line":1,"column":413}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":17,"column":30},"generated":{"line":1,"column":423}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":17,"column":30},"generated":{"line":1,"column":430}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":17,"column":30},"generated":{"line":1,"column":438}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":17,"column":30},"generated":{"line":1,"column":442}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":17,"column":30},"generated":{"line":1,"column":452}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":17,"column":30},"generated":{"line":1,"column":455}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":17,"column":30},"generated":{"line":1,"column":465}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":17,"column":26},"generated":{"line":1,"column":468}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":18,"column":4},"generated":{"line":1,"column":471}},{"source":"../../../src/transform/transform.js","name":"gl","original":{"line":18,"column":9},"generated":{"line":1,"column":476}},{"source":"../../../src/transform/transform.js","name":"gl","original":{"line":18,"column":14},"generated":{"line":1,"column":479}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":481}},{"source":"../../../src/transform/transform.js","name":"model","original":{"line":19,"column":9},"generated":{"line":1,"column":486}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":19,"column":17},"generated":{"line":1,"column":492}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":20,"column":4},"generated":{"line":1,"column":497}},{"source":"../../../src/transform/transform.js","name":"elementCount","original":{"line":20,"column":9},"generated":{"line":1,"column":502}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":20,"column":24},"generated":{"line":1,"column":515}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":21,"column":4},"generated":{"line":1,"column":517}},{"source":"../../../src/transform/transform.js","name":"bufferTransform","original":{"line":21,"column":9},"generated":{"line":1,"column":522}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":538}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":22,"column":4},"generated":{"line":1,"column":543}},{"source":"../../../src/transform/transform.js","name":"textureTransform","original":{"line":22,"column":9},"generated":{"line":1,"column":548}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":22,"column":28},"generated":{"line":1,"column":565}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":570}},{"source":"../../../src/transform/transform.js","name":"elementIDBuffer","original":{"line":23,"column":9},"generated":{"line":1,"column":575}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":23,"column":27},"generated":{"line":1,"column":591}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":596}},{"source":"../../../src/transform/transform.js","name":"_initialize","original":{"line":24,"column":9},"generated":{"line":1,"column":601}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":24,"column":21},"generated":{"line":1,"column":613}},{"source":"../../../src/transform/transform.js","name":"Object","original":{"line":25,"column":4},"generated":{"line":1,"column":616}},{"source":"../../../src/transform/transform.js","name":"seal","original":{"line":25,"column":11},"generated":{"line":1,"column":623}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":25,"column":16},"generated":{"line":1,"column":628}},{"source":"../../../src/transform/transform.js","name":"delete","original":{"line":29,"column":2},"generated":{"line":1,"column":634}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":30,"column":4},"generated":{"line":1,"column":643}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":649}},{"source":"../../../src/transform/transform.js","name":"model","original":{"line":30,"column":11},"generated":{"line":1,"column":655}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":657}},{"source":"../../../src/transform/transform.js","name":"bufferTransform","original":{"line":30,"column":18},"generated":{"line":1,"column":673}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":675}},{"source":"../../../src/transform/transform.js","name":"textureTransform","original":{"line":30,"column":35},"generated":{"line":1,"column":692}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":30,"column":55},"generated":{"line":1,"column":695}},{"source":"../../../src/transform/transform.js","name":"model","original":{"line":31,"column":8},"generated":{"line":1,"column":700}},{"source":"../../../src/transform/transform.js","name":"model","original":{"line":32,"column":6},"generated":{"line":1,"column":703}},{"source":"../../../src/transform/transform.js","name":"delete","original":{"line":32,"column":12},"generated":{"line":1,"column":705}},{"source":"../../../src/transform/transform.js","name":"bufferTransform","original":{"line":34,"column":8},"generated":{"line":1,"column":714}},{"source":"../../../src/transform/transform.js","name":"bufferTransform","original":{"line":35,"column":6},"generated":{"line":1,"column":717}},{"source":"../../../src/transform/transform.js","name":"delete","original":{"line":35,"column":22},"generated":{"line":1,"column":719}},{"source":"../../../src/transform/transform.js","name":"textureTransform","original":{"line":37,"column":8},"generated":{"line":1,"column":728}},{"source":"../../../src/transform/transform.js","name":"textureTransform","original":{"line":38,"column":6},"generated":{"line":1,"column":731}},{"source":"../../../src/transform/transform.js","name":"delete","original":{"line":38,"column":23},"generated":{"line":1,"column":733}},{"source":"../../../src/transform/transform.js","name":"run","original":{"line":43,"column":2},"generated":{"line":1,"column":742}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":43,"column":17},"generated":{"line":1,"column":748}},{"source":"../../../src/transform/transform.js","name":"opts","original":{"line":43,"column":6},"generated":{"line":1,"column":752}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":43,"column":17},"generated":{"line":1,"column":754}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":43,"column":17},"generated":{"line":1,"column":764}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":43,"column":17},"generated":{"line":1,"column":771}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":43,"column":17},"generated":{"line":1,"column":779}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":43,"column":17},"generated":{"line":1,"column":783}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":43,"column":17},"generated":{"line":1,"column":793}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":43,"column":17},"generated":{"line":1,"column":796}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":43,"column":17},"generated":{"line":1,"column":806}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":43,"column":13},"generated":{"line":1,"column":809}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":812}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":44,"column":10},"generated":{"line":1,"column":818}},{"source":"../../../src/transform/transform.js","name":"clearRenderTarget","original":{"line":44,"column":11},"generated":{"line":1,"column":836}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":44,"column":31},"generated":{"line":1,"column":839}},{"source":"../../../src/transform/transform.js","name":"opts","original":{"line":44,"column":39},"generated":{"line":1,"column":842}},{"source":"../../../src/transform/transform.js","name":"updatedOpts","original":{"line":46,"column":10},"generated":{"line":1,"column":844}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":46,"column":24},"generated":{"line":1,"column":846}},{"source":"../../../src/transform/transform.js","name":"_updateDrawOptions","original":{"line":46,"column":29},"generated":{"line":1,"column":851}},{"source":"../../../src/transform/transform.js","name":"opts","original":{"line":46,"column":48},"generated":{"line":1,"column":870}},{"source":"../../../src/transform/transform.js","name":"clearRenderTarget","original":{"line":48,"column":8},"generated":{"line":1,"column":873}},{"source":"../../../src/transform/transform.js","name":"updatedOpts","original":{"line":48,"column":29},"generated":{"line":1,"column":876}},{"source":"../../../src/transform/transform.js","name":"framebuffer","original":{"line":48,"column":41},"generated":{"line":1,"column":878}},{"source":"../../../src/transform/transform.js","name":"updatedOpts","original":{"line":49,"column":6},"generated":{"line":1,"column":891}},{"source":"../../../src/transform/transform.js","name":"framebuffer","original":{"line":49,"column":18},"generated":{"line":1,"column":893}},{"source":"../../../src/transform/transform.js","name":"clear","original":{"line":49,"column":30},"generated":{"line":1,"column":905}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":49,"column":36},"generated":{"line":1,"column":911}},{"source":"../../../src/transform/transform.js","name":"color","original":{"line":49,"column":37},"generated":{"line":1,"column":912}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":49,"column":44},"generated":{"line":1,"column":919}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":52,"column":4},"generated":{"line":1,"column":923}},{"source":"../../../src/transform/transform.js","name":"model","original":{"line":52,"column":9},"generated":{"line":1,"column":928}},{"source":"../../../src/transform/transform.js","name":"transform","original":{"line":52,"column":15},"generated":{"line":1,"column":934}},{"source":"../../../src/transform/transform.js","name":"updatedOpts","original":{"line":52,"column":25},"generated":{"line":1,"column":944}},{"source":"../../../src/transform/transform.js","name":"swap","original":{"line":56,"column":2},"generated":{"line":1,"column":947}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":57,"column":4},"generated":{"line":1,"column":954}},{"source":"../../../src/transform/transform.js","name":"swapped","original":{"line":57,"column":8},"generated":{"line":1,"column":958}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":57,"column":18},"generated":{"line":1,"column":961}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":963}},{"source":"../../../src/transform/transform.js","name":"resourceTransforms","original":{"line":58,"column":10},"generated":{"line":1,"column":969}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":58,"column":31},"generated":{"line":1,"column":971}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":58,"column":32},"generated":{"line":1,"column":972}},{"source":"../../../src/transform/transform.js","name":"bufferTransform","original":{"line":58,"column":37},"generated":{"line":1,"column":977}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":58,"column":54},"generated":{"line":1,"column":993}},{"source":"../../../src/transform/transform.js","name":"textureTransform","original":{"line":58,"column":59},"generated":{"line":1,"column":998}},{"source":"../../../src/transform/transform.js","name":"filter","original":{"line":58,"column":77},"generated":{"line":1,"column":1016}},{"source":"../../../src/transform/transform.js","name":"Boolean","original":{"line":58,"column":84},"generated":{"line":1,"column":1023}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":59,"column":4},"generated":{"line":1,"column":1032}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":59,"column":9},"generated":{"line":1,"column":1036}},{"source":"../../../src/transform/transform.js","name":"resourceTransform","original":{"line":59,"column":15},"generated":{"line":1,"column":1042}},{"source":"../../../src/transform/transform.js","name":"resourceTransforms","original":{"line":59,"column":36},"generated":{"line":1,"column":1047}},{"source":"../../../src/transform/transform.js","name":"swapped","original":{"line":60,"column":6},"generated":{"line":1,"column":1049}},{"source":"../../../src/transform/transform.js","name":"swapped","original":{"line":60,"column":16},"generated":{"line":1,"column":1051}},{"source":"../../../src/transform/transform.js","name":"resourceTransform","original":{"line":60,"column":27},"generated":{"line":1,"column":1054}},{"source":"../../../src/transform/transform.js","name":"swap","original":{"line":60,"column":45},"generated":{"line":1,"column":1056}},{"source":"../../../src/transform/transform.js","name":"assert","original":{"line":62,"column":4},"generated":{"line":1,"column":1064}},{"source":"../../../src/transform/transform.js","name":"assert","original":{"line":62,"column":4},"generated":{"line":1,"column":1066}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":62,"column":10},"generated":{"line":1,"column":1068}},{"source":"../../../src/transform/transform.js","name":"swapped","original":{"line":62,"column":11},"generated":{"line":1,"column":1076}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":62,"column":20},"generated":{"line":1,"column":1078}},{"source":"../../../src/transform/transform.js","name":"getBuffer","original":{"line":66,"column":2},"generated":{"line":1,"column":1097}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":66,"column":32},"generated":{"line":1,"column":1109}},{"source":"../../../src/transform/transform.js","name":"varyingName","original":{"line":66,"column":12},"generated":{"line":1,"column":1113}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":66,"column":32},"generated":{"line":1,"column":1115}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":66,"column":32},"generated":{"line":1,"column":1125}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":66,"column":32},"generated":{"line":1,"column":1132}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":66,"column":32},"generated":{"line":1,"column":1140}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":66,"column":32},"generated":{"line":1,"column":1144}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":66,"column":32},"generated":{"line":1,"column":1154}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":66,"column":32},"generated":{"line":1,"column":1157}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":66,"column":32},"generated":{"line":1,"column":1167}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":66,"column":26},"generated":{"line":1,"column":1170}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":67,"column":4},"generated":{"line":1,"column":1175}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":67,"column":11},"generated":{"line":1,"column":1182}},{"source":"../../../src/transform/transform.js","name":"bufferTransform","original":{"line":67,"column":16},"generated":{"line":1,"column":1187}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":67,"column":35},"generated":{"line":1,"column":1204}},{"source":"../../../src/transform/transform.js","name":"bufferTransform","original":{"line":67,"column":40},"generated":{"line":1,"column":1209}},{"source":"../../../src/transform/transform.js","name":"getBuffer","original":{"line":67,"column":56},"generated":{"line":1,"column":1225}},{"source":"../../../src/transform/transform.js","name":"varyingName","original":{"line":67,"column":66},"generated":{"line":1,"column":1235}},{"source":"../../../src/transform/transform.js","name":"getData","original":{"line":71,"column":2},"generated":{"line":1,"column":1238}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":71,"column":21},"generated":{"line":1,"column":1248}},{"source":"../../../src/transform/transform.js","name":"opts","original":{"line":71,"column":10},"generated":{"line":1,"column":1252}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":71,"column":21},"generated":{"line":1,"column":1254}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":71,"column":21},"generated":{"line":1,"column":1264}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":71,"column":21},"generated":{"line":1,"column":1271}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":71,"column":21},"generated":{"line":1,"column":1279}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":71,"column":21},"generated":{"line":1,"column":1283}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":71,"column":21},"generated":{"line":1,"column":1293}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":71,"column":21},"generated":{"line":1,"column":1296}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":71,"column":21},"generated":{"line":1,"column":1306}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":71,"column":17},"generated":{"line":1,"column":1309}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":1312}},{"source":"../../../src/transform/transform.js","name":"resourceTransforms","original":{"line":72,"column":10},"generated":{"line":1,"column":1318}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":72,"column":31},"generated":{"line":1,"column":1320}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":72,"column":32},"generated":{"line":1,"column":1321}},{"source":"../../../src/transform/transform.js","name":"bufferTransform","original":{"line":72,"column":37},"generated":{"line":1,"column":1326}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":72,"column":54},"generated":{"line":1,"column":1342}},{"source":"../../../src/transform/transform.js","name":"textureTransform","original":{"line":72,"column":59},"generated":{"line":1,"column":1347}},{"source":"../../../src/transform/transform.js","name":"filter","original":{"line":72,"column":77},"generated":{"line":1,"column":1365}},{"source":"../../../src/transform/transform.js","name":"Boolean","original":{"line":72,"column":84},"generated":{"line":1,"column":1372}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":73,"column":4},"generated":{"line":1,"column":1381}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":73,"column":9},"generated":{"line":1,"column":1385}},{"source":"../../../src/transform/transform.js","name":"resourceTransform","original":{"line":73,"column":15},"generated":{"line":1,"column":1391}},{"source":"../../../src/transform/transform.js","name":"resourceTransforms","original":{"line":73,"column":36},"generated":{"line":1,"column":1396}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":73,"column":56},"generated":{"line":1,"column":1398}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":75,"column":6},"generated":{"line":1,"column":1399}},{"source":"../../../src/transform/transform.js","name":"data","original":{"line":75,"column":12},"generated":{"line":1,"column":1405}},{"source":"../../../src/transform/transform.js","name":"resourceTransform","original":{"line":75,"column":19},"generated":{"line":1,"column":1407}},{"source":"../../../src/transform/transform.js","name":"getData","original":{"line":75,"column":37},"generated":{"line":1,"column":1409}},{"source":"../../../src/transform/transform.js","name":"opts","original":{"line":75,"column":45},"generated":{"line":1,"column":1417}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":76,"column":6},"generated":{"line":1,"column":1420}},{"source":"../../../src/transform/transform.js","name":"data","original":{"line":76,"column":10},"generated":{"line":1,"column":1423}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":77,"column":8},"generated":{"line":1,"column":1425}},{"source":"../../../src/transform/transform.js","name":"data","original":{"line":77,"column":15},"generated":{"line":1,"column":1432}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":80,"column":4},"generated":{"line":1,"column":1434}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":80,"column":11},"generated":{"line":1,"column":1441}},{"source":"../../../src/transform/transform.js","name":"getFramebuffer","original":{"line":84,"column":2},"generated":{"line":1,"column":1446}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":85,"column":4},"generated":{"line":1,"column":1463}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":85,"column":11},"generated":{"line":1,"column":1470}},{"source":"../../../src/transform/transform.js","name":"textureTransform","original":{"line":85,"column":16},"generated":{"line":1,"column":1475}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":85,"column":36},"generated":{"line":1,"column":1493}},{"source":"../../../src/transform/transform.js","name":"textureTransform","original":{"line":85,"column":41},"generated":{"line":1,"column":1498}},{"source":"../../../src/transform/transform.js","name":"getFramebuffer","original":{"line":85,"column":58},"generated":{"line":1,"column":1515}},{"source":"../../../src/transform/transform.js","name":"update","original":{"line":89,"column":2},"generated":{"line":1,"column":1532}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":89,"column":20},"generated":{"line":1,"column":1541}},{"source":"../../../src/transform/transform.js","name":"opts","original":{"line":89,"column":9},"generated":{"line":1,"column":1545}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":89,"column":20},"generated":{"line":1,"column":1547}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":89,"column":20},"generated":{"line":1,"column":1557}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":89,"column":20},"generated":{"line":1,"column":1564}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":89,"column":20},"generated":{"line":1,"column":1572}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":89,"column":20},"generated":{"line":1,"column":1576}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":89,"column":20},"generated":{"line":1,"column":1586}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":89,"column":20},"generated":{"line":1,"column":1589}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":89,"column":20},"generated":{"line":1,"column":1599}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":89,"column":16},"generated":{"line":1,"column":1602}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":90,"column":8},"generated":{"line":1,"column":1605}},{"source":"../../../src/transform/transform.js","name":"opts","original":{"line":90,"column":26},"generated":{"line":1,"column":1622}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":92,"column":6},"generated":{"line":1,"column":1625}},{"source":"../../../src/transform/transform.js","name":"model","original":{"line":92,"column":11},"generated":{"line":1,"column":1630}},{"source":"../../../src/transform/transform.js","name":"setVertexCount","original":{"line":92,"column":17},"generated":{"line":1,"column":1636}},{"source":"../../../src/transform/transform.js","name":"opts","original":{"line":92,"column":32},"generated":{"line":1,"column":1651}},{"source":"../../../src/transform/transform.js","name":"elementCount","original":{"line":92,"column":37},"generated":{"line":1,"column":1653}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":94,"column":4},"generated":{"line":1,"column":1667}},{"source":"../../../src/transform/transform.js","name":"resourceTransforms","original":{"line":94,"column":10},"generated":{"line":1,"column":1673}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":94,"column":31},"generated":{"line":1,"column":1675}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":94,"column":32},"generated":{"line":1,"column":1676}},{"source":"../../../src/transform/transform.js","name":"bufferTransform","original":{"line":94,"column":37},"generated":{"line":1,"column":1681}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":94,"column":54},"generated":{"line":1,"column":1697}},{"source":"../../../src/transform/transform.js","name":"textureTransform","original":{"line":94,"column":59},"generated":{"line":1,"column":1702}},{"source":"../../../src/transform/transform.js","name":"filter","original":{"line":94,"column":77},"generated":{"line":1,"column":1720}},{"source":"../../../src/transform/transform.js","name":"Boolean","original":{"line":94,"column":84},"generated":{"line":1,"column":1727}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":95,"column":4},"generated":{"line":1,"column":1736}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":95,"column":9},"generated":{"line":1,"column":1740}},{"source":"../../../src/transform/transform.js","name":"resourceTransform","original":{"line":95,"column":15},"generated":{"line":1,"column":1746}},{"source":"../../../src/transform/transform.js","name":"resourceTransforms","original":{"line":95,"column":36},"generated":{"line":1,"column":1751}},{"source":"../../../src/transform/transform.js","name":"resourceTransform","original":{"line":96,"column":6},"generated":{"line":1,"column":1753}},{"source":"../../../src/transform/transform.js","name":"update","original":{"line":96,"column":24},"generated":{"line":1,"column":1755}},{"source":"../../../src/transform/transform.js","name":"opts","original":{"line":96,"column":31},"generated":{"line":1,"column":1762}},{"source":"../../../src/transform/transform.js","name":"_initialize","original":{"line":102,"column":2},"generated":{"line":1,"column":1765}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":102,"column":26},"generated":{"line":1,"column":1779}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":102,"column":14},"generated":{"line":1,"column":1783}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":102,"column":26},"generated":{"line":1,"column":1785}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":102,"column":26},"generated":{"line":1,"column":1795}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":102,"column":26},"generated":{"line":1,"column":1802}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":102,"column":26},"generated":{"line":1,"column":1810}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":102,"column":26},"generated":{"line":1,"column":1814}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":102,"column":26},"generated":{"line":1,"column":1824}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":102,"column":26},"generated":{"line":1,"column":1827}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":102,"column":26},"generated":{"line":1,"column":1837}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":102,"column":22},"generated":{"line":1,"column":1840}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":103,"column":4},"generated":{"line":1,"column":1843}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":103,"column":10},"generated":{"line":1,"column":1849}},{"source":"../../../src/transform/transform.js","name":"gl","original":{"line":103,"column":11},"generated":{"line":1,"column":1852}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":103,"column":17},"generated":{"line":1,"column":1855}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":104,"column":4},"generated":{"line":1,"column":1860}},{"source":"../../../src/transform/transform.js","name":"_buildResourceTransforms","original":{"line":104,"column":9},"generated":{"line":1,"column":1865}},{"source":"../../../src/transform/transform.js","name":"gl","original":{"line":104,"column":34},"generated":{"line":1,"column":1890}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":104,"column":38},"generated":{"line":1,"column":1892}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":106,"column":4},"generated":{"line":1,"column":1895}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":106,"column":12},"generated":{"line":1,"column":1897}},{"source":"../../../src/transform/transform.js","name":"_updateModelProps","original":{"line":106,"column":17},"generated":{"line":1,"column":1902}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":106,"column":35},"generated":{"line":1,"column":1920}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":107,"column":4},"generated":{"line":1,"column":1923}},{"source":"../../../src/transform/transform.js","name":"model","original":{"line":107,"column":9},"generated":{"line":1,"column":1928}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":107,"column":17},"generated":{"line":1,"column":1934}},{"source":"../../../src/transform/transform.js","name":"Model","original":{"line":107,"column":21},"generated":{"line":1,"column":1938}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":107,"column":17},"generated":{"line":1,"column":1940}},{"source":"../../../src/transform/transform.js","name":"gl","original":{"line":108,"column":6},"generated":{"line":1,"column":1948}},{"source":"../../../src/transform/transform.js","name":"Object","original":{"line":109,"column":6},"generated":{"line":1,"column":1950}},{"source":"../../../src/transform/transform.js","name":"assign","original":{"line":109,"column":13},"generated":{"line":1,"column":1957}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":109,"column":20},"generated":{"line":1,"column":1964}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":109,"column":24},"generated":{"line":1,"column":1967}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":109,"column":31},"generated":{"line":1,"column":1969}},{"source":"../../../src/transform/transform.js","name":"fs","original":{"line":110,"column":8},"generated":{"line":1,"column":1970}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":110,"column":12},"generated":{"line":1,"column":1973}},{"source":"../../../src/transform/transform.js","name":"fs","original":{"line":110,"column":18},"generated":{"line":1,"column":1975}},{"source":"../../../src/transform/transform.js","name":"getPassthroughFS","original":{"line":110,"column":24},"generated":{"line":1,"column":1980}},{"source":"../../../src/transform/transform.js","name":"getPassthroughFS","original":{"line":110,"column":24},"generated":{"line":1,"column":1982}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":110,"column":40},"generated":{"line":1,"column":1984}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":110,"column":41},"generated":{"line":1,"column":2002}},{"source":"../../../src/transform/transform.js","name":"version","original":{"line":110,"column":42},"generated":{"line":1,"column":2003}},{"source":"../../../src/transform/transform.js","name":"getShaderVersion","original":{"line":110,"column":51},"generated":{"line":1,"column":2012}},{"source":"../../../src/transform/transform.js","name":"getShaderVersion","original":{"line":110,"column":51},"generated":{"line":1,"column":2014}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":110,"column":67},"generated":{"line":1,"column":2016}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":110,"column":68},"generated":{"line":1,"column":2034}},{"source":"../../../src/transform/transform.js","name":"vs","original":{"line":110,"column":74},"generated":{"line":1,"column":2036}},{"source":"../../../src/transform/transform.js","name":"id","original":{"line":111,"column":8},"generated":{"line":1,"column":2042}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":111,"column":12},"generated":{"line":1,"column":2045}},{"source":"../../../src/transform/transform.js","name":"id","original":{"line":111,"column":18},"generated":{"line":1,"column":2047}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":111,"column":24},"generated":{"line":1,"column":2051}},{"source":"../../../src/transform/transform.js","name":"drawMode","original":{"line":112,"column":8},"generated":{"line":1,"column":2069}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":112,"column":18},"generated":{"line":1,"column":2078}},{"source":"../../../src/transform/transform.js","name":"drawMode","original":{"line":112,"column":24},"generated":{"line":1,"column":2080}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":112,"column":18},"generated":{"line":1,"column":2090}},{"source":"../../../src/transform/transform.js","name":"vertexCount","original":{"line":113,"column":8},"generated":{"line":1,"column":2092}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":113,"column":21},"generated":{"line":1,"column":2104}},{"source":"../../../src/transform/transform.js","name":"elementCount","original":{"line":113,"column":27},"generated":{"line":1,"column":2106}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":118,"column":4},"generated":{"line":1,"column":2122}},{"source":"../../../src/transform/transform.js","name":"bufferTransform","original":{"line":118,"column":9},"generated":{"line":1,"column":2127}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":118,"column":28},"generated":{"line":1,"column":2144}},{"source":"../../../src/transform/transform.js","name":"bufferTransform","original":{"line":118,"column":33},"generated":{"line":1,"column":2149}},{"source":"../../../src/transform/transform.js","name":"setupResources","original":{"line":118,"column":49},"generated":{"line":1,"column":2165}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":118,"column":64},"generated":{"line":1,"column":2180}},{"source":"../../../src/transform/transform.js","name":"model","original":{"line":118,"column":65},"generated":{"line":1,"column":2181}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":118,"column":72},"generated":{"line":1,"column":2187}},{"source":"../../../src/transform/transform.js","name":"model","original":{"line":118,"column":77},"generated":{"line":1,"column":2192}},{"source":"../../../src/transform/transform.js","name":"_updateModelProps","original":{"line":122,"column":2},"generated":{"line":1,"column":2200}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":122,"column":20},"generated":{"line":1,"column":2218}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":123,"column":4},"generated":{"line":1,"column":2221}},{"source":"../../../src/transform/transform.js","name":"updatedProps","original":{"line":123,"column":8},"generated":{"line":1,"column":2225}},{"source":"../../../src/transform/transform.js","name":"Object","original":{"line":123,"column":23},"generated":{"line":1,"column":2227}},{"source":"../../../src/transform/transform.js","name":"assign","original":{"line":123,"column":30},"generated":{"line":1,"column":2234}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":123,"column":37},"generated":{"line":1,"column":2241}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":123,"column":41},"generated":{"line":1,"column":2244}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":124,"column":4},"generated":{"line":1,"column":2247}},{"source":"../../../src/transform/transform.js","name":"resourceTransforms","original":{"line":124,"column":10},"generated":{"line":1,"column":2253}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":124,"column":31},"generated":{"line":1,"column":2255}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":124,"column":32},"generated":{"line":1,"column":2256}},{"source":"../../../src/transform/transform.js","name":"bufferTransform","original":{"line":124,"column":37},"generated":{"line":1,"column":2261}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":124,"column":54},"generated":{"line":1,"column":2277}},{"source":"../../../src/transform/transform.js","name":"textureTransform","original":{"line":124,"column":59},"generated":{"line":1,"column":2282}},{"source":"../../../src/transform/transform.js","name":"filter","original":{"line":124,"column":77},"generated":{"line":1,"column":2300}},{"source":"../../../src/transform/transform.js","name":"Boolean","original":{"line":124,"column":84},"generated":{"line":1,"column":2307}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":125,"column":4},"generated":{"line":1,"column":2316}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":125,"column":9},"generated":{"line":1,"column":2320}},{"source":"../../../src/transform/transform.js","name":"resourceTransform","original":{"line":125,"column":15},"generated":{"line":1,"column":2326}},{"source":"../../../src/transform/transform.js","name":"resourceTransforms","original":{"line":125,"column":36},"generated":{"line":1,"column":2331}},{"source":"../../../src/transform/transform.js","name":"updatedProps","original":{"line":126,"column":6},"generated":{"line":1,"column":2333}},{"source":"../../../src/transform/transform.js","name":"resourceTransform","original":{"line":126,"column":21},"generated":{"line":1,"column":2335}},{"source":"../../../src/transform/transform.js","name":"updateModelProps","original":{"line":126,"column":39},"generated":{"line":1,"column":2337}},{"source":"../../../src/transform/transform.js","name":"updatedProps","original":{"line":126,"column":56},"generated":{"line":1,"column":2354}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":128,"column":4},"generated":{"line":1,"column":2357}},{"source":"../../../src/transform/transform.js","name":"updatedProps","original":{"line":128,"column":11},"generated":{"line":1,"column":2364}},{"source":"../../../src/transform/transform.js","name":"_buildResourceTransforms","original":{"line":131,"column":2},"generated":{"line":1,"column":2366}},{"source":"../../../src/transform/transform.js","name":"gl","original":{"line":131,"column":27},"generated":{"line":1,"column":2391}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":131,"column":31},"generated":{"line":1,"column":2393}},{"source":"../../../src/transform/transform.js","name":"canCreateBufferTransform","original":{"line":132,"column":8},"generated":{"line":1,"column":2396}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":132,"column":33},"generated":{"line":1,"column":2398}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":133,"column":6},"generated":{"line":1,"column":2403}},{"source":"../../../src/transform/transform.js","name":"bufferTransform","original":{"line":133,"column":11},"generated":{"line":1,"column":2408}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":133,"column":29},"generated":{"line":1,"column":2424}},{"source":"../../../src/transform/transform.js","name":"BufferTransform","original":{"line":133,"column":33},"generated":{"line":1,"column":2428}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":133,"column":29},"generated":{"line":1,"column":2430}},{"source":"../../../src/transform/transform.js","name":"gl","original":{"line":133,"column":49},"generated":{"line":1,"column":2438}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":133,"column":53},"generated":{"line":1,"column":2440}},{"source":"../../../src/transform/transform.js","name":"canCreateTextureTransform","original":{"line":135,"column":8},"generated":{"line":1,"column":2444}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":135,"column":34},"generated":{"line":1,"column":2446}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":136,"column":6},"generated":{"line":1,"column":2451}},{"source":"../../../src/transform/transform.js","name":"textureTransform","original":{"line":136,"column":11},"generated":{"line":1,"column":2456}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":136,"column":30},"generated":{"line":1,"column":2473}},{"source":"../../../src/transform/transform.js","name":"TextureTransform","original":{"line":136,"column":34},"generated":{"line":1,"column":2477}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":136,"column":30},"generated":{"line":1,"column":2479}},{"source":"../../../src/transform/transform.js","name":"gl","original":{"line":136,"column":51},"generated":{"line":1,"column":2487}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":136,"column":55},"generated":{"line":1,"column":2489}},{"source":"../../../src/transform/transform.js","name":"assert","original":{"line":138,"column":4},"generated":{"line":1,"column":2494}},{"source":"../../../src/transform/transform.js","name":"assert","original":{"line":138,"column":4},"generated":{"line":1,"column":2496}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":138,"column":10},"generated":{"line":1,"column":2498}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":139,"column":6},"generated":{"line":1,"column":2506}},{"source":"../../../src/transform/transform.js","name":"bufferTransform","original":{"line":139,"column":11},"generated":{"line":1,"column":2511}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":139,"column":30},"generated":{"line":1,"column":2528}},{"source":"../../../src/transform/transform.js","name":"textureTransform","original":{"line":139,"column":35},"generated":{"line":1,"column":2533}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":140,"column":6},"generated":{"line":1,"column":2550}},{"source":"../../../src/transform/transform.js","name":"_updateDrawOptions","original":{"line":144,"column":2},"generated":{"line":1,"column":2616}},{"source":"../../../src/transform/transform.js","name":"opts","original":{"line":144,"column":21},"generated":{"line":1,"column":2635}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":145,"column":4},"generated":{"line":1,"column":2638}},{"source":"../../../src/transform/transform.js","name":"updatedOpts","original":{"line":145,"column":8},"generated":{"line":1,"column":2642}},{"source":"../../../src/transform/transform.js","name":"Object","original":{"line":145,"column":22},"generated":{"line":1,"column":2644}},{"source":"../../../src/transform/transform.js","name":"assign","original":{"line":145,"column":29},"generated":{"line":1,"column":2651}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":145,"column":36},"generated":{"line":1,"column":2658}},{"source":"../../../src/transform/transform.js","name":"opts","original":{"line":145,"column":40},"generated":{"line":1,"column":2661}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":146,"column":4},"generated":{"line":1,"column":2664}},{"source":"../../../src/transform/transform.js","name":"resourceTransforms","original":{"line":146,"column":10},"generated":{"line":1,"column":2670}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":146,"column":31},"generated":{"line":1,"column":2672}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":146,"column":32},"generated":{"line":1,"column":2673}},{"source":"../../../src/transform/transform.js","name":"bufferTransform","original":{"line":146,"column":37},"generated":{"line":1,"column":2678}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":146,"column":54},"generated":{"line":1,"column":2694}},{"source":"../../../src/transform/transform.js","name":"textureTransform","original":{"line":146,"column":59},"generated":{"line":1,"column":2699}},{"source":"../../../src/transform/transform.js","name":"filter","original":{"line":146,"column":77},"generated":{"line":1,"column":2717}},{"source":"../../../src/transform/transform.js","name":"Boolean","original":{"line":146,"column":84},"generated":{"line":1,"column":2724}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":147,"column":4},"generated":{"line":1,"column":2733}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":147,"column":9},"generated":{"line":1,"column":2737}},{"source":"../../../src/transform/transform.js","name":"resourceTransform","original":{"line":147,"column":15},"generated":{"line":1,"column":2743}},{"source":"../../../src/transform/transform.js","name":"resourceTransforms","original":{"line":147,"column":36},"generated":{"line":1,"column":2748}},{"source":"../../../src/transform/transform.js","name":"updatedOpts","original":{"line":148,"column":6},"generated":{"line":1,"column":2750}},{"source":"../../../src/transform/transform.js","name":"Object","original":{"line":148,"column":20},"generated":{"line":1,"column":2752}},{"source":"../../../src/transform/transform.js","name":"assign","original":{"line":148,"column":27},"generated":{"line":1,"column":2759}},{"source":"../../../src/transform/transform.js","name":"updatedOpts","original":{"line":148,"column":34},"generated":{"line":1,"column":2766}},{"source":"../../../src/transform/transform.js","name":"resourceTransform","original":{"line":148,"column":47},"generated":{"line":1,"column":2768}},{"source":"../../../src/transform/transform.js","name":"getDrawOptions","original":{"line":148,"column":65},"generated":{"line":1,"column":2770}},{"source":"../../../src/transform/transform.js","name":"updatedOpts","original":{"line":148,"column":80},"generated":{"line":1,"column":2785}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":150,"column":4},"generated":{"line":1,"column":2789}},{"source":"../../../src/transform/transform.js","name":"updatedOpts","original":{"line":150,"column":11},"generated":{"line":1,"column":2796}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":156,"column":0},"generated":{"line":1,"column":2799}},{"source":"../../../src/transform/transform.js","name":"canCreateBufferTransform","original":{"line":156,"column":9},"generated":{"line":1,"column":2808}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":156,"column":34},"generated":{"line":1,"column":2810}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":157,"column":2},"generated":{"line":1,"column":2813}},{"source":"../../../src/transform/transform.js","name":"isObjectEmpty","original":{"line":158,"column":5},"generated":{"line":1,"column":2822}},{"source":"../../../src/transform/transform.js","name":"isObjectEmpty","original":{"line":158,"column":5},"generated":{"line":1,"column":2824}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":158,"column":18},"generated":{"line":1,"column":2826}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":158,"column":19},"generated":{"line":1,"column":2841}},{"source":"../../../src/transform/transform.js","name":"feedbackBuffers","original":{"line":158,"column":25},"generated":{"line":1,"column":2843}},{"source":"../../../src/transform/transform.js","name":"isObjectEmpty","original":{"line":159,"column":5},"generated":{"line":1,"column":2862}},{"source":"../../../src/transform/transform.js","name":"isObjectEmpty","original":{"line":159,"column":5},"generated":{"line":1,"column":2864}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":159,"column":18},"generated":{"line":1,"column":2866}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":159,"column":19},"generated":{"line":1,"column":2881}},{"source":"../../../src/transform/transform.js","name":"feedbackMap","original":{"line":159,"column":25},"generated":{"line":1,"column":2883}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":160,"column":5},"generated":{"line":1,"column":2899}},{"source":"../../../src/transform/transform.js","name":"varyings","original":{"line":160,"column":11},"generated":{"line":1,"column":2901}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":160,"column":23},"generated":{"line":1,"column":2911}},{"source":"../../../src/transform/transform.js","name":"varyings","original":{"line":160,"column":29},"generated":{"line":1,"column":2913}},{"source":"../../../src/transform/transform.js","name":"length","original":{"line":160,"column":38},"generated":{"line":1,"column":2922}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":160,"column":47},"generated":{"line":1,"column":2929}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":167,"column":0},"generated":{"line":1,"column":2933}},{"source":"../../../src/transform/transform.js","name":"canCreateTextureTransform","original":{"line":167,"column":9},"generated":{"line":1,"column":2942}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":167,"column":35},"generated":{"line":1,"column":2944}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":168,"column":2},"generated":{"line":1,"column":2947}},{"source":"../../../src/transform/transform.js","name":"isObjectEmpty","original":{"line":169,"column":5},"generated":{"line":1,"column":2956}},{"source":"../../../src/transform/transform.js","name":"isObjectEmpty","original":{"line":169,"column":5},"generated":{"line":1,"column":2958}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":169,"column":18},"generated":{"line":1,"column":2960}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":169,"column":19},"generated":{"line":1,"column":2975}},{"source":"../../../src/transform/transform.js","name":"_sourceTextures","original":{"line":169,"column":25},"generated":{"line":1,"column":2977}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":170,"column":4},"generated":{"line":1,"column":2996}},{"source":"../../../src/transform/transform.js","name":"_targetTexture","original":{"line":170,"column":10},"generated":{"line":1,"column":2998}},{"source":"../../../src/transform/transform.js","name":"props","original":{"line":171,"column":4},"generated":{"line":1,"column":3015}},{"source":"../../../src/transform/transform.js","name":"_targetTextureVarying","original":{"line":171,"column":10},"generated":{"line":1,"column":3017}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":11,"column":31},"generated":{"line":1,"column":3040}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":11,"column":31},"generated":{"line":1,"column":3048}},{"source":"../../../src/transform/transform.js","name":null,"original":{"line":11,"column":31},"generated":{"line":1,"column":3056}}],"sources":{"../../../src/transform/transform.js":"import GL from '@luma.gl/constants';\nimport {getPassthroughFS} from '@luma.gl/shadertools';\nimport BufferTransform from './buffer-transform';\nimport TextureTransform from './texture-transform';\n\nimport {isWebGL2} from '@luma.gl/gltools';\nimport {assert, isObjectEmpty, getShaderVersion} from '@luma.gl/webgl';\nimport Model from '../lib/model';\n\n// takes source and target buffers/textures and setsup the pipeline\nexport default class Transform {\n  static isSupported(gl) {\n    // TODO : differentiate writting to buffer vs not\n    return isWebGL2(gl);\n  }\n\n  constructor(gl, props = {}) {\n    this.gl = gl;\n    this.model = null;\n    this.elementCount = 0;\n    this.bufferTransform = null;\n    this.textureTransform = null;\n    this.elementIDBuffer = null;\n    this._initialize(props);\n    Object.seal(this);\n  }\n\n  // Delete owned resources.\n  delete() {\n    const {model, bufferTransform, textureTransform} = this;\n    if (model) {\n      model.delete();\n    }\n    if (bufferTransform) {\n      bufferTransform.delete();\n    }\n    if (textureTransform) {\n      textureTransform.delete();\n    }\n  }\n\n  // Run one transform loop.\n  run(opts = {}) {\n    const {clearRenderTarget = true} = opts;\n\n    const updatedOpts = this._updateDrawOptions(opts);\n\n    if (clearRenderTarget && updatedOpts.framebuffer) {\n      updatedOpts.framebuffer.clear({color: true});\n    }\n\n    this.model.transform(updatedOpts);\n  }\n\n  // swap resources if a map is provided\n  swap() {\n    let swapped = false;\n    const resourceTransforms = [this.bufferTransform, this.textureTransform].filter(Boolean);\n    for (const resourceTransform of resourceTransforms) {\n      swapped = swapped || resourceTransform.swap();\n    }\n    assert(swapped, 'Nothing to swap');\n  }\n\n  // Return Buffer object for given varying name.\n  getBuffer(varyingName = null) {\n    return this.bufferTransform && this.bufferTransform.getBuffer(varyingName);\n  }\n\n  // Return data either from Buffer or from Texture\n  getData(opts = {}) {\n    const resourceTransforms = [this.bufferTransform, this.textureTransform].filter(Boolean);\n    for (const resourceTransform of resourceTransforms) {\n      // @ts-ignore\n      const data = resourceTransform.getData(opts);\n      if (data) {\n        return data;\n      }\n    }\n    return null;\n  }\n\n  // Return framebuffer object if rendering to textures\n  getFramebuffer() {\n    return this.textureTransform && this.textureTransform.getFramebuffer();\n  }\n\n  // Update some or all buffer/texture bindings.\n  update(opts = {}) {\n    if ('elementCount' in opts) {\n      // @ts-ignore TODO\n      this.model.setVertexCount(opts.elementCount);\n    }\n    const resourceTransforms = [this.bufferTransform, this.textureTransform].filter(Boolean);\n    for (const resourceTransform of resourceTransforms) {\n      resourceTransform.update(opts);\n    }\n  }\n\n  // Private\n\n  _initialize(props = {}) {\n    const {gl} = this;\n    this._buildResourceTransforms(gl, props);\n\n    props = this._updateModelProps(props);\n    this.model = new Model(\n      gl,\n      Object.assign({}, props, {\n        fs: props.fs || getPassthroughFS({version: getShaderVersion(props.vs)}),\n        id: props.id || 'transform-model',\n        drawMode: props.drawMode || GL.POINTS,\n        vertexCount: props.elementCount\n      })\n    );\n\n    /* eslint-disable no-unused-expressions */\n    this.bufferTransform && this.bufferTransform.setupResources({model: this.model});\n    /* eslint-enable no-unused-expressions */\n  }\n\n  _updateModelProps(props) {\n    let updatedProps = Object.assign({}, props);\n    const resourceTransforms = [this.bufferTransform, this.textureTransform].filter(Boolean);\n    for (const resourceTransform of resourceTransforms) {\n      updatedProps = resourceTransform.updateModelProps(updatedProps);\n    }\n    return updatedProps;\n  }\n\n  _buildResourceTransforms(gl, props) {\n    if (canCreateBufferTransform(props)) {\n      this.bufferTransform = new BufferTransform(gl, props);\n    }\n    if (canCreateTextureTransform(props)) {\n      this.textureTransform = new TextureTransform(gl, props);\n    }\n    assert(\n      this.bufferTransform || this.textureTransform,\n      'must provide source/feedback buffers or source/target textures'\n    );\n  }\n\n  _updateDrawOptions(opts) {\n    let updatedOpts = Object.assign({}, opts);\n    const resourceTransforms = [this.bufferTransform, this.textureTransform].filter(Boolean);\n    for (const resourceTransform of resourceTransforms) {\n      updatedOpts = Object.assign(updatedOpts, resourceTransform.getDrawOptions(updatedOpts));\n    }\n    return updatedOpts;\n  }\n}\n\n// Helper Methods\n\nfunction canCreateBufferTransform(props) {\n  if (\n    !isObjectEmpty(props.feedbackBuffers) ||\n    !isObjectEmpty(props.feedbackMap) ||\n    (props.varyings && props.varyings.length > 0)\n  ) {\n    return true;\n  }\n  return false;\n}\n\nfunction canCreateTextureTransform(props) {\n  if (\n    !isObjectEmpty(props._sourceTextures) ||\n    props._targetTexture ||\n    props._targetTextureVarying\n  ) {\n    return true;\n  }\n\n  return false;\n}\n"},"lineCount":null}},"error":null,"hash":"b4e6319ceb36275b1c64d558b38716bd","cacheData":{"env":{}}}