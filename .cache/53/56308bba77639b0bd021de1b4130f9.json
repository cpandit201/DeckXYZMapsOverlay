{"id":"SWoI","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/encode.js.map","includedInParent":true,"mtime":1688284130527},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/package.json","includedInParent":true,"mtime":1688284130527},{"name":"@loaders.gl/loader-utils","loc":{"line":4,"column":26,"index":231},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/encode.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/loader-utils/dist/esm/index.js"},{"name":"@loaders.gl/worker-utils","loc":{"line":2,"column":32,"index":96},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/encode.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/worker-utils/dist/esm/index.js"},{"name":"../fetch/write-file","loc":{"line":5,"column":26,"index":285},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/encode.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/fetch/write-file.js"},{"name":"../fetch/fetch-file","loc":{"line":6,"column":26,"index":334},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/encode.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/fetch/fetch-file.js"},{"name":"./loader-options","loc":{"line":7,"column":33,"index":390},"parent":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/encode.js","resolved":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/lib/api/loader-options.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.encode=c,exports.encodeInBatches=d,exports.encodeSync=a,exports.encodeText=i,exports.encodeURLtoURL=s;var e=require(\"@loaders.gl/loader-utils\"),t=require(\"@loaders.gl/worker-utils\"),r=require(\"../fetch/write-file\"),n=require(\"../fetch/fetch-file\"),o=require(\"./loader-options\");async function c(c,a,i){if(i={...(0,o.getLoaderOptions)(),...i},(0,e.canEncodeWithWorker)(a,i))return await(0,t.processOnWorker)(a,c,i);if(a.encode)return await a.encode(c,i);if(a.encodeSync)return a.encodeSync(c,i);if(a.encodeText)return(new TextEncoder).encode(await a.encodeText(c,i));if(a.encodeInBatches){const t=d(c,a,i),r=[];for await(const e of t)r.push(e);return(0,e.concatenateArrayBuffers)(...r)}if(!e.isBrowser&&a.encodeURLtoURL){const e=f(\"input\");await(0,r.writeFile)(e,c);const t=f(\"output\"),o=await s(e,t,a,i);return(await(0,n.fetchFile)(o)).arrayBuffer()}throw new Error(\"Writer could not encode data\")}function a(e,t,r){if(t.encodeSync)return t.encodeSync(e,r);throw new Error(\"Writer could not synchronously encode data\")}async function i(e,t,r){if(t.text&&t.encodeText)return await t.encodeText(e,r);if(t.text&&(t.encode||t.encodeInBatches)){const n=await c(e,t,r);return(new TextDecoder).decode(n)}throw new Error(\"Writer could not encode data as text\")}function d(e,t,r){if(t.encodeInBatches){const n=u(e);return t.encodeInBatches(n,r)}throw new Error(\"Writer could not encode data in batches\")}async function s(t,r,n,o){if(t=(0,e.resolvePath)(t),r=(0,e.resolvePath)(r),e.isBrowser||!n.encodeURLtoURL)throw new Error;return await n.encodeURLtoURL(t,r,o)}function u(e){return[{table:e,start:0,end:e.length}]}function f(e){return\"/tmp/\".concat(e)}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":83}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":85}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":93}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":109}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":111}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":119}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":130}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":132}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":140}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":151}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":153}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":161}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":176}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":178}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":182}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":184}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":192}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":220}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":222}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":230}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":258}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":260}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":268}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":291}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":293}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":301}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":324}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":326}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":334}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":12,"column":7},"generated":{"line":1,"column":354}},{"source":"../../../../src/lib/api/encode.ts","name":"encode","original":{"line":12,"column":22},"generated":{"line":1,"column":369}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":13,"column":2},"generated":{"line":1,"column":371}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":14,"column":2},"generated":{"line":1,"column":373}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":15,"column":2},"generated":{"line":1,"column":375}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":20,"column":2},"generated":{"line":1,"column":378}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":19,"column":2},"generated":{"line":1,"column":381}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":19,"column":12},"generated":{"line":1,"column":383}},{"source":"../../../../src/lib/api/encode.ts","name":"getLoaderOptions","original":{"line":17,"column":24},"generated":{"line":1,"column":388}},{"source":"../../../../src/lib/api/encode.ts","name":"getLoaderOptions","original":{"line":17,"column":24},"generated":{"line":1,"column":390}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":17,"column":40},"generated":{"line":1,"column":392}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":19,"column":34},"generated":{"line":1,"column":415}},{"source":"../../../../src/lib/api/encode.ts","name":"canEncodeWithWorker","original":{"line":20,"column":6},"generated":{"line":1,"column":419}},{"source":"../../../../src/lib/api/encode.ts","name":"canEncodeWithWorker","original":{"line":20,"column":6},"generated":{"line":1,"column":421}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":20,"column":25},"generated":{"line":1,"column":423}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":20,"column":26},"generated":{"line":1,"column":444}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":20,"column":34},"generated":{"line":1,"column":446}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":1,"column":449}},{"source":"../../../../src/lib/api/encode.ts","name":"processOnWorker","original":{"line":21,"column":17},"generated":{"line":1,"column":462}},{"source":"../../../../src/lib/api/encode.ts","name":"processOnWorker","original":{"line":21,"column":17},"generated":{"line":1,"column":464}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":21,"column":32},"generated":{"line":1,"column":466}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":21,"column":33},"generated":{"line":1,"column":483}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":21,"column":41},"generated":{"line":1,"column":485}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":21,"column":47},"generated":{"line":1,"column":487}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":490}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":25,"column":6},"generated":{"line":1,"column":493}},{"source":"../../../../src/lib/api/encode.ts","name":"encode","original":{"line":25,"column":13},"generated":{"line":1,"column":495}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":1,"column":502}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":26,"column":17},"generated":{"line":1,"column":515}},{"source":"../../../../src/lib/api/encode.ts","name":"encode","original":{"line":26,"column":24},"generated":{"line":1,"column":517}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":26,"column":31},"generated":{"line":1,"column":524}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":26,"column":37},"generated":{"line":1,"column":526}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":1,"column":529}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":29,"column":6},"generated":{"line":1,"column":532}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeSync","original":{"line":29,"column":13},"generated":{"line":1,"column":534}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":1,"column":545}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":30,"column":11},"generated":{"line":1,"column":552}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeSync","original":{"line":30,"column":18},"generated":{"line":1,"column":554}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":30,"column":29},"generated":{"line":1,"column":565}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":30,"column":35},"generated":{"line":1,"column":567}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":570}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":33,"column":6},"generated":{"line":1,"column":573}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeText","original":{"line":33,"column":13},"generated":{"line":1,"column":575}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":1,"column":586}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":34,"column":11},"generated":{"line":1,"column":593}},{"source":"../../../../src/lib/api/encode.ts","name":"TextEncoder","original":{"line":34,"column":15},"generated":{"line":1,"column":597}},{"source":"../../../../src/lib/api/encode.ts","name":"encode","original":{"line":34,"column":29},"generated":{"line":1,"column":610}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":34,"column":42},"generated":{"line":1,"column":623}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeText","original":{"line":34,"column":49},"generated":{"line":1,"column":625}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":34,"column":60},"generated":{"line":1,"column":636}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":34,"column":66},"generated":{"line":1,"column":638}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":642}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":37,"column":6},"generated":{"line":1,"column":645}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeInBatches","original":{"line":37,"column":13},"generated":{"line":1,"column":647}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":37,"column":30},"generated":{"line":1,"column":663}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":1,"column":664}},{"source":"../../../../src/lib/api/encode.ts","name":"batches","original":{"line":40,"column":10},"generated":{"line":1,"column":670}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeInBatches","original":{"line":40,"column":20},"generated":{"line":1,"column":672}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":40,"column":36},"generated":{"line":1,"column":674}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":40,"column":42},"generated":{"line":1,"column":676}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":40,"column":50},"generated":{"line":1,"column":678}},{"source":"../../../../src/lib/api/encode.ts","name":"chunks","original":{"line":43,"column":10},"generated":{"line":1,"column":681}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":43,"column":26},"generated":{"line":1,"column":683}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":686}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":44,"column":15},"generated":{"line":1,"column":696}},{"source":"../../../../src/lib/api/encode.ts","name":"batch","original":{"line":44,"column":21},"generated":{"line":1,"column":702}},{"source":"../../../../src/lib/api/encode.ts","name":"batches","original":{"line":44,"column":30},"generated":{"line":1,"column":707}},{"source":"../../../../src/lib/api/encode.ts","name":"chunks","original":{"line":45,"column":6},"generated":{"line":1,"column":709}},{"source":"../../../../src/lib/api/encode.ts","name":"push","original":{"line":45,"column":13},"generated":{"line":1,"column":711}},{"source":"../../../../src/lib/api/encode.ts","name":"batch","original":{"line":45,"column":18},"generated":{"line":1,"column":716}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":1,"column":719}},{"source":"../../../../src/lib/api/encode.ts","name":"concatenateArrayBuffers","original":{"line":48,"column":11},"generated":{"line":1,"column":726}},{"source":"../../../../src/lib/api/encode.ts","name":"concatenateArrayBuffers","original":{"line":48,"column":11},"generated":{"line":1,"column":728}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":48,"column":34},"generated":{"line":1,"column":730}},{"source":"../../../../src/lib/api/encode.ts","name":"chunks","original":{"line":48,"column":38},"generated":{"line":1,"column":758}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":51,"column":2},"generated":{"line":1,"column":761}},{"source":"../../../../src/lib/api/encode.ts","name":"isBrowser","original":{"line":51,"column":7},"generated":{"line":1,"column":765}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":1,"column":767}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":51,"column":20},"generated":{"line":1,"column":778}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeURLtoURL","original":{"line":51,"column":27},"generated":{"line":1,"column":780}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":51,"column":43},"generated":{"line":1,"column":795}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":1,"column":796}},{"source":"../../../../src/lib/api/encode.ts","name":"tmpInputFilename","original":{"line":53,"column":10},"generated":{"line":1,"column":802}},{"source":"../../../../src/lib/api/encode.ts","name":"getTemporaryFilename","original":{"line":53,"column":29},"generated":{"line":1,"column":804}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":53,"column":50},"generated":{"line":1,"column":806}},{"source":"../../../../src/lib/api/encode.ts","name":"writeFile","original":{"line":54,"column":10},"generated":{"line":1,"column":821}},{"source":"../../../../src/lib/api/encode.ts","name":"writeFile","original":{"line":54,"column":10},"generated":{"line":1,"column":823}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":54,"column":19},"generated":{"line":1,"column":825}},{"source":"../../../../src/lib/api/encode.ts","name":"tmpInputFilename","original":{"line":54,"column":20},"generated":{"line":1,"column":836}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":54,"column":38},"generated":{"line":1,"column":838}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":1,"column":841}},{"source":"../../../../src/lib/api/encode.ts","name":"tmpOutputFilename","original":{"line":56,"column":10},"generated":{"line":1,"column":847}},{"source":"../../../../src/lib/api/encode.ts","name":"getTemporaryFilename","original":{"line":56,"column":30},"generated":{"line":1,"column":849}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":56,"column":51},"generated":{"line":1,"column":851}},{"source":"../../../../src/lib/api/encode.ts","name":"outputFilename","original":{"line":58,"column":10},"generated":{"line":1,"column":861}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeURLtoURL","original":{"line":58,"column":33},"generated":{"line":1,"column":869}},{"source":"../../../../src/lib/api/encode.ts","name":"tmpInputFilename","original":{"line":59,"column":6},"generated":{"line":1,"column":871}},{"source":"../../../../src/lib/api/encode.ts","name":"tmpOutputFilename","original":{"line":60,"column":6},"generated":{"line":1,"column":873}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":61,"column":6},"generated":{"line":1,"column":875}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":62,"column":6},"generated":{"line":1,"column":877}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":66,"column":4},"generated":{"line":1,"column":880}},{"source":"../../../../src/lib/api/encode.ts","name":"fetchFile","original":{"line":65,"column":27},"generated":{"line":1,"column":893}},{"source":"../../../../src/lib/api/encode.ts","name":"fetchFile","original":{"line":65,"column":27},"generated":{"line":1,"column":895}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":65,"column":36},"generated":{"line":1,"column":897}},{"source":"../../../../src/lib/api/encode.ts","name":"outputFilename","original":{"line":65,"column":37},"generated":{"line":1,"column":908}},{"source":"../../../../src/lib/api/encode.ts","name":"arrayBuffer","original":{"line":66,"column":20},"generated":{"line":1,"column":912}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":69,"column":2},"generated":{"line":1,"column":926}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":69,"column":8},"generated":{"line":1,"column":932}},{"source":"../../../../src/lib/api/encode.ts","name":"Error","original":{"line":69,"column":12},"generated":{"line":1,"column":936}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":69,"column":18},"generated":{"line":1,"column":942}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":75,"column":7},"generated":{"line":1,"column":974}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeSync","original":{"line":75,"column":16},"generated":{"line":1,"column":983}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":75,"column":27},"generated":{"line":1,"column":985}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":75,"column":38},"generated":{"line":1,"column":987}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":75,"column":54},"generated":{"line":1,"column":989}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":76,"column":2},"generated":{"line":1,"column":992}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":76,"column":6},"generated":{"line":1,"column":995}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeSync","original":{"line":76,"column":13},"generated":{"line":1,"column":997}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":1,"column":1008}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":77,"column":11},"generated":{"line":1,"column":1015}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeSync","original":{"line":77,"column":18},"generated":{"line":1,"column":1017}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":77,"column":29},"generated":{"line":1,"column":1028}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":77,"column":35},"generated":{"line":1,"column":1030}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":79,"column":2},"generated":{"line":1,"column":1033}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":1,"column":1039}},{"source":"../../../../src/lib/api/encode.ts","name":"Error","original":{"line":79,"column":12},"generated":{"line":1,"column":1043}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":79,"column":18},"generated":{"line":1,"column":1049}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":88,"column":7},"generated":{"line":1,"column":1095}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeText","original":{"line":88,"column":22},"generated":{"line":1,"column":1110}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":89,"column":2},"generated":{"line":1,"column":1112}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":90,"column":2},"generated":{"line":1,"column":1114}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":91,"column":2},"generated":{"line":1,"column":1116}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":93,"column":2},"generated":{"line":1,"column":1119}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":93,"column":6},"generated":{"line":1,"column":1122}},{"source":"../../../../src/lib/api/encode.ts","name":"text","original":{"line":93,"column":13},"generated":{"line":1,"column":1124}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":93,"column":21},"generated":{"line":1,"column":1130}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeText","original":{"line":93,"column":28},"generated":{"line":1,"column":1132}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":94,"column":4},"generated":{"line":1,"column":1143}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":94,"column":17},"generated":{"line":1,"column":1156}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeText","original":{"line":94,"column":24},"generated":{"line":1,"column":1158}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":94,"column":35},"generated":{"line":1,"column":1169}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":94,"column":41},"generated":{"line":1,"column":1171}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":1,"column":1174}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":97,"column":6},"generated":{"line":1,"column":1177}},{"source":"../../../../src/lib/api/encode.ts","name":"text","original":{"line":97,"column":13},"generated":{"line":1,"column":1179}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":97,"column":22},"generated":{"line":1,"column":1186}},{"source":"../../../../src/lib/api/encode.ts","name":"encode","original":{"line":97,"column":29},"generated":{"line":1,"column":1188}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":97,"column":39},"generated":{"line":1,"column":1196}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeInBatches","original":{"line":97,"column":46},"generated":{"line":1,"column":1198}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":97,"column":64},"generated":{"line":1,"column":1215}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":98,"column":4},"generated":{"line":1,"column":1216}},{"source":"../../../../src/lib/api/encode.ts","name":"arrayBuffer","original":{"line":98,"column":10},"generated":{"line":1,"column":1222}},{"source":"../../../../src/lib/api/encode.ts","name":"encode","original":{"line":98,"column":30},"generated":{"line":1,"column":1230}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":98,"column":37},"generated":{"line":1,"column":1232}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":98,"column":43},"generated":{"line":1,"column":1234}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":98,"column":51},"generated":{"line":1,"column":1236}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":1,"column":1239}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":99,"column":11},"generated":{"line":1,"column":1246}},{"source":"../../../../src/lib/api/encode.ts","name":"TextDecoder","original":{"line":99,"column":15},"generated":{"line":1,"column":1250}},{"source":"../../../../src/lib/api/encode.ts","name":"decode","original":{"line":99,"column":29},"generated":{"line":1,"column":1263}},{"source":"../../../../src/lib/api/encode.ts","name":"arrayBuffer","original":{"line":99,"column":36},"generated":{"line":1,"column":1270}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":1,"column":1273}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":102,"column":8},"generated":{"line":1,"column":1279}},{"source":"../../../../src/lib/api/encode.ts","name":"Error","original":{"line":102,"column":12},"generated":{"line":1,"column":1283}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":102,"column":18},"generated":{"line":1,"column":1289}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":108,"column":7},"generated":{"line":1,"column":1329}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeInBatches","original":{"line":108,"column":16},"generated":{"line":1,"column":1338}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":109,"column":2},"generated":{"line":1,"column":1340}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":110,"column":2},"generated":{"line":1,"column":1342}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":111,"column":2},"generated":{"line":1,"column":1344}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":1,"column":1347}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":113,"column":6},"generated":{"line":1,"column":1350}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeInBatches","original":{"line":113,"column":13},"generated":{"line":1,"column":1352}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":113,"column":30},"generated":{"line":1,"column":1368}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":114,"column":4},"generated":{"line":1,"column":1369}},{"source":"../../../../src/lib/api/encode.ts","name":"dataIterator","original":{"line":114,"column":10},"generated":{"line":1,"column":1375}},{"source":"../../../../src/lib/api/encode.ts","name":"getIterator","original":{"line":114,"column":25},"generated":{"line":1,"column":1377}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":114,"column":37},"generated":{"line":1,"column":1379}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":1,"column":1382}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":115,"column":11},"generated":{"line":1,"column":1389}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeInBatches","original":{"line":115,"column":18},"generated":{"line":1,"column":1391}},{"source":"../../../../src/lib/api/encode.ts","name":"dataIterator","original":{"line":115,"column":34},"generated":{"line":1,"column":1407}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":115,"column":48},"generated":{"line":1,"column":1409}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":118,"column":2},"generated":{"line":1,"column":1412}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":118,"column":8},"generated":{"line":1,"column":1418}},{"source":"../../../../src/lib/api/encode.ts","name":"Error","original":{"line":118,"column":12},"generated":{"line":1,"column":1422}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":118,"column":18},"generated":{"line":1,"column":1428}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":125,"column":7},"generated":{"line":1,"column":1471}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeURLtoURL","original":{"line":125,"column":22},"generated":{"line":1,"column":1486}},{"source":"../../../../src/lib/api/encode.ts","name":"inputUrl","original":{"line":126,"column":2},"generated":{"line":1,"column":1488}},{"source":"../../../../src/lib/api/encode.ts","name":"outputUrl","original":{"line":127,"column":2},"generated":{"line":1,"column":1490}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":128,"column":2},"generated":{"line":1,"column":1492}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":129,"column":2},"generated":{"line":1,"column":1494}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":133,"column":2},"generated":{"line":1,"column":1497}},{"source":"../../../../src/lib/api/encode.ts","name":"inputUrl","original":{"line":131,"column":2},"generated":{"line":1,"column":1500}},{"source":"../../../../src/lib/api/encode.ts","name":"resolvePath","original":{"line":131,"column":13},"generated":{"line":1,"column":1503}},{"source":"../../../../src/lib/api/encode.ts","name":"resolvePath","original":{"line":131,"column":13},"generated":{"line":1,"column":1505}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":131,"column":24},"generated":{"line":1,"column":1507}},{"source":"../../../../src/lib/api/encode.ts","name":"inputUrl","original":{"line":131,"column":25},"generated":{"line":1,"column":1520}},{"source":"../../../../src/lib/api/encode.ts","name":"outputUrl","original":{"line":132,"column":2},"generated":{"line":1,"column":1523}},{"source":"../../../../src/lib/api/encode.ts","name":"resolvePath","original":{"line":132,"column":14},"generated":{"line":1,"column":1526}},{"source":"../../../../src/lib/api/encode.ts","name":"resolvePath","original":{"line":132,"column":14},"generated":{"line":1,"column":1528}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":132,"column":25},"generated":{"line":1,"column":1530}},{"source":"../../../../src/lib/api/encode.ts","name":"outputUrl","original":{"line":132,"column":26},"generated":{"line":1,"column":1543}},{"source":"../../../../src/lib/api/encode.ts","name":"isBrowser","original":{"line":133,"column":6},"generated":{"line":1,"column":1546}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":133,"column":15},"generated":{"line":1,"column":1548}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":133,"column":20},"generated":{"line":1,"column":1560}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeURLtoURL","original":{"line":133,"column":27},"generated":{"line":1,"column":1562}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":134,"column":4},"generated":{"line":1,"column":1577}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":134,"column":10},"generated":{"line":1,"column":1583}},{"source":"../../../../src/lib/api/encode.ts","name":"Error","original":{"line":134,"column":14},"generated":{"line":1,"column":1587}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":137,"column":2},"generated":{"line":1,"column":1593}},{"source":"../../../../src/lib/api/encode.ts","name":"writer","original":{"line":136,"column":31},"generated":{"line":1,"column":1606}},{"source":"../../../../src/lib/api/encode.ts","name":"encodeURLtoURL","original":{"line":136,"column":38},"generated":{"line":1,"column":1608}},{"source":"../../../../src/lib/api/encode.ts","name":"inputUrl","original":{"line":136,"column":53},"generated":{"line":1,"column":1623}},{"source":"../../../../src/lib/api/encode.ts","name":"outputUrl","original":{"line":136,"column":63},"generated":{"line":1,"column":1625}},{"source":"../../../../src/lib/api/encode.ts","name":"options","original":{"line":136,"column":74},"generated":{"line":1,"column":1627}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":143,"column":0},"generated":{"line":1,"column":1630}},{"source":"../../../../src/lib/api/encode.ts","name":"getIterator","original":{"line":143,"column":9},"generated":{"line":1,"column":1639}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":143,"column":21},"generated":{"line":1,"column":1641}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":145,"column":2},"generated":{"line":1,"column":1644}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":144,"column":23},"generated":{"line":1,"column":1650}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":144,"column":24},"generated":{"line":1,"column":1651}},{"source":"../../../../src/lib/api/encode.ts","name":"table","original":{"line":144,"column":25},"generated":{"line":1,"column":1652}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":144,"column":32},"generated":{"line":1,"column":1658}},{"source":"../../../../src/lib/api/encode.ts","name":"start","original":{"line":144,"column":38},"generated":{"line":1,"column":1660}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":144,"column":45},"generated":{"line":1,"column":1666}},{"source":"../../../../src/lib/api/encode.ts","name":"end","original":{"line":144,"column":48},"generated":{"line":1,"column":1668}},{"source":"../../../../src/lib/api/encode.ts","name":"data","original":{"line":144,"column":53},"generated":{"line":1,"column":1672}},{"source":"../../../../src/lib/api/encode.ts","name":"length","original":{"line":144,"column":58},"generated":{"line":1,"column":1674}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":151,"column":0},"generated":{"line":1,"column":1683}},{"source":"../../../../src/lib/api/encode.ts","name":"getTemporaryFilename","original":{"line":151,"column":9},"generated":{"line":1,"column":1692}},{"source":"../../../../src/lib/api/encode.ts","name":"filename","original":{"line":151,"column":30},"generated":{"line":1,"column":1694}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":152,"column":2},"generated":{"line":1,"column":1697}},{"source":"../../../../src/lib/api/encode.ts","name":null,"original":{"line":152,"column":2},"generated":{"line":1,"column":1703}},{"source":"../../../../src/lib/api/encode.ts","name":"concat","original":{"line":152,"column":2},"generated":{"line":1,"column":1711}},{"source":"../../../../src/lib/api/encode.ts","name":"filename","original":{"line":152,"column":17},"generated":{"line":1,"column":1718}}],"sources":{"../../../../src/lib/api/encode.ts":"import {Writer, WriterOptions, canEncodeWithWorker} from '@loaders.gl/loader-utils';\nimport {processOnWorker} from '@loaders.gl/worker-utils';\nimport {concatenateArrayBuffers, resolvePath} from '@loaders.gl/loader-utils';\nimport {isBrowser} from '@loaders.gl/loader-utils';\nimport {writeFile} from '../fetch/write-file';\nimport {fetchFile} from '../fetch/fetch-file';\nimport {getLoaderOptions} from './loader-options';\n\n/**\n * Encode loaded data into a binary ArrayBuffer using the specified Writer.\n */\nexport async function encode(\n  data: any,\n  writer: Writer,\n  options?: WriterOptions\n): Promise<ArrayBuffer> {\n  const globalOptions = getLoaderOptions() as WriterOptions;\n  // const globalOptions: WriterOptions = {}; // getWriterOptions();\n  options = {...globalOptions, ...options};\n  if (canEncodeWithWorker(writer, options)) {\n    return await processOnWorker(writer, data, options);\n  }\n\n  // TODO Merge default writer options with options argument like it is done in load module.\n  if (writer.encode) {\n    return await writer.encode(data, options);\n  }\n\n  if (writer.encodeSync) {\n    return writer.encodeSync(data, options);\n  }\n\n  if (writer.encodeText) {\n    return new TextEncoder().encode(await writer.encodeText(data, options));\n  }\n\n  if (writer.encodeInBatches) {\n    // Create an iterator representing the data\n    // TODO - Assumes this is a table\n    const batches = encodeInBatches(data, writer, options);\n\n    // Concatenate the output\n    const chunks: any[] = [];\n    for await (const batch of batches) {\n      chunks.push(batch);\n    }\n    // @ts-ignore\n    return concatenateArrayBuffers(...chunks);\n  }\n\n  if (!isBrowser && writer.encodeURLtoURL) {\n    // TODO - how to generate filenames with correct extensions?\n    const tmpInputFilename = getTemporaryFilename('input');\n    await writeFile(tmpInputFilename, data);\n\n    const tmpOutputFilename = getTemporaryFilename('output');\n\n    const outputFilename = await encodeURLtoURL(\n      tmpInputFilename,\n      tmpOutputFilename,\n      writer,\n      options\n    );\n\n    const response = await fetchFile(outputFilename);\n    return response.arrayBuffer();\n  }\n\n  throw new Error('Writer could not encode data');\n}\n\n/**\n * Encode loaded data into a binary ArrayBuffer using the specified Writer.\n */\nexport function encodeSync(data: any, writer: Writer, options?: WriterOptions): ArrayBuffer {\n  if (writer.encodeSync) {\n    return writer.encodeSync(data, options);\n  }\n  throw new Error('Writer could not synchronously encode data');\n}\n\n/**\n * Encode loaded data to text using the specified Writer\n * @note This is a convenience function not intended for production use on large input data.\n * It is not optimized for performance. Data maybe converted from text to binary and back.\n * @throws if the writer does not generate text output\n */\nexport async function encodeText(\n  data: any,\n  writer: Writer,\n  options?: WriterOptions\n): Promise<string> {\n  if (writer.text && writer.encodeText) {\n    return await writer.encodeText(data, options);\n  }\n\n  if (writer.text && (writer.encode || writer.encodeInBatches)) {\n    const arrayBuffer = await encode(data, writer, options);\n    return new TextDecoder().decode(arrayBuffer);\n  }\n\n  throw new Error('Writer could not encode data as text');\n}\n\n/**\n * Encode loaded data into a sequence (iterator) of binary ArrayBuffers using the specified Writer.\n */\nexport function encodeInBatches(\n  data: any,\n  writer: Writer,\n  options?: WriterOptions\n): AsyncIterable<ArrayBuffer> {\n  if (writer.encodeInBatches) {\n    const dataIterator = getIterator(data);\n    return writer.encodeInBatches(dataIterator, options);\n  }\n  // TODO -fall back to atomic encode?\n  throw new Error('Writer could not encode data in batches');\n}\n\n/**\n * Encode data stored in a file (on disk) to another file.\n * @note Node.js only. This function enables using command-line converters as \"writers\".\n */\nexport async function encodeURLtoURL(\n  inputUrl,\n  outputUrl,\n  writer: Writer,\n  options\n): Promise<string> {\n  inputUrl = resolvePath(inputUrl);\n  outputUrl = resolvePath(outputUrl);\n  if (isBrowser || !writer.encodeURLtoURL) {\n    throw new Error();\n  }\n  const outputFilename = await writer.encodeURLtoURL(inputUrl, outputUrl, options);\n  return outputFilename;\n}\n\n/**\n * @todo TODO - this is an unacceptable hack!!!\n */\nfunction getIterator(data) {\n  const dataIterator = [{table: data, start: 0, end: data.length}];\n  return dataIterator;\n}\n\n/**\n * @todo Move to utils\n */\nfunction getTemporaryFilename(filename: string): string {\n  return `/tmp/${filename}`;\n}\n"},"lineCount":null}},"error":null,"hash":"d14bbf6f33c24f0e3acb75bb608defd3","cacheData":{"env":{}}}