{"id":"eVnT","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/dist/esm/transform/transform-shader-utils.js.map","includedInParent":true,"mtime":1688284131877},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/package.json","includedInParent":true,"mtime":1688284131877},{"name":"@luma.gl/webgl","loc":{"line":1,"column":23,"index":23},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/dist/esm/transform/transform-shader-utils.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/dist/esm/index.js"},{"name":"@luma.gl/shadertools","loc":{"line":2,"column":73,"index":114},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/engine/dist/esm/transform/transform-shader-utils.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/shadertools/dist/esm/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getSizeUniforms=o,exports.getVaryingType=u,exports.processAttributeDefinition=l,exports.updateForTextures=a;var t=require(\"@luma.gl/webgl\"),e=require(\"@luma.gl/shadertools\");const n=\"transform_uSampler_\",r=\"transform_uSize_\",c=\"transform_position\";function a(n){let{vs:a,sourceTextureMap:o,targetTextureVarying:i,targetTexture:s}=n;let f=Object.keys(o).length,m=null;const p={};let g=a,x={};if(f>0||i){const n=g.split(\"\\n\"),a=n.slice();if(n.forEach((t,n,r)=>{if(f>0){const r=l(t,o);if(r){const{updatedLine:t,inject:c}=r;a[n]=t,x=(0,e.combineInjects)([x,c]),Object.assign(p,r.samplerTextureMap),f--}}i&&!m&&(m=u(t,i))}),i){(0,t.assert)(s);const n=\"\".concat(r).concat(i),a={\"vs:#decl\":\"uniform vec2 \".concat(n,\";\\n\"),\"vs:#main-start\":\"     vec2 \".concat(c,\" = transform_getPos(\").concat(n,\");\\n     gl_Position = vec4(\").concat(c,\", 0, 1.);\\n\")};x=(0,e.combineInjects)([x,a])}g=a.join(\"\\n\")}return{vs:g,targetTextureType:m,inject:x,samplerTextureMap:p}}function o(t){let{sourceTextureMap:e,targetTextureVarying:n,targetTexture:c}=t;const a={};let o,i;n&&(({width:o,height:i}=c),a[\"\".concat(r).concat(n)]=[o,i]);for(const s in e)({width:o,height:i}=e[s]),a[\"\".concat(r).concat(s)]=[o,i];return a}function i(t){return(0,e.getQualifierDetails)(t,[\"attribute\",\"in\"])}function s(t){const e=\"\".concat(n).concat(t),c=\"\".concat(r).concat(t);return{samplerName:e,sizeName:c,uniformDeclerations:\"  uniform sampler2D \".concat(e,\";\\n  uniform vec2 \").concat(c,\";\")}}function u(t,n){const r=(0,e.getQualifierDetails)(t,[\"varying\",\"out\"]);return r&&r.name===n?r.type:null}function l(t,n){const r={},c=i(t);if(!c)return null;const{type:a,name:o}=c;if(o&&n[o]){const n=\"// \".concat(t,\" => Replaced by Transform with a sampler\"),{samplerName:c,sizeName:i,uniformDeclerations:u}=s(o),l=(0,e.typeToChannelSuffix)(a),f=\"  \".concat(a,\" \").concat(o,\" = transform_getInput(\").concat(c,\", \").concat(i,\").\").concat(l,\";\\n\");return r[c]=o,{updatedLine:n,inject:{\"vs:#decl\":u,\"vs:#main-start\":f},samplerTextureMap:r}}return null}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":92}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":94}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":102}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":117}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":119}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":127}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":154}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":156}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":164}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":141,"column":1},"generated":{"line":1,"column":182}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":184}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":188}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":190}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":198}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":216}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":218}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":226}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":250}},{"source":"../../../src/transform/transform-shader-utils.js","name":"SAMPLER_UNIFORM_PREFIX","original":{"line":4,"column":6},"generated":{"line":1,"column":256}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":4,"column":31},"generated":{"line":1,"column":258}},{"source":"../../../src/transform/transform-shader-utils.js","name":"SIZE_UNIFORM_PREFIX","original":{"line":5,"column":6},"generated":{"line":1,"column":280}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":5,"column":28},"generated":{"line":1,"column":282}},{"source":"../../../src/transform/transform-shader-utils.js","name":"VS_POS_VARIABLE","original":{"line":6,"column":6},"generated":{"line":1,"column":301}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":6,"column":24},"generated":{"line":1,"column":303}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":11,"column":7},"generated":{"line":1,"column":324}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updateForTextures","original":{"line":11,"column":16},"generated":{"line":1,"column":333}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":11,"column":7},"generated":{"line":1,"column":335}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":11,"column":95},"generated":{"line":1,"column":338}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":11,"column":34},"generated":{"line":1,"column":342}},{"source":"../../../src/transform/transform-shader-utils.js","name":"vs","original":{"line":11,"column":35},"generated":{"line":1,"column":345}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":11,"column":34},"generated":{"line":1,"column":347}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sourceTextureMap","original":{"line":11,"column":39},"generated":{"line":1,"column":364}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":11,"column":34},"generated":{"line":1,"column":366}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTextureVarying","original":{"line":11,"column":57},"generated":{"line":1,"column":387}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":11,"column":34},"generated":{"line":1,"column":389}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTexture","original":{"line":11,"column":79},"generated":{"line":1,"column":403}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":11,"column":95},"generated":{"line":1,"column":406}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":13,"column":2},"generated":{"line":1,"column":408}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sourceCount","original":{"line":13,"column":6},"generated":{"line":1,"column":412}},{"source":"../../../src/transform/transform-shader-utils.js","name":"Object","original":{"line":12,"column":28},"generated":{"line":1,"column":414}},{"source":"../../../src/transform/transform-shader-utils.js","name":"keys","original":{"line":12,"column":35},"generated":{"line":1,"column":421}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sourceTextureMap","original":{"line":12,"column":40},"generated":{"line":1,"column":426}},{"source":"../../../src/transform/transform-shader-utils.js","name":"length","original":{"line":13,"column":38},"generated":{"line":1,"column":429}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTextureType","original":{"line":14,"column":6},"generated":{"line":1,"column":436}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":14,"column":26},"generated":{"line":1,"column":438}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":443}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerTextureMap","original":{"line":15,"column":8},"generated":{"line":1,"column":449}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":15,"column":28},"generated":{"line":1,"column":451}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":454}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updatedVs","original":{"line":16,"column":6},"generated":{"line":1,"column":458}},{"source":"../../../src/transform/transform-shader-utils.js","name":"vs","original":{"line":16,"column":18},"generated":{"line":1,"column":460}},{"source":"../../../src/transform/transform-shader-utils.js","name":"finalInject","original":{"line":17,"column":6},"generated":{"line":1,"column":462}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":17,"column":20},"generated":{"line":1,"column":464}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":467}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sourceCount","original":{"line":19,"column":6},"generated":{"line":1,"column":470}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":19,"column":20},"generated":{"line":1,"column":472}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTextureVarying","original":{"line":19,"column":25},"generated":{"line":1,"column":475}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":19,"column":47},"generated":{"line":1,"column":477}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":20,"column":4},"generated":{"line":1,"column":478}},{"source":"../../../src/transform/transform-shader-utils.js","name":"vsLines","original":{"line":20,"column":10},"generated":{"line":1,"column":484}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updatedVs","original":{"line":20,"column":20},"generated":{"line":1,"column":486}},{"source":"../../../src/transform/transform-shader-utils.js","name":"split","original":{"line":20,"column":30},"generated":{"line":1,"column":488}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":20,"column":36},"generated":{"line":1,"column":494}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updateVsLines","original":{"line":21,"column":10},"generated":{"line":1,"column":500}},{"source":"../../../src/transform/transform-shader-utils.js","name":"vsLines","original":{"line":21,"column":26},"generated":{"line":1,"column":502}},{"source":"../../../src/transform/transform-shader-utils.js","name":"slice","original":{"line":21,"column":34},"generated":{"line":1,"column":504}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":40,"column":4},"generated":{"line":1,"column":512}},{"source":"../../../src/transform/transform-shader-utils.js","name":"vsLines","original":{"line":22,"column":4},"generated":{"line":1,"column":515}},{"source":"../../../src/transform/transform-shader-utils.js","name":"forEach","original":{"line":22,"column":12},"generated":{"line":1,"column":517}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":22,"column":20},"generated":{"line":1,"column":525}},{"source":"../../../src/transform/transform-shader-utils.js","name":"line","original":{"line":22,"column":21},"generated":{"line":1,"column":526}},{"source":"../../../src/transform/transform-shader-utils.js","name":"index","original":{"line":22,"column":27},"generated":{"line":1,"column":528}},{"source":"../../../src/transform/transform-shader-utils.js","name":"lines","original":{"line":22,"column":34},"generated":{"line":1,"column":530}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":535}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sourceCount","original":{"line":24,"column":10},"generated":{"line":1,"column":538}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":24,"column":24},"generated":{"line":1,"column":540}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":24,"column":27},"generated":{"line":1,"column":542}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":543}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updated","original":{"line":25,"column":14},"generated":{"line":1,"column":549}},{"source":"../../../src/transform/transform-shader-utils.js","name":"processAttributeDefinition","original":{"line":25,"column":24},"generated":{"line":1,"column":551}},{"source":"../../../src/transform/transform-shader-utils.js","name":"line","original":{"line":25,"column":51},"generated":{"line":1,"column":553}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sourceTextureMap","original":{"line":25,"column":57},"generated":{"line":1,"column":555}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":558}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updated","original":{"line":26,"column":12},"generated":{"line":1,"column":561}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":26,"column":21},"generated":{"line":1,"column":563}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":27,"column":10},"generated":{"line":1,"column":564}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":27,"column":16},"generated":{"line":1,"column":570}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updatedLine","original":{"line":27,"column":17},"generated":{"line":1,"column":582}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":27,"column":16},"generated":{"line":1,"column":584}},{"source":"../../../src/transform/transform-shader-utils.js","name":"inject","original":{"line":27,"column":30},"generated":{"line":1,"column":591}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updated","original":{"line":27,"column":40},"generated":{"line":1,"column":594}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updateVsLines","original":{"line":28,"column":10},"generated":{"line":1,"column":596}},{"source":"../../../src/transform/transform-shader-utils.js","name":"index","original":{"line":28,"column":24},"generated":{"line":1,"column":598}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updatedLine","original":{"line":28,"column":33},"generated":{"line":1,"column":601}},{"source":"../../../src/transform/transform-shader-utils.js","name":"finalInject","original":{"line":30,"column":10},"generated":{"line":1,"column":603}},{"source":"../../../src/transform/transform-shader-utils.js","name":"combineInjects","original":{"line":30,"column":24},"generated":{"line":1,"column":606}},{"source":"../../../src/transform/transform-shader-utils.js","name":"combineInjects","original":{"line":30,"column":24},"generated":{"line":1,"column":608}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":30,"column":38},"generated":{"line":1,"column":610}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":30,"column":39},"generated":{"line":1,"column":626}},{"source":"../../../src/transform/transform-shader-utils.js","name":"finalInject","original":{"line":30,"column":40},"generated":{"line":1,"column":627}},{"source":"../../../src/transform/transform-shader-utils.js","name":"inject","original":{"line":30,"column":53},"generated":{"line":1,"column":629}},{"source":"../../../src/transform/transform-shader-utils.js","name":"Object","original":{"line":31,"column":10},"generated":{"line":1,"column":633}},{"source":"../../../src/transform/transform-shader-utils.js","name":"assign","original":{"line":31,"column":17},"generated":{"line":1,"column":640}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerTextureMap","original":{"line":31,"column":24},"generated":{"line":1,"column":647}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updated","original":{"line":31,"column":43},"generated":{"line":1,"column":649}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerTextureMap","original":{"line":31,"column":51},"generated":{"line":1,"column":651}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sourceCount","original":{"line":32,"column":10},"generated":{"line":1,"column":670}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTextureVarying","original":{"line":35,"column":10},"generated":{"line":1,"column":675}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTextureType","original":{"line":35,"column":35},"generated":{"line":1,"column":679}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTextureType","original":{"line":36,"column":8},"generated":{"line":1,"column":683}},{"source":"../../../src/transform/transform-shader-utils.js","name":"getVaryingType","original":{"line":36,"column":28},"generated":{"line":1,"column":685}},{"source":"../../../src/transform/transform-shader-utils.js","name":"line","original":{"line":36,"column":43},"generated":{"line":1,"column":687}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTextureVarying","original":{"line":36,"column":49},"generated":{"line":1,"column":689}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTextureVarying","original":{"line":40,"column":8},"generated":{"line":1,"column":695}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":40,"column":30},"generated":{"line":1,"column":697}},{"source":"../../../src/transform/transform-shader-utils.js","name":"assert","original":{"line":41,"column":6},"generated":{"line":1,"column":699}},{"source":"../../../src/transform/transform-shader-utils.js","name":"assert","original":{"line":41,"column":6},"generated":{"line":1,"column":701}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":41,"column":12},"generated":{"line":1,"column":703}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTexture","original":{"line":41,"column":13},"generated":{"line":1,"column":711}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":42,"column":6},"generated":{"line":1,"column":714}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sizeName","original":{"line":42,"column":12},"generated":{"line":1,"column":720}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":722}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":725}},{"source":"../../../src/transform/transform-shader-utils.js","name":"SIZE_UNIFORM_PREFIX","original":{"line":42,"column":26},"generated":{"line":1,"column":732}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":735}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTextureVarying","original":{"line":42,"column":48},"generated":{"line":1,"column":742}},{"source":"../../../src/transform/transform-shader-utils.js","name":"inject","original":{"line":48,"column":12},"generated":{"line":1,"column":745}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":48,"column":21},"generated":{"line":1,"column":747}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":748}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":44,"column":30},"generated":{"line":1,"column":759}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":44,"column":30},"generated":{"line":1,"column":775}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sizeName","original":{"line":44,"column":49},"generated":{"line":1,"column":782}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":44,"column":30},"generated":{"line":1,"column":784}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":50,"column":8},"generated":{"line":1,"column":791}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":45,"column":27},"generated":{"line":1,"column":808}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":45,"column":27},"generated":{"line":1,"column":821}},{"source":"../../../src/transform/transform-shader-utils.js","name":"VS_POS_VARIABLE","original":{"line":46,"column":12},"generated":{"line":1,"column":828}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":45,"column":27},"generated":{"line":1,"column":830}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":45,"column":27},"generated":{"line":1,"column":854}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sizeName","original":{"line":46,"column":50},"generated":{"line":1,"column":861}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":45,"column":27},"generated":{"line":1,"column":863}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":45,"column":27},"generated":{"line":1,"column":895}},{"source":"../../../src/transform/transform-shader-utils.js","name":"VS_POS_VARIABLE","original":{"line":47,"column":26},"generated":{"line":1,"column":902}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":45,"column":27},"generated":{"line":1,"column":904}},{"source":"../../../src/transform/transform-shader-utils.js","name":"finalInject","original":{"line":52,"column":6},"generated":{"line":1,"column":920}},{"source":"../../../src/transform/transform-shader-utils.js","name":"combineInjects","original":{"line":52,"column":20},"generated":{"line":1,"column":923}},{"source":"../../../src/transform/transform-shader-utils.js","name":"combineInjects","original":{"line":52,"column":20},"generated":{"line":1,"column":925}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":52,"column":34},"generated":{"line":1,"column":927}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":52,"column":35},"generated":{"line":1,"column":943}},{"source":"../../../src/transform/transform-shader-utils.js","name":"finalInject","original":{"line":52,"column":36},"generated":{"line":1,"column":944}},{"source":"../../../src/transform/transform-shader-utils.js","name":"inject","original":{"line":52,"column":49},"generated":{"line":1,"column":946}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updatedVs","original":{"line":54,"column":4},"generated":{"line":1,"column":950}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updateVsLines","original":{"line":54,"column":16},"generated":{"line":1,"column":952}},{"source":"../../../src/transform/transform-shader-utils.js","name":"join","original":{"line":54,"column":30},"generated":{"line":1,"column":954}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":54,"column":35},"generated":{"line":1,"column":959}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":56,"column":2},"generated":{"line":1,"column":965}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":971}},{"source":"../../../src/transform/transform-shader-utils.js","name":"vs","original":{"line":58,"column":4},"generated":{"line":1,"column":972}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updatedVs","original":{"line":58,"column":8},"generated":{"line":1,"column":975}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTextureType","original":{"line":60,"column":4},"generated":{"line":1,"column":977}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTextureType","original":{"line":60,"column":4},"generated":{"line":1,"column":995}},{"source":"../../../src/transform/transform-shader-utils.js","name":"inject","original":{"line":62,"column":4},"generated":{"line":1,"column":997}},{"source":"../../../src/transform/transform-shader-utils.js","name":"finalInject","original":{"line":62,"column":12},"generated":{"line":1,"column":1004}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerTextureMap","original":{"line":65,"column":4},"generated":{"line":1,"column":1006}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerTextureMap","original":{"line":65,"column":4},"generated":{"line":1,"column":1024}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":70,"column":7},"generated":{"line":1,"column":1027}},{"source":"../../../src/transform/transform-shader-utils.js","name":"getSizeUniforms","original":{"line":70,"column":16},"generated":{"line":1,"column":1036}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":70,"column":7},"generated":{"line":1,"column":1038}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":70,"column":89},"generated":{"line":1,"column":1041}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":70,"column":32},"generated":{"line":1,"column":1045}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sourceTextureMap","original":{"line":70,"column":33},"generated":{"line":1,"column":1062}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":70,"column":32},"generated":{"line":1,"column":1064}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTextureVarying","original":{"line":70,"column":51},"generated":{"line":1,"column":1085}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":70,"column":32},"generated":{"line":1,"column":1087}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTexture","original":{"line":70,"column":73},"generated":{"line":1,"column":1101}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":70,"column":89},"generated":{"line":1,"column":1104}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":71,"column":2},"generated":{"line":1,"column":1106}},{"source":"../../../src/transform/transform-shader-utils.js","name":"uniforms","original":{"line":71,"column":8},"generated":{"line":1,"column":1112}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":71,"column":19},"generated":{"line":1,"column":1114}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":72,"column":2},"generated":{"line":1,"column":1117}},{"source":"../../../src/transform/transform-shader-utils.js","name":"width","original":{"line":72,"column":6},"generated":{"line":1,"column":1121}},{"source":"../../../src/transform/transform-shader-utils.js","name":"height","original":{"line":73,"column":6},"generated":{"line":1,"column":1123}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTextureVarying","original":{"line":74,"column":6},"generated":{"line":1,"column":1125}},{"source":"../../../src/transform/transform-shader-utils.js","name":"width","original":{"line":75,"column":6},"generated":{"line":1,"column":1131}},{"source":"../../../src/transform/transform-shader-utils.js","name":"width","original":{"line":75,"column":6},"generated":{"line":1,"column":1137}},{"source":"../../../src/transform/transform-shader-utils.js","name":"height","original":{"line":75,"column":13},"generated":{"line":1,"column":1139}},{"source":"../../../src/transform/transform-shader-utils.js","name":"height","original":{"line":75,"column":13},"generated":{"line":1,"column":1146}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTexture","original":{"line":75,"column":23},"generated":{"line":1,"column":1149}},{"source":"../../../src/transform/transform-shader-utils.js","name":"uniforms","original":{"line":76,"column":4},"generated":{"line":1,"column":1152}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":76,"column":12},"generated":{"line":1,"column":1154}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":76,"column":12},"generated":{"line":1,"column":1157}},{"source":"../../../src/transform/transform-shader-utils.js","name":"SIZE_UNIFORM_PREFIX","original":{"line":76,"column":16},"generated":{"line":1,"column":1164}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":76,"column":12},"generated":{"line":1,"column":1167}},{"source":"../../../src/transform/transform-shader-utils.js","name":"targetTextureVarying","original":{"line":76,"column":38},"generated":{"line":1,"column":1174}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":76,"column":64},"generated":{"line":1,"column":1178}},{"source":"../../../src/transform/transform-shader-utils.js","name":"width","original":{"line":76,"column":65},"generated":{"line":1,"column":1179}},{"source":"../../../src/transform/transform-shader-utils.js","name":"height","original":{"line":76,"column":72},"generated":{"line":1,"column":1181}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":78,"column":2},"generated":{"line":1,"column":1185}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":78,"column":7},"generated":{"line":1,"column":1189}},{"source":"../../../src/transform/transform-shader-utils.js","name":"textureName","original":{"line":78,"column":13},"generated":{"line":1,"column":1195}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sourceTextureMap","original":{"line":78,"column":28},"generated":{"line":1,"column":1200}},{"source":"../../../src/transform/transform-shader-utils.js","name":"width","original":{"line":79,"column":6},"generated":{"line":1,"column":1204}},{"source":"../../../src/transform/transform-shader-utils.js","name":"width","original":{"line":79,"column":6},"generated":{"line":1,"column":1210}},{"source":"../../../src/transform/transform-shader-utils.js","name":"height","original":{"line":79,"column":13},"generated":{"line":1,"column":1212}},{"source":"../../../src/transform/transform-shader-utils.js","name":"height","original":{"line":79,"column":13},"generated":{"line":1,"column":1219}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sourceTextureMap","original":{"line":79,"column":23},"generated":{"line":1,"column":1222}},{"source":"../../../src/transform/transform-shader-utils.js","name":"textureName","original":{"line":79,"column":40},"generated":{"line":1,"column":1224}},{"source":"../../../src/transform/transform-shader-utils.js","name":"uniforms","original":{"line":80,"column":4},"generated":{"line":1,"column":1228}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":80,"column":12},"generated":{"line":1,"column":1230}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":80,"column":12},"generated":{"line":1,"column":1233}},{"source":"../../../src/transform/transform-shader-utils.js","name":"SIZE_UNIFORM_PREFIX","original":{"line":80,"column":16},"generated":{"line":1,"column":1240}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":80,"column":12},"generated":{"line":1,"column":1243}},{"source":"../../../src/transform/transform-shader-utils.js","name":"textureName","original":{"line":80,"column":38},"generated":{"line":1,"column":1250}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":80,"column":55},"generated":{"line":1,"column":1254}},{"source":"../../../src/transform/transform-shader-utils.js","name":"width","original":{"line":80,"column":56},"generated":{"line":1,"column":1255}},{"source":"../../../src/transform/transform-shader-utils.js","name":"height","original":{"line":80,"column":63},"generated":{"line":1,"column":1257}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":1260}},{"source":"../../../src/transform/transform-shader-utils.js","name":"uniforms","original":{"line":82,"column":9},"generated":{"line":1,"column":1267}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":86,"column":0},"generated":{"line":1,"column":1269}},{"source":"../../../src/transform/transform-shader-utils.js","name":"getAttributeDefinition","original":{"line":86,"column":9},"generated":{"line":1,"column":1278}},{"source":"../../../src/transform/transform-shader-utils.js","name":"line","original":{"line":86,"column":32},"generated":{"line":1,"column":1280}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":87,"column":2},"generated":{"line":1,"column":1283}},{"source":"../../../src/transform/transform-shader-utils.js","name":"getQualifierDetails","original":{"line":87,"column":9},"generated":{"line":1,"column":1290}},{"source":"../../../src/transform/transform-shader-utils.js","name":"getQualifierDetails","original":{"line":87,"column":9},"generated":{"line":1,"column":1292}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":87,"column":28},"generated":{"line":1,"column":1294}},{"source":"../../../src/transform/transform-shader-utils.js","name":"line","original":{"line":87,"column":29},"generated":{"line":1,"column":1315}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":87,"column":35},"generated":{"line":1,"column":1317}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":87,"column":36},"generated":{"line":1,"column":1318}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":87,"column":49},"generated":{"line":1,"column":1330}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":90,"column":0},"generated":{"line":1,"column":1337}},{"source":"../../../src/transform/transform-shader-utils.js","name":"getSamplerDeclerations","original":{"line":90,"column":9},"generated":{"line":1,"column":1346}},{"source":"../../../src/transform/transform-shader-utils.js","name":"textureName","original":{"line":90,"column":32},"generated":{"line":1,"column":1348}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":91,"column":2},"generated":{"line":1,"column":1351}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerName","original":{"line":91,"column":8},"generated":{"line":1,"column":1357}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":91,"column":19},"generated":{"line":1,"column":1359}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":91,"column":19},"generated":{"line":1,"column":1362}},{"source":"../../../src/transform/transform-shader-utils.js","name":"SAMPLER_UNIFORM_PREFIX","original":{"line":91,"column":25},"generated":{"line":1,"column":1369}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":91,"column":19},"generated":{"line":1,"column":1372}},{"source":"../../../src/transform/transform-shader-utils.js","name":"textureName","original":{"line":91,"column":50},"generated":{"line":1,"column":1379}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sizeName","original":{"line":92,"column":8},"generated":{"line":1,"column":1382}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":92,"column":16},"generated":{"line":1,"column":1384}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":92,"column":16},"generated":{"line":1,"column":1387}},{"source":"../../../src/transform/transform-shader-utils.js","name":"SIZE_UNIFORM_PREFIX","original":{"line":92,"column":22},"generated":{"line":1,"column":1394}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":92,"column":16},"generated":{"line":1,"column":1397}},{"source":"../../../src/transform/transform-shader-utils.js","name":"textureName","original":{"line":92,"column":44},"generated":{"line":1,"column":1404}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":96,"column":2},"generated":{"line":1,"column":1407}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":96,"column":9},"generated":{"line":1,"column":1413}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerName","original":{"line":96,"column":10},"generated":{"line":1,"column":1414}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerName","original":{"line":96,"column":10},"generated":{"line":1,"column":1426}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sizeName","original":{"line":96,"column":23},"generated":{"line":1,"column":1428}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sizeName","original":{"line":96,"column":23},"generated":{"line":1,"column":1437}},{"source":"../../../src/transform/transform-shader-utils.js","name":"uniformDeclerations","original":{"line":96,"column":33},"generated":{"line":1,"column":1439}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":93,"column":27},"generated":{"line":1,"column":1459}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":93,"column":27},"generated":{"line":1,"column":1482}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerName","original":{"line":94,"column":22},"generated":{"line":1,"column":1489}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":93,"column":27},"generated":{"line":1,"column":1491}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":93,"column":27},"generated":{"line":1,"column":1513}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sizeName","original":{"line":95,"column":17},"generated":{"line":1,"column":1520}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":93,"column":27},"generated":{"line":1,"column":1522}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":100,"column":7},"generated":{"line":1,"column":1528}},{"source":"../../../src/transform/transform-shader-utils.js","name":"getVaryingType","original":{"line":100,"column":16},"generated":{"line":1,"column":1537}},{"source":"../../../src/transform/transform-shader-utils.js","name":"line","original":{"line":100,"column":31},"generated":{"line":1,"column":1539}},{"source":"../../../src/transform/transform-shader-utils.js","name":"varying","original":{"line":100,"column":37},"generated":{"line":1,"column":1541}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":101,"column":2},"generated":{"line":1,"column":1544}},{"source":"../../../src/transform/transform-shader-utils.js","name":"qualaiferDetails","original":{"line":101,"column":8},"generated":{"line":1,"column":1550}},{"source":"../../../src/transform/transform-shader-utils.js","name":"getQualifierDetails","original":{"line":101,"column":27},"generated":{"line":1,"column":1553}},{"source":"../../../src/transform/transform-shader-utils.js","name":"getQualifierDetails","original":{"line":101,"column":27},"generated":{"line":1,"column":1555}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":101,"column":46},"generated":{"line":1,"column":1557}},{"source":"../../../src/transform/transform-shader-utils.js","name":"line","original":{"line":101,"column":47},"generated":{"line":1,"column":1578}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":101,"column":53},"generated":{"line":1,"column":1580}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":101,"column":54},"generated":{"line":1,"column":1581}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":101,"column":65},"generated":{"line":1,"column":1591}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":102,"column":2},"generated":{"line":1,"column":1599}},{"source":"../../../src/transform/transform-shader-utils.js","name":"qualaiferDetails","original":{"line":102,"column":7},"generated":{"line":1,"column":1606}},{"source":"../../../src/transform/transform-shader-utils.js","name":"qualaiferDetails","original":{"line":105,"column":9},"generated":{"line":1,"column":1609}},{"source":"../../../src/transform/transform-shader-utils.js","name":"name","original":{"line":105,"column":26},"generated":{"line":1,"column":1611}},{"source":"../../../src/transform/transform-shader-utils.js","name":"varying","original":{"line":105,"column":35},"generated":{"line":1,"column":1618}},{"source":"../../../src/transform/transform-shader-utils.js","name":"qualaiferDetails","original":{"line":105,"column":45},"generated":{"line":1,"column":1620}},{"source":"../../../src/transform/transform-shader-utils.js","name":"type","original":{"line":105,"column":62},"generated":{"line":1,"column":1622}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":103,"column":11},"generated":{"line":1,"column":1627}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":109,"column":7},"generated":{"line":1,"column":1632}},{"source":"../../../src/transform/transform-shader-utils.js","name":"processAttributeDefinition","original":{"line":109,"column":16},"generated":{"line":1,"column":1641}},{"source":"../../../src/transform/transform-shader-utils.js","name":"line","original":{"line":109,"column":43},"generated":{"line":1,"column":1643}},{"source":"../../../src/transform/transform-shader-utils.js","name":"textureMap","original":{"line":109,"column":49},"generated":{"line":1,"column":1645}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":110,"column":2},"generated":{"line":1,"column":1648}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerTextureMap","original":{"line":110,"column":8},"generated":{"line":1,"column":1654}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":110,"column":28},"generated":{"line":1,"column":1656}},{"source":"../../../src/transform/transform-shader-utils.js","name":"attributeData","original":{"line":111,"column":8},"generated":{"line":1,"column":1659}},{"source":"../../../src/transform/transform-shader-utils.js","name":"getAttributeDefinition","original":{"line":111,"column":24},"generated":{"line":1,"column":1661}},{"source":"../../../src/transform/transform-shader-utils.js","name":"line","original":{"line":111,"column":47},"generated":{"line":1,"column":1663}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":112,"column":2},"generated":{"line":1,"column":1666}},{"source":"../../../src/transform/transform-shader-utils.js","name":"attributeData","original":{"line":112,"column":7},"generated":{"line":1,"column":1670}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":113,"column":4},"generated":{"line":1,"column":1672}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":113,"column":11},"generated":{"line":1,"column":1679}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":115,"column":2},"generated":{"line":1,"column":1684}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":115,"column":8},"generated":{"line":1,"column":1690}},{"source":"../../../src/transform/transform-shader-utils.js","name":"type","original":{"line":115,"column":9},"generated":{"line":1,"column":1695}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":115,"column":8},"generated":{"line":1,"column":1697}},{"source":"../../../src/transform/transform-shader-utils.js","name":"name","original":{"line":115,"column":15},"generated":{"line":1,"column":1702}},{"source":"../../../src/transform/transform-shader-utils.js","name":"attributeData","original":{"line":115,"column":23},"generated":{"line":1,"column":1705}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":116,"column":2},"generated":{"line":1,"column":1707}},{"source":"../../../src/transform/transform-shader-utils.js","name":"name","original":{"line":116,"column":6},"generated":{"line":1,"column":1710}},{"source":"../../../src/transform/transform-shader-utils.js","name":"textureMap","original":{"line":116,"column":14},"generated":{"line":1,"column":1713}},{"source":"../../../src/transform/transform-shader-utils.js","name":"name","original":{"line":116,"column":25},"generated":{"line":1,"column":1715}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":116,"column":32},"generated":{"line":1,"column":1718}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":118,"column":4},"generated":{"line":1,"column":1719}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updatedLine","original":{"line":118,"column":10},"generated":{"line":1,"column":1725}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":118,"column":21},"generated":{"line":1,"column":1727}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":118,"column":21},"generated":{"line":1,"column":1733}},{"source":"../../../src/transform/transform-shader-utils.js","name":"line","original":{"line":118,"column":31},"generated":{"line":1,"column":1740}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":118,"column":21},"generated":{"line":1,"column":1742}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":119,"column":10},"generated":{"line":1,"column":1787}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerName","original":{"line":119,"column":11},"generated":{"line":1,"column":1799}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":119,"column":10},"generated":{"line":1,"column":1801}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sizeName","original":{"line":119,"column":24},"generated":{"line":1,"column":1810}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":119,"column":10},"generated":{"line":1,"column":1812}},{"source":"../../../src/transform/transform-shader-utils.js","name":"uniformDeclerations","original":{"line":119,"column":34},"generated":{"line":1,"column":1832}},{"source":"../../../src/transform/transform-shader-utils.js","name":"getSamplerDeclerations","original":{"line":119,"column":57},"generated":{"line":1,"column":1835}},{"source":"../../../src/transform/transform-shader-utils.js","name":"name","original":{"line":119,"column":80},"generated":{"line":1,"column":1837}},{"source":"../../../src/transform/transform-shader-utils.js","name":"channels","original":{"line":121,"column":10},"generated":{"line":1,"column":1840}},{"source":"../../../src/transform/transform-shader-utils.js","name":"typeToChannelSuffix","original":{"line":121,"column":21},"generated":{"line":1,"column":1843}},{"source":"../../../src/transform/transform-shader-utils.js","name":"typeToChannelSuffix","original":{"line":121,"column":21},"generated":{"line":1,"column":1845}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":121,"column":40},"generated":{"line":1,"column":1847}},{"source":"../../../src/transform/transform-shader-utils.js","name":"type","original":{"line":121,"column":41},"generated":{"line":1,"column":1868}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sampleInstruction","original":{"line":122,"column":10},"generated":{"line":1,"column":1871}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":122,"column":27},"generated":{"line":1,"column":1873}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":122,"column":27},"generated":{"line":1,"column":1878}},{"source":"../../../src/transform/transform-shader-utils.js","name":"type","original":{"line":122,"column":35},"generated":{"line":1,"column":1885}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":122,"column":27},"generated":{"line":1,"column":1887}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":122,"column":27},"generated":{"line":1,"column":1892}},{"source":"../../../src/transform/transform-shader-utils.js","name":"name","original":{"line":122,"column":43},"generated":{"line":1,"column":1899}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":122,"column":27},"generated":{"line":1,"column":1901}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":122,"column":27},"generated":{"line":1,"column":1927}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerName","original":{"line":122,"column":72},"generated":{"line":1,"column":1934}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":122,"column":27},"generated":{"line":1,"column":1936}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":122,"column":27},"generated":{"line":1,"column":1942}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sizeName","original":{"line":122,"column":88},"generated":{"line":1,"column":1949}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":122,"column":27},"generated":{"line":1,"column":1951}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":122,"column":27},"generated":{"line":1,"column":1957}},{"source":"../../../src/transform/transform-shader-utils.js","name":"channels","original":{"line":122,"column":101},"generated":{"line":1,"column":1964}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":122,"column":27},"generated":{"line":1,"column":1966}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":131,"column":4},"generated":{"line":1,"column":1973}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerTextureMap","original":{"line":124,"column":4},"generated":{"line":1,"column":1980}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerName","original":{"line":124,"column":22},"generated":{"line":1,"column":1982}},{"source":"../../../src/transform/transform-shader-utils.js","name":"name","original":{"line":124,"column":37},"generated":{"line":1,"column":1985}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":131,"column":11},"generated":{"line":1,"column":1987}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updatedLine","original":{"line":133,"column":6},"generated":{"line":1,"column":1988}},{"source":"../../../src/transform/transform-shader-utils.js","name":"updatedLine","original":{"line":133,"column":6},"generated":{"line":1,"column":2000}},{"source":"../../../src/transform/transform-shader-utils.js","name":"inject","original":{"line":135,"column":6},"generated":{"line":1,"column":2002}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":125,"column":19},"generated":{"line":1,"column":2009}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":126,"column":6},"generated":{"line":1,"column":2010}},{"source":"../../../src/transform/transform-shader-utils.js","name":"uniformDeclerations","original":{"line":126,"column":18},"generated":{"line":1,"column":2021}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":127,"column":6},"generated":{"line":1,"column":2023}},{"source":"../../../src/transform/transform-shader-utils.js","name":"sampleInstruction","original":{"line":127,"column":24},"generated":{"line":1,"column":2040}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerTextureMap","original":{"line":137,"column":6},"generated":{"line":1,"column":2043}},{"source":"../../../src/transform/transform-shader-utils.js","name":"samplerTextureMap","original":{"line":137,"column":6},"generated":{"line":1,"column":2061}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":140,"column":2},"generated":{"line":1,"column":2064}},{"source":"../../../src/transform/transform-shader-utils.js","name":null,"original":{"line":140,"column":9},"generated":{"line":1,"column":2071}}],"sources":{"../../../src/transform/transform-shader-utils.js":"import {assert} from '@luma.gl/webgl';\nimport {combineInjects, getQualifierDetails, typeToChannelSuffix} from '@luma.gl/shadertools';\n\nconst SAMPLER_UNIFORM_PREFIX = 'transform_uSampler_';\nconst SIZE_UNIFORM_PREFIX = 'transform_uSize_';\nconst VS_POS_VARIABLE = 'transform_position';\n\n// Scan provided vertex shader\n// for each texture attribute, inject sampler instructions and build uniforms for sampler\n// for texture target, get varying type and inject position instruction\nexport function updateForTextures({vs, sourceTextureMap, targetTextureVarying, targetTexture}) {\n  const texAttributeNames = Object.keys(sourceTextureMap);\n  let sourceCount = texAttributeNames.length;\n  let targetTextureType = null;\n  const samplerTextureMap = {};\n  let updatedVs = vs;\n  let finalInject = {};\n\n  if (sourceCount > 0 || targetTextureVarying) {\n    const vsLines = updatedVs.split('\\n');\n    const updateVsLines = vsLines.slice();\n    vsLines.forEach((line, index, lines) => {\n      // TODO add early exit\n      if (sourceCount > 0) {\n        const updated = processAttributeDefinition(line, sourceTextureMap);\n        if (updated) {\n          const {updatedLine, inject} = updated;\n          updateVsLines[index] = updatedLine;\n          // sampleInstructions.push(sampleInstruction);\n          finalInject = combineInjects([finalInject, inject]);\n          Object.assign(samplerTextureMap, updated.samplerTextureMap);\n          sourceCount--;\n        }\n      }\n      if (targetTextureVarying && !targetTextureType) {\n        targetTextureType = getVaryingType(line, targetTextureVarying);\n      }\n    });\n\n    if (targetTextureVarying) {\n      assert(targetTexture);\n      const sizeName = `${SIZE_UNIFORM_PREFIX}${targetTextureVarying}`;\n\n      const uniformDeclaration = `uniform vec2 ${sizeName};\\n`;\n      const posInstructions = `\\\n     vec2 ${VS_POS_VARIABLE} = transform_getPos(${sizeName});\n     gl_Position = vec4(${VS_POS_VARIABLE}, 0, 1.);\\n`;\n      const inject = {\n        'vs:#decl': uniformDeclaration,\n        'vs:#main-start': posInstructions\n      };\n      finalInject = combineInjects([finalInject, inject]);\n    }\n    updatedVs = updateVsLines.join('\\n');\n  }\n  return {\n    // updated vertex shader (commented texture attribute definition)\n    vs: updatedVs,\n    // type (float, vec2, vec3 of vec4) target texture varying\n    targetTextureType,\n    // required vertex and fragment shader injects\n    inject: finalInject,\n    // map of sampler name to texture name, can be used to set attributes\n    // usefull when swapping textures, as source and destination texture change when swap is called.\n    samplerTextureMap\n  };\n}\n\n// builds and returns an object contaning size uniform for each texture\nexport function getSizeUniforms({sourceTextureMap, targetTextureVarying, targetTexture}) {\n  const uniforms = {};\n  let width;\n  let height;\n  if (targetTextureVarying) {\n    ({width, height} = targetTexture);\n    uniforms[`${SIZE_UNIFORM_PREFIX}${targetTextureVarying}`] = [width, height];\n  }\n  for (const textureName in sourceTextureMap) {\n    ({width, height} = sourceTextureMap[textureName]);\n    uniforms[`${SIZE_UNIFORM_PREFIX}${textureName}`] = [width, height];\n  }\n  return uniforms;\n}\n\n// Checks if provided line is defining an attribute, if so returns details otherwise null\nfunction getAttributeDefinition(line) {\n  return getQualifierDetails(line, ['attribute', 'in']);\n}\n\nfunction getSamplerDeclerations(textureName) {\n  const samplerName = `${SAMPLER_UNIFORM_PREFIX}${textureName}`;\n  const sizeName = `${SIZE_UNIFORM_PREFIX}${textureName}`;\n  const uniformDeclerations = `\\\n  uniform sampler2D ${samplerName};\n  uniform vec2 ${sizeName};`;\n  return {samplerName, sizeName, uniformDeclerations};\n}\n\n// Return size (float, vec2 etc) of a given varying, null if doens't exist.\nexport function getVaryingType(line, varying) {\n  const qualaiferDetails = getQualifierDetails(line, ['varying', 'out']);\n  if (!qualaiferDetails) {\n    return null;\n  }\n  return qualaiferDetails.name === varying ? qualaiferDetails.type : null;\n}\n\n// build required definitions, sample instructions for each texture attribute\nexport function processAttributeDefinition(line, textureMap) {\n  const samplerTextureMap = {};\n  const attributeData = getAttributeDefinition(line);\n  if (!attributeData) {\n    return null;\n  }\n  const {type, name} = attributeData;\n  if (name && textureMap[name]) {\n    // eslint-disable-next-line no-useless-escape\n    const updatedLine = `\\// ${line} => Replaced by Transform with a sampler`;\n    const {samplerName, sizeName, uniformDeclerations} = getSamplerDeclerations(name);\n\n    const channels = typeToChannelSuffix(type);\n    const sampleInstruction = `  ${type} ${name} = transform_getInput(${samplerName}, ${sizeName}).${channels};\\n`;\n\n    samplerTextureMap[samplerName] = name;\n    const inject = {\n      'vs:#decl': uniformDeclerations,\n      'vs:#main-start': sampleInstruction\n    };\n\n    // samplerNameMap\n    return {\n      // update vertex shader line.\n      updatedLine,\n      // inject object with sampler instructions.\n      inject,\n      // sampler name to texture name map\n      samplerTextureMap\n    };\n  }\n  return null;\n}\n"},"lineCount":null}},"error":null,"hash":"5f472be3206f9dc028a3de2d7ce671e6","cacheData":{"env":{}}}