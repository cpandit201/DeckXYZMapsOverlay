{"id":"AO07","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/dist/esm/lineclip.js.map","includedInParent":true,"mtime":1688284133040},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/package.json","includedInParent":true,"mtime":1688284133040},{"name":"./utils","loc":{"line":1,"column":44,"index":44},"parent":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/dist/esm/lineclip.js","resolved":"/project/deck-gl-examples-01/node_modules/@math.gl/polygon/dist/esm/utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.bitCode=o,exports.clipPolygon=n,exports.clipPolyline=t,exports.intersect=r;var e=require(\"./utils\");function t(t,n,i){const{size:l=2,startIndex:s=0,endIndex:u=t.length}=i||{},f=(u-s)/l,p=[];let d,x,c,h,g=[],I=-1;for(let a=1;a<f;a++){for(d=(0,e.getPointAtIndex)(t,a-1,l,s,d),x=(0,e.getPointAtIndex)(t,a,l,s,x),I<0&&(I=o(d,n)),c=h=o(x,n);;){if(!(I|c)){(0,e.push)(g,d),c!==h?((0,e.push)(g,x),a<f-1&&(p.push(g),g=[])):a===f-1&&(0,e.push)(g,x);break}if(I&c)break;I?(r(d,x,I,n,d),I=o(d,n)):(r(d,x,c,n,x),c=o(x,n))}I=h}return g.length&&p.push(g),p}function n(t,n,i){const{size:l=2,endIndex:s=t.length}=i||{};let u,f,p,d,x,{startIndex:c=0}=i||{},h=(s-c)/l;for(let g=1;g<=8;g*=2){u=[],x=!(o(p=(0,e.getPointAtIndex)(t,h-1,l,c,p),n)&g);for(let i=0;i<h;i++)(d=!(o(f=(0,e.getPointAtIndex)(t,i,l,c,f),n)&g))!==x&&(0,e.push)(u,r(p,f,g,n)),d&&(0,e.push)(u,f),(0,e.copy)(p,f),x=d;if(t=u,c=0,!(h=u.length/l))break}return u}function r(e,t,n,r,o=[]){let i,l;if(8&n)i=(r[3]-e[1])/(t[1]-e[1]),l=3;else if(4&n)i=(r[1]-e[1])/(t[1]-e[1]),l=1;else if(2&n)i=(r[2]-e[0])/(t[0]-e[0]),l=2;else{if(!(1&n))return null;i=(r[0]-e[0])/(t[0]-e[0]),l=0}for(let s=0;s<e.length;s++)o[s]=(1&l)===s?r[l]:i*(t[s]-e[s])+e[s];return o}function o(e,t){let n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":0}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":13}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":20}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":35}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":43}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":56}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":57}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":64}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":68}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":76}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":84}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":86}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":94}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":106}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":108}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":116}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":129}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":131}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":139}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":212,"column":1},"generated":{"line":1,"column":149}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":151}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":155}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":157}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":165}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":34,"column":7},"generated":{"line":1,"column":176}},{"source":"../../src/lineclip.ts","name":"clipPolyline","original":{"line":34,"column":16},"generated":{"line":1,"column":185}},{"source":"../../src/lineclip.ts","name":"positions","original":{"line":35,"column":2},"generated":{"line":1,"column":187}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":36,"column":2},"generated":{"line":1,"column":189}},{"source":"../../src/lineclip.ts","name":"options","original":{"line":37,"column":2},"generated":{"line":1,"column":191}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":1,"column":194}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":200}},{"source":"../../src/lineclip.ts","name":"size","original":{"line":43,"column":9},"generated":{"line":1,"column":205}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":43,"column":16},"generated":{"line":1,"column":207}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":209}},{"source":"../../src/lineclip.ts","name":"startIndex","original":{"line":43,"column":19},"generated":{"line":1,"column":220}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":43,"column":32},"generated":{"line":1,"column":222}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":224}},{"source":"../../src/lineclip.ts","name":"endIndex","original":{"line":43,"column":35},"generated":{"line":1,"column":233}},{"source":"../../src/lineclip.ts","name":"positions","original":{"line":43,"column":46},"generated":{"line":1,"column":235}},{"source":"../../src/lineclip.ts","name":"length","original":{"line":43,"column":56},"generated":{"line":1,"column":237}},{"source":"../../src/lineclip.ts","name":"options","original":{"line":43,"column":66},"generated":{"line":1,"column":245}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":43,"column":77},"generated":{"line":1,"column":248}},{"source":"../../src/lineclip.ts","name":"numPoints","original":{"line":44,"column":8},"generated":{"line":1,"column":251}},{"source":"../../src/lineclip.ts","name":"endIndex","original":{"line":44,"column":21},"generated":{"line":1,"column":254}},{"source":"../../src/lineclip.ts","name":"startIndex","original":{"line":44,"column":32},"generated":{"line":1,"column":256}},{"source":"../../src/lineclip.ts","name":"size","original":{"line":44,"column":46},"generated":{"line":1,"column":259}},{"source":"../../src/lineclip.ts","name":"result","original":{"line":45,"column":8},"generated":{"line":1,"column":261}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":1,"column":263}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":1,"column":266}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":47,"column":6},"generated":{"line":1,"column":270}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":48,"column":6},"generated":{"line":1,"column":272}},{"source":"../../src/lineclip.ts","name":"codeB","original":{"line":50,"column":6},"generated":{"line":1,"column":274}},{"source":"../../src/lineclip.ts","name":"lastCode","original":{"line":51,"column":6},"generated":{"line":1,"column":276}},{"source":"../../src/lineclip.ts","name":"part","original":{"line":46,"column":6},"generated":{"line":1,"column":278}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":46,"column":23},"generated":{"line":1,"column":280}},{"source":"../../src/lineclip.ts","name":"codeA","original":{"line":49,"column":6},"generated":{"line":1,"column":283}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":49,"column":23},"generated":{"line":1,"column":286}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":288}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":53,"column":7},"generated":{"line":1,"column":292}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":53,"column":11},"generated":{"line":1,"column":296}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":298}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":53,"column":18},"generated":{"line":1,"column":300}},{"source":"../../src/lineclip.ts","name":"numPoints","original":{"line":53,"column":22},"generated":{"line":1,"column":302}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":53,"column":33},"generated":{"line":1,"column":304}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":53,"column":38},"generated":{"line":1,"column":308}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":62,"column":4},"generated":{"line":1,"column":309}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":54,"column":4},"generated":{"line":1,"column":313}},{"source":"../../src/lineclip.ts","name":"getPointAtIndex","original":{"line":54,"column":8},"generated":{"line":1,"column":316}},{"source":"../../src/lineclip.ts","name":"getPointAtIndex","original":{"line":54,"column":8},"generated":{"line":1,"column":318}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":54,"column":23},"generated":{"line":1,"column":320}},{"source":"../../src/lineclip.ts","name":"positions","original":{"line":54,"column":24},"generated":{"line":1,"column":337}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":54,"column":35},"generated":{"line":1,"column":339}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":54,"column":39},"generated":{"line":1,"column":341}},{"source":"../../src/lineclip.ts","name":"size","original":{"line":54,"column":42},"generated":{"line":1,"column":343}},{"source":"../../src/lineclip.ts","name":"startIndex","original":{"line":54,"column":48},"generated":{"line":1,"column":345}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":54,"column":60},"generated":{"line":1,"column":347}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":55,"column":4},"generated":{"line":1,"column":350}},{"source":"../../src/lineclip.ts","name":"getPointAtIndex","original":{"line":55,"column":8},"generated":{"line":1,"column":353}},{"source":"../../src/lineclip.ts","name":"getPointAtIndex","original":{"line":55,"column":8},"generated":{"line":1,"column":355}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":55,"column":23},"generated":{"line":1,"column":357}},{"source":"../../src/lineclip.ts","name":"positions","original":{"line":55,"column":24},"generated":{"line":1,"column":374}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":55,"column":35},"generated":{"line":1,"column":376}},{"source":"../../src/lineclip.ts","name":"size","original":{"line":55,"column":38},"generated":{"line":1,"column":378}},{"source":"../../src/lineclip.ts","name":"startIndex","original":{"line":55,"column":44},"generated":{"line":1,"column":380}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":55,"column":56},"generated":{"line":1,"column":382}},{"source":"../../src/lineclip.ts","name":"codeA","original":{"line":56,"column":8},"generated":{"line":1,"column":385}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":56,"column":16},"generated":{"line":1,"column":387}},{"source":"../../src/lineclip.ts","name":"codeA","original":{"line":57,"column":6},"generated":{"line":1,"column":391}},{"source":"../../src/lineclip.ts","name":"bitCode","original":{"line":57,"column":14},"generated":{"line":1,"column":393}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":57,"column":22},"generated":{"line":1,"column":395}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":57,"column":25},"generated":{"line":1,"column":397}},{"source":"../../src/lineclip.ts","name":"codeB","original":{"line":59,"column":4},"generated":{"line":1,"column":401}},{"source":"../../src/lineclip.ts","name":"lastCode","original":{"line":59,"column":12},"generated":{"line":1,"column":403}},{"source":"../../src/lineclip.ts","name":"bitCode","original":{"line":59,"column":23},"generated":{"line":1,"column":405}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":59,"column":31},"generated":{"line":1,"column":407}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":59,"column":34},"generated":{"line":1,"column":409}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":62,"column":17},"generated":{"line":1,"column":414}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":63,"column":6},"generated":{"line":1,"column":415}},{"source":"../../src/lineclip.ts","name":"codeA","original":{"line":63,"column":12},"generated":{"line":1,"column":420}},{"source":"../../src/lineclip.ts","name":"codeB","original":{"line":63,"column":20},"generated":{"line":1,"column":422}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":63,"column":28},"generated":{"line":1,"column":425}},{"source":"../../src/lineclip.ts","name":"push","original":{"line":65,"column":8},"generated":{"line":1,"column":427}},{"source":"../../src/lineclip.ts","name":"push","original":{"line":65,"column":8},"generated":{"line":1,"column":429}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":65,"column":12},"generated":{"line":1,"column":431}},{"source":"../../src/lineclip.ts","name":"part","original":{"line":65,"column":13},"generated":{"line":1,"column":437}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":65,"column":19},"generated":{"line":1,"column":439}},{"source":"../../src/lineclip.ts","name":"codeB","original":{"line":67,"column":12},"generated":{"line":1,"column":442}},{"source":"../../src/lineclip.ts","name":"lastCode","original":{"line":67,"column":22},"generated":{"line":1,"column":446}},{"source":"../../src/lineclip.ts","name":"push","original":{"line":69,"column":10},"generated":{"line":1,"column":450}},{"source":"../../src/lineclip.ts","name":"push","original":{"line":69,"column":10},"generated":{"line":1,"column":452}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":69,"column":14},"generated":{"line":1,"column":454}},{"source":"../../src/lineclip.ts","name":"part","original":{"line":69,"column":15},"generated":{"line":1,"column":460}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":69,"column":21},"generated":{"line":1,"column":462}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":71,"column":14},"generated":{"line":1,"column":465}},{"source":"../../src/lineclip.ts","name":"numPoints","original":{"line":71,"column":18},"generated":{"line":1,"column":467}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":71,"column":30},"generated":{"line":1,"column":469}},{"source":"../../src/lineclip.ts","name":"result","original":{"line":73,"column":12},"generated":{"line":1,"column":473}},{"source":"../../src/lineclip.ts","name":"push","original":{"line":73,"column":19},"generated":{"line":1,"column":475}},{"source":"../../src/lineclip.ts","name":"part","original":{"line":73,"column":24},"generated":{"line":1,"column":480}},{"source":"../../src/lineclip.ts","name":"part","original":{"line":74,"column":12},"generated":{"line":1,"column":483}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":74,"column":19},"generated":{"line":1,"column":485}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":76,"column":19},"generated":{"line":1,"column":490}},{"source":"../../src/lineclip.ts","name":"numPoints","original":{"line":76,"column":25},"generated":{"line":1,"column":494}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":76,"column":37},"generated":{"line":1,"column":496}},{"source":"../../src/lineclip.ts","name":"push","original":{"line":77,"column":10},"generated":{"line":1,"column":500}},{"source":"../../src/lineclip.ts","name":"push","original":{"line":77,"column":10},"generated":{"line":1,"column":502}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":77,"column":14},"generated":{"line":1,"column":504}},{"source":"../../src/lineclip.ts","name":"part","original":{"line":77,"column":15},"generated":{"line":1,"column":510}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":77,"column":21},"generated":{"line":1,"column":512}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":1,"column":515}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":80,"column":13},"generated":{"line":1,"column":521}},{"source":"../../src/lineclip.ts","name":"codeA","original":{"line":80,"column":17},"generated":{"line":1,"column":524}},{"source":"../../src/lineclip.ts","name":"codeB","original":{"line":80,"column":25},"generated":{"line":1,"column":526}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":82,"column":8},"generated":{"line":1,"column":528}},{"source":"../../src/lineclip.ts","name":"codeA","original":{"line":83,"column":17},"generated":{"line":1,"column":534}},{"source":"../../src/lineclip.ts","name":"intersect","original":{"line":85,"column":8},"generated":{"line":1,"column":537}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":85,"column":18},"generated":{"line":1,"column":539}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":85,"column":21},"generated":{"line":1,"column":541}},{"source":"../../src/lineclip.ts","name":"codeA","original":{"line":85,"column":24},"generated":{"line":1,"column":543}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":85,"column":31},"generated":{"line":1,"column":545}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":85,"column":37},"generated":{"line":1,"column":547}},{"source":"../../src/lineclip.ts","name":"codeA","original":{"line":86,"column":8},"generated":{"line":1,"column":550}},{"source":"../../src/lineclip.ts","name":"bitCode","original":{"line":86,"column":16},"generated":{"line":1,"column":552}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":86,"column":24},"generated":{"line":1,"column":554}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":86,"column":27},"generated":{"line":1,"column":556}},{"source":"../../src/lineclip.ts","name":"intersect","original":{"line":89,"column":8},"generated":{"line":1,"column":561}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":89,"column":18},"generated":{"line":1,"column":563}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":89,"column":21},"generated":{"line":1,"column":565}},{"source":"../../src/lineclip.ts","name":"codeB","original":{"line":89,"column":24},"generated":{"line":1,"column":567}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":89,"column":31},"generated":{"line":1,"column":569}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":89,"column":37},"generated":{"line":1,"column":571}},{"source":"../../src/lineclip.ts","name":"codeB","original":{"line":90,"column":8},"generated":{"line":1,"column":574}},{"source":"../../src/lineclip.ts","name":"bitCode","original":{"line":90,"column":16},"generated":{"line":1,"column":576}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":90,"column":24},"generated":{"line":1,"column":578}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":90,"column":27},"generated":{"line":1,"column":580}},{"source":"../../src/lineclip.ts","name":"codeA","original":{"line":94,"column":4},"generated":{"line":1,"column":584}},{"source":"../../src/lineclip.ts","name":"lastCode","original":{"line":94,"column":12},"generated":{"line":1,"column":586}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":99,"column":2},"generated":{"line":1,"column":588}},{"source":"../../src/lineclip.ts","name":"part","original":{"line":97,"column":6},"generated":{"line":1,"column":595}},{"source":"../../src/lineclip.ts","name":"length","original":{"line":97,"column":11},"generated":{"line":1,"column":597}},{"source":"../../src/lineclip.ts","name":"result","original":{"line":97,"column":19},"generated":{"line":1,"column":605}},{"source":"../../src/lineclip.ts","name":"push","original":{"line":97,"column":26},"generated":{"line":1,"column":607}},{"source":"../../src/lineclip.ts","name":"part","original":{"line":97,"column":31},"generated":{"line":1,"column":612}},{"source":"../../src/lineclip.ts","name":"result","original":{"line":99,"column":9},"generated":{"line":1,"column":615}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":106,"column":7},"generated":{"line":1,"column":617}},{"source":"../../src/lineclip.ts","name":"clipPolygon","original":{"line":106,"column":16},"generated":{"line":1,"column":626}},{"source":"../../src/lineclip.ts","name":"positions","original":{"line":107,"column":2},"generated":{"line":1,"column":628}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":108,"column":2},"generated":{"line":1,"column":630}},{"source":"../../src/lineclip.ts","name":"options","original":{"line":109,"column":2},"generated":{"line":1,"column":632}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":115,"column":2},"generated":{"line":1,"column":635}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":115,"column":8},"generated":{"line":1,"column":641}},{"source":"../../src/lineclip.ts","name":"size","original":{"line":115,"column":9},"generated":{"line":1,"column":646}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":115,"column":16},"generated":{"line":1,"column":648}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":115,"column":8},"generated":{"line":1,"column":650}},{"source":"../../src/lineclip.ts","name":"endIndex","original":{"line":115,"column":19},"generated":{"line":1,"column":659}},{"source":"../../src/lineclip.ts","name":"positions","original":{"line":115,"column":30},"generated":{"line":1,"column":661}},{"source":"../../src/lineclip.ts","name":"length","original":{"line":115,"column":40},"generated":{"line":1,"column":663}},{"source":"../../src/lineclip.ts","name":"options","original":{"line":115,"column":50},"generated":{"line":1,"column":671}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":115,"column":61},"generated":{"line":1,"column":674}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":116,"column":2},"generated":{"line":1,"column":677}},{"source":"../../src/lineclip.ts","name":"result","original":{"line":118,"column":6},"generated":{"line":1,"column":681}},{"source":"../../src/lineclip.ts","name":"p","original":{"line":119,"column":6},"generated":{"line":1,"column":683}},{"source":"../../src/lineclip.ts","name":"prev","original":{"line":120,"column":6},"generated":{"line":1,"column":685}},{"source":"../../src/lineclip.ts","name":"inside","original":{"line":121,"column":6},"generated":{"line":1,"column":687}},{"source":"../../src/lineclip.ts","name":"prevInside","original":{"line":122,"column":6},"generated":{"line":1,"column":689}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":116,"column":6},"generated":{"line":1,"column":692}},{"source":"../../src/lineclip.ts","name":"startIndex","original":{"line":116,"column":7},"generated":{"line":1,"column":703}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":116,"column":20},"generated":{"line":1,"column":705}},{"source":"../../src/lineclip.ts","name":"options","original":{"line":116,"column":25},"generated":{"line":1,"column":708}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":116,"column":36},"generated":{"line":1,"column":711}},{"source":"../../src/lineclip.ts","name":"numPoints","original":{"line":117,"column":6},"generated":{"line":1,"column":714}},{"source":"../../src/lineclip.ts","name":"endIndex","original":{"line":117,"column":19},"generated":{"line":1,"column":717}},{"source":"../../src/lineclip.ts","name":"startIndex","original":{"line":117,"column":30},"generated":{"line":1,"column":719}},{"source":"../../src/lineclip.ts","name":"size","original":{"line":117,"column":44},"generated":{"line":1,"column":722}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":125,"column":2},"generated":{"line":1,"column":724}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":125,"column":7},"generated":{"line":1,"column":728}},{"source":"../../src/lineclip.ts","name":"edge","original":{"line":125,"column":11},"generated":{"line":1,"column":732}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":125,"column":18},"generated":{"line":1,"column":734}},{"source":"../../src/lineclip.ts","name":"edge","original":{"line":125,"column":21},"generated":{"line":1,"column":736}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":125,"column":29},"generated":{"line":1,"column":739}},{"source":"../../src/lineclip.ts","name":"edge","original":{"line":125,"column":32},"generated":{"line":1,"column":741}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":125,"column":40},"generated":{"line":1,"column":744}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":125,"column":43},"generated":{"line":1,"column":746}},{"source":"../../src/lineclip.ts","name":"result","original":{"line":126,"column":4},"generated":{"line":1,"column":747}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":126,"column":13},"generated":{"line":1,"column":749}},{"source":"../../src/lineclip.ts","name":"prevInside","original":{"line":128,"column":4},"generated":{"line":1,"column":752}},{"source":"../../src/lineclip.ts","name":"bitCode","original":{"line":128,"column":19},"generated":{"line":1,"column":756}},{"source":"../../src/lineclip.ts","name":"prev","original":{"line":127,"column":4},"generated":{"line":1,"column":758}},{"source":"../../src/lineclip.ts","name":"getPointAtIndex","original":{"line":127,"column":11},"generated":{"line":1,"column":761}},{"source":"../../src/lineclip.ts","name":"getPointAtIndex","original":{"line":127,"column":11},"generated":{"line":1,"column":763}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":127,"column":26},"generated":{"line":1,"column":765}},{"source":"../../src/lineclip.ts","name":"positions","original":{"line":127,"column":27},"generated":{"line":1,"column":782}},{"source":"../../src/lineclip.ts","name":"numPoints","original":{"line":127,"column":38},"generated":{"line":1,"column":784}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":127,"column":50},"generated":{"line":1,"column":786}},{"source":"../../src/lineclip.ts","name":"size","original":{"line":127,"column":53},"generated":{"line":1,"column":788}},{"source":"../../src/lineclip.ts","name":"startIndex","original":{"line":127,"column":59},"generated":{"line":1,"column":790}},{"source":"../../src/lineclip.ts","name":"prev","original":{"line":127,"column":71},"generated":{"line":1,"column":792}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":128,"column":33},"generated":{"line":1,"column":795}},{"source":"../../src/lineclip.ts","name":"edge","original":{"line":128,"column":41},"generated":{"line":1,"column":798}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":130,"column":4},"generated":{"line":1,"column":801}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":130,"column":9},"generated":{"line":1,"column":805}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":130,"column":13},"generated":{"line":1,"column":809}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":130,"column":17},"generated":{"line":1,"column":811}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":130,"column":20},"generated":{"line":1,"column":813}},{"source":"../../src/lineclip.ts","name":"numPoints","original":{"line":130,"column":24},"generated":{"line":1,"column":815}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":130,"column":35},"generated":{"line":1,"column":817}},{"source":"../../src/lineclip.ts","name":"inside","original":{"line":132,"column":6},"generated":{"line":1,"column":822}},{"source":"../../src/lineclip.ts","name":"bitCode","original":{"line":132,"column":17},"generated":{"line":1,"column":826}},{"source":"../../src/lineclip.ts","name":"p","original":{"line":131,"column":6},"generated":{"line":1,"column":828}},{"source":"../../src/lineclip.ts","name":"getPointAtIndex","original":{"line":131,"column":10},"generated":{"line":1,"column":831}},{"source":"../../src/lineclip.ts","name":"getPointAtIndex","original":{"line":131,"column":10},"generated":{"line":1,"column":833}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":131,"column":25},"generated":{"line":1,"column":835}},{"source":"../../src/lineclip.ts","name":"positions","original":{"line":131,"column":26},"generated":{"line":1,"column":852}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":131,"column":37},"generated":{"line":1,"column":854}},{"source":"../../src/lineclip.ts","name":"size","original":{"line":131,"column":40},"generated":{"line":1,"column":856}},{"source":"../../src/lineclip.ts","name":"startIndex","original":{"line":131,"column":46},"generated":{"line":1,"column":858}},{"source":"../../src/lineclip.ts","name":"p","original":{"line":131,"column":58},"generated":{"line":1,"column":860}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":132,"column":28},"generated":{"line":1,"column":863}},{"source":"../../src/lineclip.ts","name":"edge","original":{"line":132,"column":36},"generated":{"line":1,"column":866}},{"source":"../../src/lineclip.ts","name":"prevInside","original":{"line":135,"column":21},"generated":{"line":1,"column":872}},{"source":"../../src/lineclip.ts","name":"push","original":{"line":135,"column":33},"generated":{"line":1,"column":876}},{"source":"../../src/lineclip.ts","name":"push","original":{"line":135,"column":33},"generated":{"line":1,"column":878}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":135,"column":37},"generated":{"line":1,"column":880}},{"source":"../../src/lineclip.ts","name":"result","original":{"line":135,"column":38},"generated":{"line":1,"column":886}},{"source":"../../src/lineclip.ts","name":"intersect","original":{"line":135,"column":46},"generated":{"line":1,"column":888}},{"source":"../../src/lineclip.ts","name":"prev","original":{"line":135,"column":56},"generated":{"line":1,"column":890}},{"source":"../../src/lineclip.ts","name":"p","original":{"line":135,"column":62},"generated":{"line":1,"column":892}},{"source":"../../src/lineclip.ts","name":"edge","original":{"line":135,"column":65},"generated":{"line":1,"column":894}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":135,"column":71},"generated":{"line":1,"column":896}},{"source":"../../src/lineclip.ts","name":"inside","original":{"line":137,"column":10},"generated":{"line":1,"column":900}},{"source":"../../src/lineclip.ts","name":"push","original":{"line":137,"column":18},"generated":{"line":1,"column":904}},{"source":"../../src/lineclip.ts","name":"push","original":{"line":137,"column":18},"generated":{"line":1,"column":906}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":137,"column":22},"generated":{"line":1,"column":908}},{"source":"../../src/lineclip.ts","name":"result","original":{"line":137,"column":23},"generated":{"line":1,"column":914}},{"source":"../../src/lineclip.ts","name":"p","original":{"line":137,"column":31},"generated":{"line":1,"column":916}},{"source":"../../src/lineclip.ts","name":"copy","original":{"line":139,"column":6},"generated":{"line":1,"column":920}},{"source":"../../src/lineclip.ts","name":"copy","original":{"line":139,"column":6},"generated":{"line":1,"column":922}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":139,"column":10},"generated":{"line":1,"column":924}},{"source":"../../src/lineclip.ts","name":"prev","original":{"line":139,"column":11},"generated":{"line":1,"column":930}},{"source":"../../src/lineclip.ts","name":"p","original":{"line":139,"column":17},"generated":{"line":1,"column":932}},{"source":"../../src/lineclip.ts","name":"prevInside","original":{"line":140,"column":6},"generated":{"line":1,"column":935}},{"source":"../../src/lineclip.ts","name":"inside","original":{"line":140,"column":19},"generated":{"line":1,"column":937}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":148,"column":4},"generated":{"line":1,"column":939}},{"source":"../../src/lineclip.ts","name":"positions","original":{"line":144,"column":4},"generated":{"line":1,"column":942}},{"source":"../../src/lineclip.ts","name":"result","original":{"line":144,"column":16},"generated":{"line":1,"column":944}},{"source":"../../src/lineclip.ts","name":"startIndex","original":{"line":145,"column":4},"generated":{"line":1,"column":946}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":145,"column":17},"generated":{"line":1,"column":948}},{"source":"../../src/lineclip.ts","name":"numPoints","original":{"line":146,"column":4},"generated":{"line":1,"column":952}},{"source":"../../src/lineclip.ts","name":"result","original":{"line":146,"column":16},"generated":{"line":1,"column":954}},{"source":"../../src/lineclip.ts","name":"length","original":{"line":146,"column":23},"generated":{"line":1,"column":956}},{"source":"../../src/lineclip.ts","name":"size","original":{"line":146,"column":32},"generated":{"line":1,"column":963}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":148,"column":20},"generated":{"line":1,"column":966}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":151,"column":2},"generated":{"line":1,"column":972}},{"source":"../../src/lineclip.ts","name":"result","original":{"line":151,"column":9},"generated":{"line":1,"column":979}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":156,"column":7},"generated":{"line":1,"column":981}},{"source":"../../src/lineclip.ts","name":"intersect","original":{"line":156,"column":16},"generated":{"line":1,"column":990}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":157,"column":2},"generated":{"line":1,"column":992}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":158,"column":2},"generated":{"line":1,"column":994}},{"source":"../../src/lineclip.ts","name":"edge","original":{"line":159,"column":2},"generated":{"line":1,"column":996}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":160,"column":2},"generated":{"line":1,"column":998}},{"source":"../../src/lineclip.ts","name":"out","original":{"line":161,"column":2},"generated":{"line":1,"column":1000}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":161,"column":18},"generated":{"line":1,"column":1002}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":163,"column":2},"generated":{"line":1,"column":1006}},{"source":"../../src/lineclip.ts","name":"t","original":{"line":163,"column":6},"generated":{"line":1,"column":1010}},{"source":"../../src/lineclip.ts","name":"snap","original":{"line":167,"column":6},"generated":{"line":1,"column":1012}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":168,"column":2},"generated":{"line":1,"column":1014}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":168,"column":13},"generated":{"line":1,"column":1017}},{"source":"../../src/lineclip.ts","name":"edge","original":{"line":168,"column":6},"generated":{"line":1,"column":1019}},{"source":"../../src/lineclip.ts","name":"t","original":{"line":170,"column":4},"generated":{"line":1,"column":1021}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":170,"column":9},"generated":{"line":1,"column":1024}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":170,"column":14},"generated":{"line":1,"column":1026}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":170,"column":19},"generated":{"line":1,"column":1029}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":170,"column":21},"generated":{"line":1,"column":1031}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":170,"column":28},"generated":{"line":1,"column":1036}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":170,"column":30},"generated":{"line":1,"column":1038}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":170,"column":35},"generated":{"line":1,"column":1041}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":170,"column":37},"generated":{"line":1,"column":1043}},{"source":"../../src/lineclip.ts","name":"snap","original":{"line":171,"column":4},"generated":{"line":1,"column":1047}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":171,"column":11},"generated":{"line":1,"column":1049}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":172,"column":9},"generated":{"line":1,"column":1056}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":172,"column":20},"generated":{"line":1,"column":1059}},{"source":"../../src/lineclip.ts","name":"edge","original":{"line":172,"column":13},"generated":{"line":1,"column":1061}},{"source":"../../src/lineclip.ts","name":"t","original":{"line":174,"column":4},"generated":{"line":1,"column":1063}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":174,"column":9},"generated":{"line":1,"column":1066}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":174,"column":14},"generated":{"line":1,"column":1068}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":174,"column":19},"generated":{"line":1,"column":1071}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":174,"column":21},"generated":{"line":1,"column":1073}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":174,"column":28},"generated":{"line":1,"column":1078}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":174,"column":30},"generated":{"line":1,"column":1080}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":174,"column":35},"generated":{"line":1,"column":1083}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":174,"column":37},"generated":{"line":1,"column":1085}},{"source":"../../src/lineclip.ts","name":"snap","original":{"line":175,"column":4},"generated":{"line":1,"column":1089}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":175,"column":11},"generated":{"line":1,"column":1091}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":176,"column":9},"generated":{"line":1,"column":1098}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":176,"column":20},"generated":{"line":1,"column":1101}},{"source":"../../src/lineclip.ts","name":"edge","original":{"line":176,"column":13},"generated":{"line":1,"column":1103}},{"source":"../../src/lineclip.ts","name":"t","original":{"line":178,"column":4},"generated":{"line":1,"column":1105}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":178,"column":9},"generated":{"line":1,"column":1108}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":178,"column":14},"generated":{"line":1,"column":1110}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":178,"column":19},"generated":{"line":1,"column":1113}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":178,"column":21},"generated":{"line":1,"column":1115}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":178,"column":28},"generated":{"line":1,"column":1120}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":178,"column":30},"generated":{"line":1,"column":1122}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":178,"column":35},"generated":{"line":1,"column":1125}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":178,"column":37},"generated":{"line":1,"column":1127}},{"source":"../../src/lineclip.ts","name":"snap","original":{"line":179,"column":4},"generated":{"line":1,"column":1131}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":179,"column":11},"generated":{"line":1,"column":1133}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":180,"column":9},"generated":{"line":1,"column":1139}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":180,"column":9},"generated":{"line":1,"column":1140}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":180,"column":20},"generated":{"line":1,"column":1145}},{"source":"../../src/lineclip.ts","name":"edge","original":{"line":180,"column":13},"generated":{"line":1,"column":1147}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":185,"column":4},"generated":{"line":1,"column":1150}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":185,"column":11},"generated":{"line":1,"column":1157}},{"source":"../../src/lineclip.ts","name":"t","original":{"line":182,"column":4},"generated":{"line":1,"column":1162}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":182,"column":9},"generated":{"line":1,"column":1165}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":182,"column":14},"generated":{"line":1,"column":1167}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":182,"column":19},"generated":{"line":1,"column":1170}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":182,"column":21},"generated":{"line":1,"column":1172}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":182,"column":28},"generated":{"line":1,"column":1177}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":182,"column":30},"generated":{"line":1,"column":1179}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":182,"column":35},"generated":{"line":1,"column":1182}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":182,"column":37},"generated":{"line":1,"column":1184}},{"source":"../../src/lineclip.ts","name":"snap","original":{"line":183,"column":4},"generated":{"line":1,"column":1188}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":183,"column":11},"generated":{"line":1,"column":1190}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":187,"column":2},"generated":{"line":1,"column":1192}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":187,"column":7},"generated":{"line":1,"column":1196}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":187,"column":11},"generated":{"line":1,"column":1200}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":1202}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":187,"column":18},"generated":{"line":1,"column":1204}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":187,"column":22},"generated":{"line":1,"column":1206}},{"source":"../../src/lineclip.ts","name":"length","original":{"line":187,"column":24},"generated":{"line":1,"column":1208}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":187,"column":32},"generated":{"line":1,"column":1215}},{"source":"../../src/lineclip.ts","name":"out","original":{"line":188,"column":4},"generated":{"line":1,"column":1219}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":188,"column":8},"generated":{"line":1,"column":1221}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":188,"column":21},"generated":{"line":1,"column":1225}},{"source":"../../src/lineclip.ts","name":"snap","original":{"line":188,"column":14},"generated":{"line":1,"column":1227}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":188,"column":28},"generated":{"line":1,"column":1232}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":188,"column":32},"generated":{"line":1,"column":1234}},{"source":"../../src/lineclip.ts","name":"snap","original":{"line":188,"column":37},"generated":{"line":1,"column":1236}},{"source":"../../src/lineclip.ts","name":"t","original":{"line":188,"column":45},"generated":{"line":1,"column":1239}},{"source":"../../src/lineclip.ts","name":"b","original":{"line":188,"column":50},"generated":{"line":1,"column":1242}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":188,"column":52},"generated":{"line":1,"column":1244}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":188,"column":57},"generated":{"line":1,"column":1247}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":188,"column":59},"generated":{"line":1,"column":1249}},{"source":"../../src/lineclip.ts","name":"a","original":{"line":188,"column":65},"generated":{"line":1,"column":1253}},{"source":"../../src/lineclip.ts","name":"i","original":{"line":188,"column":67},"generated":{"line":1,"column":1255}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":190,"column":2},"generated":{"line":1,"column":1258}},{"source":"../../src/lineclip.ts","name":"out","original":{"line":190,"column":9},"generated":{"line":1,"column":1265}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":200,"column":7},"generated":{"line":1,"column":1267}},{"source":"../../src/lineclip.ts","name":"bitCode","original":{"line":200,"column":16},"generated":{"line":1,"column":1276}},{"source":"../../src/lineclip.ts","name":"p","original":{"line":200,"column":24},"generated":{"line":1,"column":1278}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":200,"column":37},"generated":{"line":1,"column":1280}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":201,"column":2},"generated":{"line":1,"column":1283}},{"source":"../../src/lineclip.ts","name":"code","original":{"line":201,"column":6},"generated":{"line":1,"column":1287}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":201,"column":13},"generated":{"line":1,"column":1289}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":211,"column":2},"generated":{"line":1,"column":1291}},{"source":"../../src/lineclip.ts","name":"p","original":{"line":203,"column":6},"generated":{"line":1,"column":1298}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":203,"column":8},"generated":{"line":1,"column":1300}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":203,"column":13},"generated":{"line":1,"column":1303}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":203,"column":18},"generated":{"line":1,"column":1305}},{"source":"../../src/lineclip.ts","name":"code","original":{"line":203,"column":22},"generated":{"line":1,"column":1308}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":203,"column":30},"generated":{"line":1,"column":1311}},{"source":"../../src/lineclip.ts","name":"p","original":{"line":205,"column":11},"generated":{"line":1,"column":1313}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":205,"column":13},"generated":{"line":1,"column":1315}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":205,"column":18},"generated":{"line":1,"column":1318}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":205,"column":23},"generated":{"line":1,"column":1320}},{"source":"../../src/lineclip.ts","name":"code","original":{"line":205,"column":27},"generated":{"line":1,"column":1325}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":205,"column":35},"generated":{"line":1,"column":1328}},{"source":"../../src/lineclip.ts","name":"p","original":{"line":207,"column":6},"generated":{"line":1,"column":1331}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":207,"column":8},"generated":{"line":1,"column":1333}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":207,"column":13},"generated":{"line":1,"column":1336}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":207,"column":18},"generated":{"line":1,"column":1338}},{"source":"../../src/lineclip.ts","name":"code","original":{"line":207,"column":22},"generated":{"line":1,"column":1341}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":207,"column":30},"generated":{"line":1,"column":1344}},{"source":"../../src/lineclip.ts","name":"p","original":{"line":209,"column":11},"generated":{"line":1,"column":1346}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":209,"column":13},"generated":{"line":1,"column":1348}},{"source":"../../src/lineclip.ts","name":"bbox","original":{"line":209,"column":18},"generated":{"line":1,"column":1351}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":209,"column":23},"generated":{"line":1,"column":1353}},{"source":"../../src/lineclip.ts","name":"code","original":{"line":209,"column":27},"generated":{"line":1,"column":1358}},{"source":"../../src/lineclip.ts","name":null,"original":{"line":209,"column":35},"generated":{"line":1,"column":1361}},{"source":"../../src/lineclip.ts","name":"code","original":{"line":211,"column":9},"generated":{"line":1,"column":1364}}],"sources":{"../../src/lineclip.ts":"/*\n  Adapted from https://github.com/mapbox/lineclip to work with flat arrays\n  and 3d positions\n\n  ISC License\n\n  Copyright (c) 2015, Mapbox\n\n  Permission to use, copy, modify, and/or distribute this software for any purpose\n  with or without fee is hereby granted, provided that the above copyright notice\n  and this permission notice appear in all copies.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n  FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n  OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n  TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n  THIS SOFTWARE.\n\n */\n\n/* eslint-disable max-statements, max-depth, complexity */\n\nimport {push, copy, getPointAtIndex} from './utils';\nimport type {NumericArray} from '@math.gl/core';\n\nexport type BoundingBox = [number, number, number, number];\n\n/**\n * Cohen-Sutherland line clipping algorithm, adapted to efficiently\n * handle polylines rather than just segments\n */\nexport function clipPolyline(\n  positions: Readonly<NumericArray>,\n  bbox: BoundingBox,\n  options?: {\n    size?: number;\n    startIndex?: number;\n    endIndex?: number;\n  }\n): number[][] {\n  const {size = 2, startIndex = 0, endIndex = positions.length} = options || {};\n  const numPoints = (endIndex - startIndex) / size;\n  const result: number[][] = [];\n  let part: number[] = [];\n  let a: number[];\n  let b: number[];\n  let codeA: number = -1;\n  let codeB: number;\n  let lastCode: number;\n\n  for (let i = 1; i < numPoints; i++) {\n    a = getPointAtIndex(positions, i - 1, size, startIndex, a);\n    b = getPointAtIndex(positions, i, size, startIndex, b);\n    if (codeA < 0) {\n      codeA = bitCode(a, bbox);\n    }\n    codeB = lastCode = bitCode(b, bbox);\n\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      if (!(codeA | codeB)) {\n        // accept\n        push(part, a);\n\n        if (codeB !== lastCode) {\n          // segment went outside\n          push(part, b);\n\n          if (i < numPoints - 1) {\n            // start a new line\n            result.push(part);\n            part = [];\n          }\n        } else if (i === numPoints - 1) {\n          push(part, b);\n        }\n        break;\n      } else if (codeA & codeB) {\n        // trivial reject\n        break;\n      } else if (codeA) {\n        // a outside, intersect with clip edge\n        intersect(a, b, codeA, bbox, a);\n        codeA = bitCode(a, bbox);\n      } else {\n        // b outside\n        intersect(a, b, codeB, bbox, b);\n        codeB = bitCode(b, bbox);\n      }\n    }\n\n    codeA = lastCode;\n  }\n\n  if (part.length) result.push(part);\n\n  return result;\n}\n\n/**\n * Sutherland-Hodgeman polygon clipping algorithm\n * polygon must be closed (first vertex == last vertex)\n */\nexport function clipPolygon(\n  positions: Readonly<NumericArray>,\n  bbox: BoundingBox,\n  options?: {\n    size?: number;\n    startIndex?: number;\n    endIndex?: number;\n  }\n): number[] {\n  const {size = 2, endIndex = positions.length} = options || {};\n  let {startIndex = 0} = options || {};\n  let numPoints = (endIndex - startIndex) / size;\n  let result: number[];\n  let p: number[];\n  let prev: number[];\n  let inside: boolean;\n  let prevInside: boolean;\n\n  // clip against each side of the clip rectangle\n  for (let edge = 1; edge <= 8; edge *= 2) {\n    result = [];\n    prev = getPointAtIndex(positions, numPoints - 1, size, startIndex, prev);\n    prevInside = !(bitCode(prev, bbox) & edge);\n\n    for (let i = 0; i < numPoints; i++) {\n      p = getPointAtIndex(positions, i, size, startIndex, p);\n      inside = !(bitCode(p, bbox) & edge);\n\n      // if segment goes through the clip window, add an intersection\n      if (inside !== prevInside) push(result, intersect(prev, p, edge, bbox));\n\n      if (inside) push(result, p); // add a point if it's inside\n\n      copy(prev, p);\n      prevInside = inside;\n    }\n\n    // close loop\n    positions = result;\n    startIndex = 0;\n    numPoints = result.length / size;\n\n    if (!numPoints) break;\n  }\n\n  return result;\n}\n\n/** intersect a segment against one of the 4 lines that make up the bbox */\n\nexport function intersect(\n  a: number[],\n  b: number[],\n  edge: number,\n  bbox: BoundingBox,\n  out: number[] = []\n): number[] {\n  let t;\n  // Forces out[snapI] to be on the bbox edge\n  // Interpolation introduces precision issue which may cause lineclip to be\n  // stuck in an infinite loop\n  let snap: number;\n  if (edge & 8) {\n    // top\n    t = (bbox[3] - a[1]) / (b[1] - a[1]);\n    snap = 3;\n  } else if (edge & 4) {\n    // bottom\n    t = (bbox[1] - a[1]) / (b[1] - a[1]);\n    snap = 1;\n  } else if (edge & 2) {\n    // right\n    t = (bbox[2] - a[0]) / (b[0] - a[0]);\n    snap = 2;\n  } else if (edge & 1) {\n    // left\n    t = (bbox[0] - a[0]) / (b[0] - a[0]);\n    snap = 0;\n  } else {\n    return null;\n  }\n  for (let i = 0; i < a.length; i++) {\n    out[i] = (snap & 1) === i ? bbox[snap] : t * (b[i] - a[i]) + a[i];\n  }\n  return out;\n}\n\n/**\n * bit code reflects the point position relative to the bbox:\n *         left  mid  right\n *    top  1001  1000  1010\n *    mid  0001  0000  0010\n * bottom  0101  0100  0110\n */\nexport function bitCode(p: number[], bbox: BoundingBox): number {\n  let code = 0;\n\n  if (p[0] < bbox[0]) code |= 1;\n  // left\n  else if (p[0] > bbox[2]) code |= 2; // right\n\n  if (p[1] < bbox[1]) code |= 4;\n  // bottom\n  else if (p[1] > bbox[3]) code |= 8; // top\n\n  return code;\n}\n"},"lineCount":null}},"error":null,"hash":"d4531b654adb65bca70f29ce4188c4a0","cacheData":{"env":{}}}