{"id":"mmMI","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/dist/esm/classes/texture-3d.js.map","includedInParent":true,"mtime":1688284130571},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/package.json","includedInParent":true,"mtime":1688284130571},{"name":"@luma.gl/gltools","loc":{"line":1,"column":62,"index":62},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/dist/esm/classes/texture-3d.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/gltools/dist/esm/index.js"},{"name":"./texture","loc":{"line":2,"column":20,"index":102},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/dist/esm/classes/texture-3d.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/dist/esm/classes/texture.js"},{"name":"./texture-formats","loc":{"line":3,"column":49,"index":164},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/dist/esm/classes/texture-3d.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/dist/esm/classes/texture-formats.js"},{"name":"./buffer","loc":{"line":4,"column":19,"index":204},"parent":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/dist/esm/classes/texture-3d.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/webgl/dist/esm/classes/buffer.js"}],"generated":{"js":"\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=require(\"@luma.gl/gltools\"),e=i(require(\"./texture\")),r=require(\"./texture-formats\"),a=i(require(\"./buffer\"));function i(t){return t&&t.__esModule?t:{default:t}}class s extends e.default{get[Symbol.toStringTag](){return\"Texture3D\"}static isSupported(e){return(0,t.isWebGL2)(e)}constructor(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,t.assertWebGL2Context)(e),super(e,r=Object.assign({depth:1},r,{target:32879,unpackFlipY:!1})),this.initialize(r),Object.seal(this)}setImageData(e){let{level:i=0,dataFormat:s=6408,width:l,height:h,depth:u=1,border:o=0,format:d,type:n=5121,offset:g=0,data:f,parameters:c={}}=e;if(this._trackDeallocatedMemory(\"Texture\"),this.gl.bindTexture(this.target,this.handle),(0,t.withParameters)(this.gl,c,()=>{ArrayBuffer.isView(f)&&this.gl.texImage3D(this.target,i,s,l,h,u,o,d,n,f),f instanceof a.default&&(this.gl.bindBuffer(35052,f.handle),this.gl.texImage3D(this.target,i,s,l,h,u,o,d,n,g))}),f&&f.byteLength)this._trackAllocatedMemory(f.byteLength,\"Texture\");else{const t=r.DATA_FORMAT_CHANNELS[this.dataFormat]||4,e=r.TYPE_SIZES[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*t*e,\"Texture\")}return this.loaded=!0,this}}exports.default=s;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":47},"generated":{"line":2,"column":0}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":47},"generated":{"line":2,"column":13}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":47},"generated":{"line":2,"column":20}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":47},"generated":{"line":2,"column":35}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":47},"generated":{"line":2,"column":43}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":47},"generated":{"line":2,"column":56}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":47},"generated":{"line":2,"column":57}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":47},"generated":{"line":2,"column":64}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":47},"generated":{"line":2,"column":68}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":47},"generated":{"line":2,"column":76}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":47},"generated":{"line":2,"column":89}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":2,"column":0},"generated":{"line":2,"column":91}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":2,"column":0},"generated":{"line":2,"column":95}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":2,"column":0},"generated":{"line":2,"column":97}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":2,"column":0},"generated":{"line":2,"column":105}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":3,"column":0},"generated":{"line":2,"column":125}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":3,"column":0},"generated":{"line":2,"column":127}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":3,"column":0},"generated":{"line":2,"column":129}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":3,"column":0},"generated":{"line":2,"column":137}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":4,"column":0},"generated":{"line":2,"column":151}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":4,"column":0},"generated":{"line":2,"column":153}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":4,"column":0},"generated":{"line":2,"column":161}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":182}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":184}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":186}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":194}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":207}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":216}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":218}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":221}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":228}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":231}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":233}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":244}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":246}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":247}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":255}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":15},"generated":{"line":2,"column":258}},{"source":"../../../src/classes/texture-3d.js","name":"Texture3D","original":{"line":7,"column":21},"generated":{"line":2,"column":264}},{"source":"../../../src/classes/texture-3d.js","name":"Texture","original":{"line":7,"column":39},"generated":{"line":2,"column":274}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":15},"generated":{"line":2,"column":276}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":9,"column":25},"generated":{"line":2,"column":284}},{"source":"../../../src/classes/texture-3d.js","name":"Symbol","original":{"line":9,"column":7},"generated":{"line":2,"column":288}},{"source":"../../../src/classes/texture-3d.js","name":"toStringTag","original":{"line":9,"column":14},"generated":{"line":2,"column":295}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":10,"column":4},"generated":{"line":2,"column":310}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":10,"column":11},"generated":{"line":2,"column":316}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":13,"column":20},"generated":{"line":2,"column":328}},{"source":"../../../src/classes/texture-3d.js","name":"gl","original":{"line":13,"column":21},"generated":{"line":2,"column":347}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":14,"column":4},"generated":{"line":2,"column":350}},{"source":"../../../src/classes/texture-3d.js","name":"isWebGL2","original":{"line":14,"column":11},"generated":{"line":2,"column":357}},{"source":"../../../src/classes/texture-3d.js","name":"isWebGL2","original":{"line":14,"column":11},"generated":{"line":2,"column":359}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":14,"column":19},"generated":{"line":2,"column":361}},{"source":"../../../src/classes/texture-3d.js","name":"gl","original":{"line":14,"column":20},"generated":{"line":2,"column":371}},{"source":"../../../src/classes/texture-3d.js","name":"constructor","original":{"line":17,"column":2},"generated":{"line":2,"column":374}},{"source":"../../../src/classes/texture-3d.js","name":"gl","original":{"line":17,"column":14},"generated":{"line":2,"column":386}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":17,"column":30},"generated":{"line":2,"column":389}},{"source":"../../../src/classes/texture-3d.js","name":"props","original":{"line":17,"column":18},"generated":{"line":2,"column":393}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":17,"column":30},"generated":{"line":2,"column":395}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":17,"column":30},"generated":{"line":2,"column":405}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":17,"column":30},"generated":{"line":2,"column":412}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":17,"column":30},"generated":{"line":2,"column":420}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":17,"column":30},"generated":{"line":2,"column":424}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":17,"column":30},"generated":{"line":2,"column":434}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":17,"column":30},"generated":{"line":2,"column":437}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":17,"column":30},"generated":{"line":2,"column":447}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":17,"column":26},"generated":{"line":2,"column":450}},{"source":"../../../src/classes/texture-3d.js","name":"assertWebGL2Context","original":{"line":18,"column":4},"generated":{"line":2,"column":454}},{"source":"../../../src/classes/texture-3d.js","name":"assertWebGL2Context","original":{"line":18,"column":4},"generated":{"line":2,"column":456}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":18,"column":23},"generated":{"line":2,"column":458}},{"source":"../../../src/classes/texture-3d.js","name":"gl","original":{"line":18,"column":24},"generated":{"line":2,"column":479}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":20,"column":4},"generated":{"line":2,"column":482}},{"source":"../../../src/classes/texture-3d.js","name":"gl","original":{"line":20,"column":10},"generated":{"line":2,"column":488}},{"source":"../../../src/classes/texture-3d.js","name":"props","original":{"line":19,"column":4},"generated":{"line":2,"column":490}},{"source":"../../../src/classes/texture-3d.js","name":"Object","original":{"line":19,"column":12},"generated":{"line":2,"column":492}},{"source":"../../../src/classes/texture-3d.js","name":"assign","original":{"line":19,"column":19},"generated":{"line":2,"column":499}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":19,"column":26},"generated":{"line":2,"column":506}},{"source":"../../../src/classes/texture-3d.js","name":"depth","original":{"line":19,"column":27},"generated":{"line":2,"column":507}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":19,"column":34},"generated":{"line":2,"column":513}},{"source":"../../../src/classes/texture-3d.js","name":"props","original":{"line":19,"column":38},"generated":{"line":2,"column":516}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":19,"column":45},"generated":{"line":2,"column":518}},{"source":"../../../src/classes/texture-3d.js","name":"target","original":{"line":19,"column":46},"generated":{"line":2,"column":519}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":19,"column":52},"generated":{"line":2,"column":526}},{"source":"../../../src/classes/texture-3d.js","name":"unpackFlipY","original":{"line":19,"column":69},"generated":{"line":2,"column":532}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":19,"column":82},"generated":{"line":2,"column":545}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":21,"column":4},"generated":{"line":2,"column":550}},{"source":"../../../src/classes/texture-3d.js","name":"initialize","original":{"line":21,"column":9},"generated":{"line":2,"column":555}},{"source":"../../../src/classes/texture-3d.js","name":"props","original":{"line":21,"column":20},"generated":{"line":2,"column":566}},{"source":"../../../src/classes/texture-3d.js","name":"Object","original":{"line":23,"column":4},"generated":{"line":2,"column":569}},{"source":"../../../src/classes/texture-3d.js","name":"seal","original":{"line":23,"column":11},"generated":{"line":2,"column":576}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":23,"column":16},"generated":{"line":2,"column":581}},{"source":"../../../src/classes/texture-3d.js","name":"setImageData","original":{"line":27,"column":2},"generated":{"line":2,"column":587}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":27,"column":14},"generated":{"line":2,"column":600}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":39,"column":5},"generated":{"line":2,"column":603}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":27,"column":15},"generated":{"line":2,"column":607}},{"source":"../../../src/classes/texture-3d.js","name":"level","original":{"line":28,"column":4},"generated":{"line":2,"column":613}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":28,"column":12},"generated":{"line":2,"column":615}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":27,"column":15},"generated":{"line":2,"column":617}},{"source":"../../../src/classes/texture-3d.js","name":"dataFormat","original":{"line":29,"column":4},"generated":{"line":2,"column":628}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":29,"column":14},"generated":{"line":2,"column":630}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":27,"column":15},"generated":{"line":2,"column":635}},{"source":"../../../src/classes/texture-3d.js","name":"width","original":{"line":30,"column":4},"generated":{"line":2,"column":641}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":27,"column":15},"generated":{"line":2,"column":643}},{"source":"../../../src/classes/texture-3d.js","name":"height","original":{"line":31,"column":4},"generated":{"line":2,"column":650}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":27,"column":15},"generated":{"line":2,"column":652}},{"source":"../../../src/classes/texture-3d.js","name":"depth","original":{"line":32,"column":4},"generated":{"line":2,"column":658}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":32,"column":12},"generated":{"line":2,"column":660}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":27,"column":15},"generated":{"line":2,"column":662}},{"source":"../../../src/classes/texture-3d.js","name":"border","original":{"line":33,"column":4},"generated":{"line":2,"column":669}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":33,"column":13},"generated":{"line":2,"column":671}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":27,"column":15},"generated":{"line":2,"column":673}},{"source":"../../../src/classes/texture-3d.js","name":"format","original":{"line":34,"column":4},"generated":{"line":2,"column":680}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":27,"column":15},"generated":{"line":2,"column":682}},{"source":"../../../src/classes/texture-3d.js","name":"type","original":{"line":35,"column":4},"generated":{"line":2,"column":687}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":35,"column":8},"generated":{"line":2,"column":689}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":27,"column":15},"generated":{"line":2,"column":694}},{"source":"../../../src/classes/texture-3d.js","name":"offset","original":{"line":36,"column":4},"generated":{"line":2,"column":701}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":36,"column":13},"generated":{"line":2,"column":703}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":27,"column":15},"generated":{"line":2,"column":705}},{"source":"../../../src/classes/texture-3d.js","name":"data","original":{"line":37,"column":4},"generated":{"line":2,"column":710}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":27,"column":15},"generated":{"line":2,"column":712}},{"source":"../../../src/classes/texture-3d.js","name":"parameters","original":{"line":38,"column":4},"generated":{"line":2,"column":723}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":38,"column":17},"generated":{"line":2,"column":725}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":39,"column":5},"generated":{"line":2,"column":729}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":79,"column":4},"generated":{"line":2,"column":731}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":40,"column":4},"generated":{"line":2,"column":734}},{"source":"../../../src/classes/texture-3d.js","name":"_trackDeallocatedMemory","original":{"line":40,"column":9},"generated":{"line":2,"column":739}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":40,"column":33},"generated":{"line":2,"column":763}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":42,"column":4},"generated":{"line":2,"column":774}},{"source":"../../../src/classes/texture-3d.js","name":"gl","original":{"line":42,"column":9},"generated":{"line":2,"column":779}},{"source":"../../../src/classes/texture-3d.js","name":"bindTexture","original":{"line":42,"column":12},"generated":{"line":2,"column":782}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":42,"column":24},"generated":{"line":2,"column":794}},{"source":"../../../src/classes/texture-3d.js","name":"target","original":{"line":42,"column":29},"generated":{"line":2,"column":799}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":42,"column":37},"generated":{"line":2,"column":806}},{"source":"../../../src/classes/texture-3d.js","name":"handle","original":{"line":42,"column":42},"generated":{"line":2,"column":811}},{"source":"../../../src/classes/texture-3d.js","name":"withParameters","original":{"line":44,"column":4},"generated":{"line":2,"column":820}},{"source":"../../../src/classes/texture-3d.js","name":"withParameters","original":{"line":44,"column":4},"generated":{"line":2,"column":822}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":44,"column":18},"generated":{"line":2,"column":824}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":44,"column":19},"generated":{"line":2,"column":840}},{"source":"../../../src/classes/texture-3d.js","name":"gl","original":{"line":44,"column":24},"generated":{"line":2,"column":845}},{"source":"../../../src/classes/texture-3d.js","name":"parameters","original":{"line":44,"column":28},"generated":{"line":2,"column":848}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":44,"column":40},"generated":{"line":2,"column":850}},{"source":"../../../src/classes/texture-3d.js","name":"ArrayBuffer","original":{"line":45,"column":10},"generated":{"line":2,"column":855}},{"source":"../../../src/classes/texture-3d.js","name":"isView","original":{"line":45,"column":22},"generated":{"line":2,"column":867}},{"source":"../../../src/classes/texture-3d.js","name":"data","original":{"line":45,"column":29},"generated":{"line":2,"column":874}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":47,"column":8},"generated":{"line":2,"column":878}},{"source":"../../../src/classes/texture-3d.js","name":"gl","original":{"line":47,"column":13},"generated":{"line":2,"column":883}},{"source":"../../../src/classes/texture-3d.js","name":"texImage3D","original":{"line":47,"column":16},"generated":{"line":2,"column":886}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":48,"column":10},"generated":{"line":2,"column":897}},{"source":"../../../src/classes/texture-3d.js","name":"target","original":{"line":48,"column":15},"generated":{"line":2,"column":902}},{"source":"../../../src/classes/texture-3d.js","name":"level","original":{"line":49,"column":10},"generated":{"line":2,"column":909}},{"source":"../../../src/classes/texture-3d.js","name":"dataFormat","original":{"line":50,"column":10},"generated":{"line":2,"column":911}},{"source":"../../../src/classes/texture-3d.js","name":"width","original":{"line":51,"column":10},"generated":{"line":2,"column":913}},{"source":"../../../src/classes/texture-3d.js","name":"height","original":{"line":52,"column":10},"generated":{"line":2,"column":915}},{"source":"../../../src/classes/texture-3d.js","name":"depth","original":{"line":53,"column":10},"generated":{"line":2,"column":917}},{"source":"../../../src/classes/texture-3d.js","name":"border","original":{"line":54,"column":10},"generated":{"line":2,"column":919}},{"source":"../../../src/classes/texture-3d.js","name":"format","original":{"line":55,"column":10},"generated":{"line":2,"column":921}},{"source":"../../../src/classes/texture-3d.js","name":"type","original":{"line":56,"column":10},"generated":{"line":2,"column":923}},{"source":"../../../src/classes/texture-3d.js","name":"data","original":{"line":57,"column":10},"generated":{"line":2,"column":925}},{"source":"../../../src/classes/texture-3d.js","name":"data","original":{"line":61,"column":10},"generated":{"line":2,"column":928}},{"source":"../../../src/classes/texture-3d.js","name":"Buffer","original":{"line":61,"column":26},"generated":{"line":2,"column":941}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":61,"column":6},"generated":{"line":2,"column":943}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":62,"column":8},"generated":{"line":2,"column":953}},{"source":"../../../src/classes/texture-3d.js","name":"gl","original":{"line":62,"column":13},"generated":{"line":2,"column":958}},{"source":"../../../src/classes/texture-3d.js","name":"bindBuffer","original":{"line":62,"column":16},"generated":{"line":2,"column":961}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":62,"column":8},"generated":{"line":2,"column":972}},{"source":"../../../src/classes/texture-3d.js","name":"data","original":{"line":62,"column":51},"generated":{"line":2,"column":978}},{"source":"../../../src/classes/texture-3d.js","name":"handle","original":{"line":62,"column":56},"generated":{"line":2,"column":980}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":64,"column":8},"generated":{"line":2,"column":988}},{"source":"../../../src/classes/texture-3d.js","name":"gl","original":{"line":64,"column":13},"generated":{"line":2,"column":993}},{"source":"../../../src/classes/texture-3d.js","name":"texImage3D","original":{"line":64,"column":16},"generated":{"line":2,"column":996}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":65,"column":10},"generated":{"line":2,"column":1007}},{"source":"../../../src/classes/texture-3d.js","name":"target","original":{"line":65,"column":15},"generated":{"line":2,"column":1012}},{"source":"../../../src/classes/texture-3d.js","name":"level","original":{"line":66,"column":10},"generated":{"line":2,"column":1019}},{"source":"../../../src/classes/texture-3d.js","name":"dataFormat","original":{"line":67,"column":10},"generated":{"line":2,"column":1021}},{"source":"../../../src/classes/texture-3d.js","name":"width","original":{"line":68,"column":10},"generated":{"line":2,"column":1023}},{"source":"../../../src/classes/texture-3d.js","name":"height","original":{"line":69,"column":10},"generated":{"line":2,"column":1025}},{"source":"../../../src/classes/texture-3d.js","name":"depth","original":{"line":70,"column":10},"generated":{"line":2,"column":1027}},{"source":"../../../src/classes/texture-3d.js","name":"border","original":{"line":71,"column":10},"generated":{"line":2,"column":1029}},{"source":"../../../src/classes/texture-3d.js","name":"format","original":{"line":72,"column":10},"generated":{"line":2,"column":1031}},{"source":"../../../src/classes/texture-3d.js","name":"type","original":{"line":73,"column":10},"generated":{"line":2,"column":1033}},{"source":"../../../src/classes/texture-3d.js","name":"offset","original":{"line":74,"column":10},"generated":{"line":2,"column":1035}},{"source":"../../../src/classes/texture-3d.js","name":"data","original":{"line":79,"column":8},"generated":{"line":2,"column":1041}},{"source":"../../../src/classes/texture-3d.js","name":"data","original":{"line":79,"column":16},"generated":{"line":2,"column":1044}},{"source":"../../../src/classes/texture-3d.js","name":"byteLength","original":{"line":79,"column":21},"generated":{"line":2,"column":1046}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":80,"column":6},"generated":{"line":2,"column":1057}},{"source":"../../../src/classes/texture-3d.js","name":"_trackAllocatedMemory","original":{"line":80,"column":11},"generated":{"line":2,"column":1062}},{"source":"../../../src/classes/texture-3d.js","name":"data","original":{"line":80,"column":33},"generated":{"line":2,"column":1084}},{"source":"../../../src/classes/texture-3d.js","name":"byteLength","original":{"line":80,"column":38},"generated":{"line":2,"column":1086}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":80,"column":50},"generated":{"line":2,"column":1097}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":81,"column":11},"generated":{"line":2,"column":1112}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":84,"column":6},"generated":{"line":2,"column":1113}},{"source":"../../../src/classes/texture-3d.js","name":"channels","original":{"line":84,"column":12},"generated":{"line":2,"column":1119}},{"source":"../../../src/classes/texture-3d.js","name":"DATA_FORMAT_CHANNELS","original":{"line":84,"column":23},"generated":{"line":2,"column":1121}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":84,"column":43},"generated":{"line":2,"column":1123}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":84,"column":44},"generated":{"line":2,"column":1144}},{"source":"../../../src/classes/texture-3d.js","name":"dataFormat","original":{"line":84,"column":49},"generated":{"line":2,"column":1149}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":84,"column":64},"generated":{"line":2,"column":1162}},{"source":"../../../src/classes/texture-3d.js","name":"channelSize","original":{"line":86,"column":12},"generated":{"line":2,"column":1164}},{"source":"../../../src/classes/texture-3d.js","name":"TYPE_SIZES","original":{"line":86,"column":26},"generated":{"line":2,"column":1166}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":86,"column":36},"generated":{"line":2,"column":1168}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":86,"column":37},"generated":{"line":2,"column":1179}},{"source":"../../../src/classes/texture-3d.js","name":"type","original":{"line":86,"column":42},"generated":{"line":2,"column":1184}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":86,"column":51},"generated":{"line":2,"column":1191}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":88,"column":6},"generated":{"line":2,"column":1193}},{"source":"../../../src/classes/texture-3d.js","name":"_trackAllocatedMemory","original":{"line":88,"column":11},"generated":{"line":2,"column":1198}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":89,"column":8},"generated":{"line":2,"column":1220}},{"source":"../../../src/classes/texture-3d.js","name":"width","original":{"line":89,"column":13},"generated":{"line":2,"column":1225}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":89,"column":21},"generated":{"line":2,"column":1231}},{"source":"../../../src/classes/texture-3d.js","name":"height","original":{"line":89,"column":26},"generated":{"line":2,"column":1236}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":89,"column":35},"generated":{"line":2,"column":1243}},{"source":"../../../src/classes/texture-3d.js","name":"depth","original":{"line":89,"column":40},"generated":{"line":2,"column":1248}},{"source":"../../../src/classes/texture-3d.js","name":"channels","original":{"line":89,"column":48},"generated":{"line":2,"column":1254}},{"source":"../../../src/classes/texture-3d.js","name":"channelSize","original":{"line":89,"column":59},"generated":{"line":2,"column":1256}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":90,"column":8},"generated":{"line":2,"column":1258}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":96,"column":4},"generated":{"line":2,"column":1269}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":94,"column":4},"generated":{"line":2,"column":1276}},{"source":"../../../src/classes/texture-3d.js","name":"loaded","original":{"line":94,"column":9},"generated":{"line":2,"column":1281}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":94,"column":18},"generated":{"line":2,"column":1289}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":96,"column":11},"generated":{"line":2,"column":1291}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":47},"generated":{"line":2,"column":1297}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":47},"generated":{"line":2,"column":1305}},{"source":"../../../src/classes/texture-3d.js","name":null,"original":{"line":7,"column":47},"generated":{"line":2,"column":1313}}],"sources":{"../../../src/classes/texture-3d.js":"import GL from '@luma.gl/constants';\nimport {isWebGL2, assertWebGL2Context, withParameters} from '@luma.gl/gltools';\nimport Texture from './texture';\nimport {DATA_FORMAT_CHANNELS, TYPE_SIZES} from './texture-formats';\nimport Buffer from './buffer';\n\nexport default class Texture3D extends Texture {\n  // eslint-disable-next-line accessor-pairs\n  get [Symbol.toStringTag]() {\n    return 'Texture3D';\n  }\n\n  static isSupported(gl) {\n    return isWebGL2(gl);\n  }\n\n  constructor(gl, props = {}) {\n    assertWebGL2Context(gl);\n    props = Object.assign({depth: 1}, props, {target: GL.TEXTURE_3D, unpackFlipY: false});\n    super(gl, props);\n    this.initialize(props);\n\n    Object.seal(this);\n  }\n\n  // Image 3D copies from Typed Array or WebGLBuffer\n  setImageData({\n    level = 0,\n    dataFormat = GL.RGBA,\n    width,\n    height,\n    depth = 1,\n    border = 0,\n    format,\n    type = GL.UNSIGNED_BYTE,\n    offset = 0,\n    data,\n    parameters = {}\n  }) {\n    this._trackDeallocatedMemory('Texture');\n\n    this.gl.bindTexture(this.target, this.handle);\n\n    withParameters(this.gl, parameters, () => {\n      if (ArrayBuffer.isView(data)) {\n        // @ts-ignore\n        this.gl.texImage3D(\n          this.target,\n          level,\n          dataFormat,\n          width,\n          height,\n          depth,\n          border,\n          format,\n          type,\n          data\n        );\n      }\n\n      if (data instanceof Buffer) {\n        this.gl.bindBuffer(GL.PIXEL_UNPACK_BUFFER, data.handle);\n        // @ts-ignore\n        this.gl.texImage3D(\n          this.target,\n          level,\n          dataFormat,\n          width,\n          height,\n          depth,\n          border,\n          format,\n          type,\n          offset\n        );\n      }\n    });\n\n    if (data && data.byteLength) {\n      this._trackAllocatedMemory(data.byteLength, 'Texture');\n    } else {\n      // NOTE(Tarek): Default to RGBA bytes\n      // @ts-ignore\n      const channels = DATA_FORMAT_CHANNELS[this.dataFormat] || 4;\n      // @ts-ignore\n      const channelSize = TYPE_SIZES[this.type] || 1;\n\n      this._trackAllocatedMemory(\n        this.width * this.height * this.depth * channels * channelSize,\n        'Texture'\n      );\n    }\n\n    this.loaded = true;\n\n    return this;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"9ea0e72ffce8cca5bf3807ec2a7afa37","cacheData":{"env":{}}}