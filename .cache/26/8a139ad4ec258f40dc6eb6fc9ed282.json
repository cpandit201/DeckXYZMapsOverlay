{"id":"node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-api/validate-worker-version.js","dependencies":[{"name":"/project/home/cpandit201/workspace/node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-api/validate-worker-version.js.map","includedInParent":true,"mtime":1688284132508},{"name":"/project/home/cpandit201/workspace/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/home/cpandit201/workspace/node_modules/@loaders.gl/worker-utils/package.json","includedInParent":true,"mtime":1688284132508},{"name":"../env-utils/assert","loc":{"line":1,"column":23,"index":23},"parent":"/project/home/cpandit201/workspace/node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-api/validate-worker-version.js","resolved":"/project/home/cpandit201/workspace/node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/assert.js"},{"name":"../env-utils/version","loc":{"line":2,"column":24,"index":70},"parent":"/project/home/cpandit201/workspace/node_modules/@loaders.gl/worker-utils/dist/esm/lib/worker-api/validate-worker-version.js","resolved":"/project/home/cpandit201/workspace/node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/version.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateWorkerVersion = validateWorkerVersion;\nvar _assert = require(\"../env-utils/assert\");\nvar _version = require(\"../env-utils/version\");\nfunction validateWorkerVersion(worker) {\n  let coreVersion = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _version.VERSION;\n  (0, _assert.assert)(worker, 'no worker provided');\n  const workerVersion = worker.version;\n  if (!coreVersion || !workerVersion) {\n    return false;\n  }\n  return true;\n}\nfunction parseVersion(version) {\n  const parts = version.split('.').map(Number);\n  return {\n    major: parts[0],\n    minor: parts[1]\n  };\n}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":0}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":4}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":11}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":14}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":21}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":8,"column":0}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":8,"column":4}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":8,"column":12}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":8,"column":15}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":8,"column":22}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":11,"column":7},"generated":{"line":9,"column":0}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"validateWorkerVersion","original":{"line":11,"column":16},"generated":{"line":9,"column":9}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"validateWorkerVersion","original":{"line":11,"column":37},"generated":{"line":9,"column":30}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"worker","original":{"line":12,"column":2},"generated":{"line":9,"column":31}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":12,"column":22},"generated":{"line":9,"column":37}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":14,"column":11},"generated":{"line":9,"column":39}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":14,"column":11},"generated":{"line":10,"column":2}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"coreVersion","original":{"line":13,"column":2},"generated":{"line":10,"column":6}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":10,"column":17}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"arguments","original":{"line":13,"column":21},"generated":{"line":10,"column":20}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":10,"column":29}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"length","original":{"line":13,"column":21},"generated":{"line":10,"column":30}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":10,"column":36}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":10,"column":39}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":10,"column":40}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"arguments","original":{"line":13,"column":21},"generated":{"line":10,"column":44}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":10,"column":53}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":10,"column":54}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":10,"column":55}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":10,"column":56}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"undefined","original":{"line":13,"column":21},"generated":{"line":10,"column":61}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":10,"column":70}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"arguments","original":{"line":13,"column":21},"generated":{"line":10,"column":73}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":10,"column":82}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":10,"column":83}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":10,"column":84}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":10,"column":85}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"VERSION","original":{"line":13,"column":24},"generated":{"line":10,"column":88}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":13,"column":31},"generated":{"line":10,"column":104}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"assert","original":{"line":15,"column":2},"generated":{"line":11,"column":2}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"assert","original":{"line":15,"column":2},"generated":{"line":11,"column":6}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":15,"column":8},"generated":{"line":11,"column":20}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"worker","original":{"line":15,"column":9},"generated":{"line":11,"column":22}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":15,"column":15},"generated":{"line":11,"column":28}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":15,"column":17},"generated":{"line":11,"column":30}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":15,"column":37},"generated":{"line":11,"column":50}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":15,"column":38},"generated":{"line":11,"column":51}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":12,"column":2}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"workerVersion","original":{"line":17,"column":8},"generated":{"line":12,"column":8}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":17,"column":21},"generated":{"line":12,"column":21}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"worker","original":{"line":17,"column":24},"generated":{"line":12,"column":24}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":17,"column":30},"generated":{"line":12,"column":30}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"version","original":{"line":17,"column":31},"generated":{"line":12,"column":31}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":17,"column":38},"generated":{"line":12,"column":38}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":13,"column":2}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":18,"column":6},"generated":{"line":13,"column":6}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"coreVersion","original":{"line":18,"column":7},"generated":{"line":13,"column":7}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":18,"column":18},"generated":{"line":13,"column":18}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":18,"column":22},"generated":{"line":13,"column":22}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"workerVersion","original":{"line":18,"column":23},"generated":{"line":13,"column":23}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":18,"column":36},"generated":{"line":13,"column":36}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":18,"column":38},"generated":{"line":13,"column":38}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":14,"column":4}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":19,"column":11},"generated":{"line":14,"column":11}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":19,"column":16},"generated":{"line":14,"column":16}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":20,"column":2},"generated":{"line":15,"column":2}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":16,"column":2}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":16,"column":9}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":32,"column":13},"generated":{"line":16,"column":13}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":33,"column":0},"generated":{"line":17,"column":0}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":18,"column":0}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"parseVersion","original":{"line":37,"column":9},"generated":{"line":18,"column":9}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"parseVersion","original":{"line":37,"column":21},"generated":{"line":18,"column":21}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"version","original":{"line":37,"column":22},"generated":{"line":18,"column":22}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":37,"column":29},"generated":{"line":18,"column":29}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":37,"column":31},"generated":{"line":18,"column":31}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":19,"column":2}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"parts","original":{"line":38,"column":8},"generated":{"line":19,"column":8}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":38,"column":13},"generated":{"line":19,"column":13}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"version","original":{"line":38,"column":16},"generated":{"line":19,"column":16}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":38,"column":23},"generated":{"line":19,"column":23}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"split","original":{"line":38,"column":24},"generated":{"line":19,"column":24}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":38,"column":29},"generated":{"line":19,"column":29}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":38,"column":30},"generated":{"line":19,"column":30}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":38,"column":33},"generated":{"line":19,"column":33}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":38,"column":34},"generated":{"line":19,"column":34}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"map","original":{"line":38,"column":35},"generated":{"line":19,"column":35}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":38,"column":38},"generated":{"line":19,"column":38}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"Number","original":{"line":38,"column":39},"generated":{"line":19,"column":39}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":38,"column":45},"generated":{"line":19,"column":45}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":38,"column":46},"generated":{"line":19,"column":46}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":20,"column":2}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":20,"column":9}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"major","original":{"line":39,"column":10},"generated":{"line":21,"column":4}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":39,"column":15},"generated":{"line":21,"column":9}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"parts","original":{"line":39,"column":17},"generated":{"line":21,"column":11}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":39,"column":22},"generated":{"line":21,"column":16}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":39,"column":23},"generated":{"line":21,"column":17}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":39,"column":24},"generated":{"line":21,"column":18}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":39,"column":25},"generated":{"line":21,"column":19}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"minor","original":{"line":39,"column":27},"generated":{"line":22,"column":4}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":39,"column":32},"generated":{"line":22,"column":9}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":"parts","original":{"line":39,"column":34},"generated":{"line":22,"column":11}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":39,"column":39},"generated":{"line":22,"column":16}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":39,"column":40},"generated":{"line":22,"column":17}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":39,"column":41},"generated":{"line":22,"column":18}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":39,"column":42},"generated":{"line":23,"column":2}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":39,"column":43},"generated":{"line":23,"column":3}},{"source":"../../../../src/lib/worker-api/validate-worker-version.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":24,"column":0}}],"sources":{"../../../../src/lib/worker-api/validate-worker-version.ts":"import type {WorkerObject} from '../../types';\nimport {assert} from '../env-utils/assert';\nimport {VERSION} from '../env-utils/version';\n\n/**\n * Check if worker is compatible with this library version\n * @param worker\n * @param libVersion\n * @returns `true` if the two versions are compatible\n */\nexport function validateWorkerVersion(\n  worker: WorkerObject,\n  coreVersion: string = VERSION\n): boolean {\n  assert(worker, 'no worker provided');\n\n  const workerVersion = worker.version;\n  if (!coreVersion || !workerVersion) {\n    return false;\n  }\n\n  // TODO enable when fix the __version__ injection\n  // const coreVersions = parseVersion(coreVersion);\n  // const workerVersions = parseVersion(workerVersion);\n  // assert(\n  //   coreVersion.major === workerVersion.major && coreVersion.minor <= workerVersion.minor,\n  //   `worker: ${worker.name} is not compatible. ${coreVersion.major}.${\n  //     coreVersion.minor\n  //   }+ is required.`\n  // );\n\n  return true;\n}\n\n// @ts-ignore\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction parseVersion(version) {\n  const parts = version.split('.').map(Number);\n  return {major: parts[0], minor: parts[1]};\n}\n"},"lineCount":null}},"error":null,"hash":"bf58c509aa6c8521b46d3457978adedc","cacheData":{"env":{}}}