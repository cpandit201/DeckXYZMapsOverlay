{"id":"m8xf","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/layer-manager.js.map","includedInParent":true,"mtime":1688284130514},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/package.json","includedInParent":true,"mtime":1688284130514},{"name":"@babel/runtime/helpers/esm/defineProperty","loc":{"line":1,"column":28,"index":28},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/layer-manager.js","resolved":"/project/deck-gl-examples-01/node_modules/@babel/runtime/helpers/esm/defineProperty.js"},{"name":"@luma.gl/core","loc":{"line":2,"column":25,"index":98},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/layer-manager.js","resolved":"/project/deck-gl-examples-01/node_modules/@luma.gl/core/dist/esm/index.js"},{"name":"../lifecycle/constants","loc":{"line":3,"column":26,"index":141},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/layer-manager.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lifecycle/constants.js"},{"name":"../utils/log","loc":{"line":4,"column":16,"index":183},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/layer-manager.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/utils/log.js"},{"name":"../debug","loc":{"line":5,"column":18,"index":217},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/layer-manager.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/debug/index.js"},{"name":"../utils/flatten","loc":{"line":6,"column":24,"index":253},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/layer-manager.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/utils/flatten.js"},{"name":"@probe.gl/stats","loc":{"line":7,"column":22,"index":295},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/layer-manager.js","resolved":"/project/deck-gl-examples-01/node_modules/@probe.gl/stats/dist/esm/index.js"},{"name":"./resource/resource-manager","loc":{"line":8,"column":28,"index":342},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/layer-manager.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/resource/resource-manager.js"},{"name":"../viewports/viewport","loc":{"line":9,"column":21,"index":394},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/layer-manager.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/viewports/viewport.js"},{"name":"../shaderlib","loc":{"line":10,"column":37,"index":456},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/layer-manager.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/shaderlib/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=c(require(\"@babel/runtime/helpers/esm/defineProperty\")),t=require(\"@luma.gl/core\"),r=require(\"../lifecycle/constants\"),a=c(require(\"../utils/log\")),s=c(require(\"../debug\")),i=require(\"../utils/flatten\"),n=require(\"@probe.gl/stats\"),l=c(require(\"./resource/resource-manager\")),d=c(require(\"../viewports/viewport\")),o=require(\"../shaderlib\");function c(e){return e&&e.__esModule?e:{default:e}}const u=\"layerManager.setLayers\",h=\"layerManager.activateViewport\";class y{constructor(r,{deck:a,stats:i,viewport:c,timeline:u}={}){(0,e.default)(this,\"layers\",void 0),(0,e.default)(this,\"context\",void 0),(0,e.default)(this,\"resourceManager\",void 0),(0,e.default)(this,\"_lastRenderedLayers\",[]),(0,e.default)(this,\"_needsRedraw\",!1),(0,e.default)(this,\"_needsUpdate\",!1),(0,e.default)(this,\"_nextLayers\",null),(0,e.default)(this,\"_debug\",!1),(0,e.default)(this,\"activateViewport\",e=>{(0,s.default)(h,this,e),e&&(this.context.viewport=e)}),this.layers=[],this.resourceManager=new l.default({gl:r,protocol:\"deck://\"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:r,deck:a,programManager:r&&(0,o.createProgramManager)(r),stats:i||new n.Stats({id:\"deck.gl\"}),viewport:c||new d.default({id:\"DEFAULT-INITIAL-VIEWPORT\"}),timeline:u||new t.Timeline,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const r of this.layers){const a=r.getNeedsRedraw(e);t=t||a}return t}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?\"layers changed\":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e}={}){return e?this.layers.filter(t=>e.find(e=>0===t.id.indexOf(e))):this.layers}setProps(e){\"debug\"in e&&(this._debug=e.debug),\"userData\"in e&&(this.context.userData=e.userData),\"layers\"in e&&(this._nextLayers=e.layers),\"onError\"in e&&(this.context.onError=e.onError)}setLayers(e,t){(0,s.default)(u,this,t,e),this._lastRenderedLayers=e;const r=(0,i.flatten)(e,Boolean);for(const a of r)a.context=this.context;this._updateLayers(this.layers,r)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw(\"updating layers: \".concat(e)),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}_handleError(e,t,r){r.raiseError(t,\"\".concat(e,\" of \").concat(r))}_updateLayers(e,t){const r={};for(const n of e)r[n.id]?a.default.warn(\"Multiple old layers with same id \".concat(n.id))():r[n.id]=n;const s=[];this._updateSublayersRecursively(t,r,s),this._finalizeOldLayers(r);let i=!1;for(const a of s)if(a.hasUniformTransition()){i=\"Uniform transition in \".concat(a);break}this._needsUpdate=i,this.layers=s}_updateSublayersRecursively(e,t,r){for(const i of e){i.context=this.context;const e=t[i.id];null===e&&a.default.warn(\"Multiple new layers with same id \".concat(i.id))(),t[i.id]=null;let n=null;try{this._debug&&e!==i&&i.validateProps(),e?(this._transferLayerState(e,i),this._updateLayer(i)):this._initializeLayer(i),r.push(i),n=i.isComposite?i.getSubLayers():null}catch(s){this._handleError(\"matching\",s,i)}n&&this._updateSublayersRecursively(n,t,r)}}_finalizeOldLayers(e){for(const t in e){const r=e[t];r&&this._finalizeLayer(r)}}_initializeLayer(e){try{e._initialize(),e.lifecycle=r.LIFECYCLE.INITIALIZED}catch(t){this._handleError(\"initialization\",t,e)}}_transferLayerState(e,t){t._transferState(e),t.lifecycle=r.LIFECYCLE.MATCHED,t!==e&&(e.lifecycle=r.LIFECYCLE.AWAITING_GC)}_updateLayer(e){try{e._update()}catch(t){this._handleError(\"update\",t,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||\"finalized \".concat(e),e.lifecycle=r.LIFECYCLE.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=r.LIFECYCLE.FINALIZED}catch(t){this._handleError(\"finalization\",t,e)}}}exports.default=y;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":0}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":13}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":20}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":35}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":43}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":56}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":57}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":64}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":68}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":76}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":89}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":91}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":95}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":97}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":99}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":107}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":153}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":155}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":163}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":180}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":182}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":190}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":216}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":218}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":220}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":228}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":245}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":247}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":249}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":257}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":270}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":272}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":280}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":300}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":302}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":310}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":329}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":331}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":333}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":341}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":373}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":375}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":377}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":385}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":411}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":413}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":421}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":437}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":446}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":448}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":451}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":458}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":461}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":463}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":474}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":476}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":477}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":485}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":488}},{"source":"../../../src/lib/layer-manager.ts","name":"TRACE_SET_LAYERS","original":{"line":37,"column":6},"generated":{"line":1,"column":494}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":37,"column":25},"generated":{"line":1,"column":496}},{"source":"../../../src/lib/layer-manager.ts","name":"TRACE_ACTIVATE_VIEWPORT","original":{"line":38,"column":6},"generated":{"line":1,"column":521}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":38,"column":32},"generated":{"line":1,"column":523}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":15},"generated":{"line":1,"column":555}},{"source":"../../../src/lib/layer-manager.ts","name":"LayerManager","original":{"line":56,"column":21},"generated":{"line":1,"column":561}},{"source":"../../../src/lib/layer-manager.ts","name":"constructor","original":{"line":68,"column":2},"generated":{"line":1,"column":563}},{"source":"../../../src/lib/layer-manager.ts","name":"gl","original":{"line":69,"column":4},"generated":{"line":1,"column":575}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":1,"column":578}},{"source":"../../../src/lib/layer-manager.ts","name":"deck","original":{"line":71,"column":6},"generated":{"line":1,"column":583}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":1,"column":585}},{"source":"../../../src/lib/layer-manager.ts","name":"stats","original":{"line":72,"column":6},"generated":{"line":1,"column":591}},{"source":"../../../src/lib/layer-manager.ts","name":"viewport","original":{"line":73,"column":6},"generated":{"line":1,"column":593}},{"source":"../../../src/lib/layer-manager.ts","name":"viewport","original":{"line":73,"column":6},"generated":{"line":1,"column":602}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":1,"column":604}},{"source":"../../../src/lib/layer-manager.ts","name":"timeline","original":{"line":74,"column":6},"generated":{"line":1,"column":613}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":80,"column":8},"generated":{"line":1,"column":616}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":621}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":623}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":625}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":634}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":639}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":653}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":657}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":659}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":661}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":670}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":675}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":690}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":694}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":696}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":698}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":707}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":712}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":735}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":739}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":741}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":743}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":752}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":757}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":61,"column":44},"generated":{"line":1,"column":779}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":784}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":786}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":788}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":797}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":802}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":62,"column":41},"generated":{"line":1,"column":818}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":822}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":824}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":826}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":835}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":840}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":63,"column":41},"generated":{"line":1,"column":856}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":860}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":862}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":864}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":873}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":878}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":64,"column":43},"generated":{"line":1,"column":892}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":899}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":901}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":903}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":912}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":917}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":65,"column":28},"generated":{"line":1,"column":927}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":931}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":933}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":935}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":944}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":949}},{"source":"../../../src/lib/layer-manager.ts","name":"viewport","original":{"line":229,"column":22},"generated":{"line":1,"column":968}},{"source":"../../../src/lib/layer-manager.ts","name":"debug","original":{"line":230,"column":4},"generated":{"line":1,"column":973}},{"source":"../../../src/lib/layer-manager.ts","name":"debug","original":{"line":230,"column":4},"generated":{"line":1,"column":975}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":230,"column":9},"generated":{"line":1,"column":977}},{"source":"../../../src/lib/layer-manager.ts","name":"TRACE_ACTIVATE_VIEWPORT","original":{"line":230,"column":10},"generated":{"line":1,"column":986}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":230,"column":35},"generated":{"line":1,"column":988}},{"source":"../../../src/lib/layer-manager.ts","name":"viewport","original":{"line":230,"column":41},"generated":{"line":1,"column":993}},{"source":"../../../src/lib/layer-manager.ts","name":"viewport","original":{"line":231,"column":8},"generated":{"line":1,"column":996}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":232,"column":6},"generated":{"line":1,"column":1000}},{"source":"../../../src/lib/layer-manager.ts","name":"context","original":{"line":232,"column":11},"generated":{"line":1,"column":1005}},{"source":"../../../src/lib/layer-manager.ts","name":"viewport","original":{"line":232,"column":19},"generated":{"line":1,"column":1013}},{"source":"../../../src/lib/layer-manager.ts","name":"viewport","original":{"line":232,"column":30},"generated":{"line":1,"column":1022}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":91,"column":4},"generated":{"line":1,"column":1027}},{"source":"../../../src/lib/layer-manager.ts","name":"layers","original":{"line":91,"column":9},"generated":{"line":1,"column":1032}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":91,"column":18},"generated":{"line":1,"column":1039}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":92,"column":4},"generated":{"line":1,"column":1042}},{"source":"../../../src/lib/layer-manager.ts","name":"resourceManager","original":{"line":92,"column":9},"generated":{"line":1,"column":1047}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":92,"column":27},"generated":{"line":1,"column":1063}},{"source":"../../../src/lib/layer-manager.ts","name":"ResourceManager","original":{"line":92,"column":31},"generated":{"line":1,"column":1067}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":92,"column":27},"generated":{"line":1,"column":1069}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":92,"column":47},"generated":{"line":1,"column":1077}},{"source":"../../../src/lib/layer-manager.ts","name":"gl","original":{"line":92,"column":48},"generated":{"line":1,"column":1078}},{"source":"../../../src/lib/layer-manager.ts","name":"gl","original":{"line":92,"column":48},"generated":{"line":1,"column":1081}},{"source":"../../../src/lib/layer-manager.ts","name":"protocol","original":{"line":92,"column":52},"generated":{"line":1,"column":1083}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":92,"column":62},"generated":{"line":1,"column":1092}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":94,"column":4},"generated":{"line":1,"column":1104}},{"source":"../../../src/lib/layer-manager.ts","name":"context","original":{"line":94,"column":9},"generated":{"line":1,"column":1109}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":94,"column":19},"generated":{"line":1,"column":1117}},{"source":"../../../src/lib/layer-manager.ts","name":"mousePosition","original":{"line":95,"column":6},"generated":{"line":1,"column":1118}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":95,"column":21},"generated":{"line":1,"column":1132}},{"source":"../../../src/lib/layer-manager.ts","name":"userData","original":{"line":96,"column":6},"generated":{"line":1,"column":1137}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":96,"column":16},"generated":{"line":1,"column":1146}},{"source":"../../../src/lib/layer-manager.ts","name":"layerManager","original":{"line":97,"column":6},"generated":{"line":1,"column":1149}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":97,"column":20},"generated":{"line":1,"column":1162}},{"source":"../../../src/lib/layer-manager.ts","name":"gl","original":{"line":98,"column":6},"generated":{"line":1,"column":1167}},{"source":"../../../src/lib/layer-manager.ts","name":"gl","original":{"line":98,"column":6},"generated":{"line":1,"column":1170}},{"source":"../../../src/lib/layer-manager.ts","name":"deck","original":{"line":99,"column":6},"generated":{"line":1,"column":1172}},{"source":"../../../src/lib/layer-manager.ts","name":"deck","original":{"line":99,"column":6},"generated":{"line":1,"column":1177}},{"source":"../../../src/lib/layer-manager.ts","name":"programManager","original":{"line":101,"column":6},"generated":{"line":1,"column":1179}},{"source":"../../../src/lib/layer-manager.ts","name":"gl","original":{"line":101,"column":22},"generated":{"line":1,"column":1194}},{"source":"../../../src/lib/layer-manager.ts","name":"createProgramManager","original":{"line":101,"column":28},"generated":{"line":1,"column":1198}},{"source":"../../../src/lib/layer-manager.ts","name":"createProgramManager","original":{"line":101,"column":28},"generated":{"line":1,"column":1200}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":101,"column":48},"generated":{"line":1,"column":1202}},{"source":"../../../src/lib/layer-manager.ts","name":"gl","original":{"line":101,"column":49},"generated":{"line":1,"column":1224}},{"source":"../../../src/lib/layer-manager.ts","name":"stats","original":{"line":102,"column":6},"generated":{"line":1,"column":1227}},{"source":"../../../src/lib/layer-manager.ts","name":"stats","original":{"line":102,"column":13},"generated":{"line":1,"column":1233}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":102,"column":22},"generated":{"line":1,"column":1236}},{"source":"../../../src/lib/layer-manager.ts","name":"Stats","original":{"line":102,"column":26},"generated":{"line":1,"column":1240}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":102,"column":22},"generated":{"line":1,"column":1242}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":102,"column":32},"generated":{"line":1,"column":1248}},{"source":"../../../src/lib/layer-manager.ts","name":"id","original":{"line":102,"column":33},"generated":{"line":1,"column":1249}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":102,"column":37},"generated":{"line":1,"column":1252}},{"source":"../../../src/lib/layer-manager.ts","name":"viewport","original":{"line":104,"column":6},"generated":{"line":1,"column":1264}},{"source":"../../../src/lib/layer-manager.ts","name":"viewport","original":{"line":104,"column":16},"generated":{"line":1,"column":1273}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":104,"column":28},"generated":{"line":1,"column":1276}},{"source":"../../../src/lib/layer-manager.ts","name":"Viewport","original":{"line":104,"column":32},"generated":{"line":1,"column":1280}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":104,"column":28},"generated":{"line":1,"column":1282}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":104,"column":41},"generated":{"line":1,"column":1290}},{"source":"../../../src/lib/layer-manager.ts","name":"id","original":{"line":104,"column":42},"generated":{"line":1,"column":1291}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":104,"column":46},"generated":{"line":1,"column":1294}},{"source":"../../../src/lib/layer-manager.ts","name":"timeline","original":{"line":105,"column":6},"generated":{"line":1,"column":1323}},{"source":"../../../src/lib/layer-manager.ts","name":"timeline","original":{"line":105,"column":16},"generated":{"line":1,"column":1332}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":105,"column":28},"generated":{"line":1,"column":1335}},{"source":"../../../src/lib/layer-manager.ts","name":"Timeline","original":{"line":105,"column":32},"generated":{"line":1,"column":1339}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":105,"column":28},"generated":{"line":1,"column":1341}},{"source":"../../../src/lib/layer-manager.ts","name":"resourceManager","original":{"line":106,"column":6},"generated":{"line":1,"column":1350}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":106,"column":23},"generated":{"line":1,"column":1366}},{"source":"../../../src/lib/layer-manager.ts","name":"resourceManager","original":{"line":106,"column":28},"generated":{"line":1,"column":1371}},{"source":"../../../src/lib/layer-manager.ts","name":"onError","original":{"line":107,"column":6},"generated":{"line":1,"column":1387}},{"source":"../../../src/lib/layer-manager.ts","name":"undefined","original":{"line":107,"column":15},"generated":{"line":1,"column":1400}},{"source":"../../../src/lib/layer-manager.ts","name":"Object","original":{"line":110,"column":4},"generated":{"line":1,"column":1403}},{"source":"../../../src/lib/layer-manager.ts","name":"seal","original":{"line":110,"column":11},"generated":{"line":1,"column":1410}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":110,"column":16},"generated":{"line":1,"column":1415}},{"source":"../../../src/lib/layer-manager.ts","name":"finalize","original":{"line":114,"column":2},"generated":{"line":1,"column":1421}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":1,"column":1432}},{"source":"../../../src/lib/layer-manager.ts","name":"resourceManager","original":{"line":115,"column":9},"generated":{"line":1,"column":1437}},{"source":"../../../src/lib/layer-manager.ts","name":"finalize","original":{"line":115,"column":25},"generated":{"line":1,"column":1453}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":117,"column":4},"generated":{"line":1,"column":1464}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":117,"column":9},"generated":{"line":1,"column":1468}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":117,"column":15},"generated":{"line":1,"column":1474}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":117,"column":24},"generated":{"line":1,"column":1479}},{"source":"../../../src/lib/layer-manager.ts","name":"layers","original":{"line":117,"column":29},"generated":{"line":1,"column":1484}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":118,"column":6},"generated":{"line":1,"column":1491}},{"source":"../../../src/lib/layer-manager.ts","name":"_finalizeLayer","original":{"line":118,"column":11},"generated":{"line":1,"column":1496}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":118,"column":26},"generated":{"line":1,"column":1511}},{"source":"../../../src/lib/layer-manager.ts","name":"needsRedraw","original":{"line":123,"column":2},"generated":{"line":1,"column":1514}},{"source":"../../../src/lib/layer-manager.ts","name":"opts","original":{"line":124,"column":4},"generated":{"line":1,"column":1526}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":127,"column":8},"generated":{"line":1,"column":1528}},{"source":"../../../src/lib/layer-manager.ts","name":"clearRedrawFlags","original":{"line":127,"column":9},"generated":{"line":1,"column":1529}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":127,"column":27},"generated":{"line":1,"column":1547}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":129,"column":4},"generated":{"line":1,"column":1551}},{"source":"../../../src/lib/layer-manager.ts","name":"redraw","original":{"line":129,"column":8},"generated":{"line":1,"column":1555}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":129,"column":17},"generated":{"line":1,"column":1557}},{"source":"../../../src/lib/layer-manager.ts","name":"_needsRedraw","original":{"line":129,"column":22},"generated":{"line":1,"column":1562}},{"source":"../../../src/lib/layer-manager.ts","name":"opts","original":{"line":130,"column":8},"generated":{"line":1,"column":1575}},{"source":"../../../src/lib/layer-manager.ts","name":"clearRedrawFlags","original":{"line":130,"column":13},"generated":{"line":1,"column":1577}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":131,"column":6},"generated":{"line":1,"column":1596}},{"source":"../../../src/lib/layer-manager.ts","name":"_needsRedraw","original":{"line":131,"column":11},"generated":{"line":1,"column":1601}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":131,"column":26},"generated":{"line":1,"column":1615}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":135,"column":4},"generated":{"line":1,"column":1618}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":135,"column":9},"generated":{"line":1,"column":1622}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":135,"column":15},"generated":{"line":1,"column":1628}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":135,"column":24},"generated":{"line":1,"column":1633}},{"source":"../../../src/lib/layer-manager.ts","name":"layers","original":{"line":135,"column":29},"generated":{"line":1,"column":1638}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":135,"column":37},"generated":{"line":1,"column":1645}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":137,"column":6},"generated":{"line":1,"column":1646}},{"source":"../../../src/lib/layer-manager.ts","name":"layerNeedsRedraw","original":{"line":137,"column":12},"generated":{"line":1,"column":1652}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":137,"column":31},"generated":{"line":1,"column":1654}},{"source":"../../../src/lib/layer-manager.ts","name":"getNeedsRedraw","original":{"line":137,"column":37},"generated":{"line":1,"column":1656}},{"source":"../../../src/lib/layer-manager.ts","name":"opts","original":{"line":137,"column":52},"generated":{"line":1,"column":1671}},{"source":"../../../src/lib/layer-manager.ts","name":"redraw","original":{"line":138,"column":6},"generated":{"line":1,"column":1674}},{"source":"../../../src/lib/layer-manager.ts","name":"redraw","original":{"line":138,"column":15},"generated":{"line":1,"column":1676}},{"source":"../../../src/lib/layer-manager.ts","name":"layerNeedsRedraw","original":{"line":138,"column":25},"generated":{"line":1,"column":1679}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":141,"column":4},"generated":{"line":1,"column":1681}},{"source":"../../../src/lib/layer-manager.ts","name":"redraw","original":{"line":141,"column":11},"generated":{"line":1,"column":1688}},{"source":"../../../src/lib/layer-manager.ts","name":"needsUpdate","original":{"line":145,"column":2},"generated":{"line":1,"column":1690}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":146,"column":4},"generated":{"line":1,"column":1704}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":146,"column":8},"generated":{"line":1,"column":1711}},{"source":"../../../src/lib/layer-manager.ts","name":"_nextLayers","original":{"line":146,"column":13},"generated":{"line":1,"column":1716}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":146,"column":28},"generated":{"line":1,"column":1729}},{"source":"../../../src/lib/layer-manager.ts","name":"_nextLayers","original":{"line":146,"column":33},"generated":{"line":1,"column":1734}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":146,"column":49},"generated":{"line":1,"column":1748}},{"source":"../../../src/lib/layer-manager.ts","name":"_lastRenderedLayers","original":{"line":146,"column":54},"generated":{"line":1,"column":1753}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":148,"column":13},"generated":{"line":1,"column":1773}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":150,"column":11},"generated":{"line":1,"column":1790}},{"source":"../../../src/lib/layer-manager.ts","name":"_needsUpdate","original":{"line":150,"column":16},"generated":{"line":1,"column":1795}},{"source":"../../../src/lib/layer-manager.ts","name":"setNeedsRedraw","original":{"line":154,"column":2},"generated":{"line":1,"column":1808}},{"source":"../../../src/lib/layer-manager.ts","name":"reason","original":{"line":154,"column":17},"generated":{"line":1,"column":1823}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":155,"column":4},"generated":{"line":1,"column":1826}},{"source":"../../../src/lib/layer-manager.ts","name":"_needsRedraw","original":{"line":155,"column":9},"generated":{"line":1,"column":1831}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":155,"column":24},"generated":{"line":1,"column":1844}},{"source":"../../../src/lib/layer-manager.ts","name":"_needsRedraw","original":{"line":155,"column":29},"generated":{"line":1,"column":1849}},{"source":"../../../src/lib/layer-manager.ts","name":"reason","original":{"line":155,"column":45},"generated":{"line":1,"column":1863}},{"source":"../../../src/lib/layer-manager.ts","name":"setNeedsUpdate","original":{"line":160,"column":2},"generated":{"line":1,"column":1865}},{"source":"../../../src/lib/layer-manager.ts","name":"reason","original":{"line":160,"column":17},"generated":{"line":1,"column":1880}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":161,"column":4},"generated":{"line":1,"column":1883}},{"source":"../../../src/lib/layer-manager.ts","name":"_needsUpdate","original":{"line":161,"column":9},"generated":{"line":1,"column":1888}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":161,"column":24},"generated":{"line":1,"column":1901}},{"source":"../../../src/lib/layer-manager.ts","name":"_needsUpdate","original":{"line":161,"column":29},"generated":{"line":1,"column":1906}},{"source":"../../../src/lib/layer-manager.ts","name":"reason","original":{"line":161,"column":45},"generated":{"line":1,"column":1920}},{"source":"../../../src/lib/layer-manager.ts","name":"getLayers","original":{"line":165,"column":2},"generated":{"line":1,"column":1922}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":165,"column":12},"generated":{"line":1,"column":1933}},{"source":"../../../src/lib/layer-manager.ts","name":"layerIds","original":{"line":165,"column":13},"generated":{"line":1,"column":1942}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":165,"column":48},"generated":{"line":1,"column":1945}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":168,"column":4},"generated":{"line":1,"column":1949}},{"source":"../../../src/lib/layer-manager.ts","name":"layerIds","original":{"line":168,"column":11},"generated":{"line":1,"column":1956}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":169,"column":8},"generated":{"line":1,"column":1958}},{"source":"../../../src/lib/layer-manager.ts","name":"layers","original":{"line":169,"column":13},"generated":{"line":1,"column":1963}},{"source":"../../../src/lib/layer-manager.ts","name":"filter","original":{"line":169,"column":20},"generated":{"line":1,"column":1970}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":169,"column":27},"generated":{"line":1,"column":1977}},{"source":"../../../src/lib/layer-manager.ts","name":"layerIds","original":{"line":169,"column":36},"generated":{"line":1,"column":1980}},{"source":"../../../src/lib/layer-manager.ts","name":"find","original":{"line":169,"column":45},"generated":{"line":1,"column":1982}},{"source":"../../../src/lib/layer-manager.ts","name":"layerId","original":{"line":169,"column":50},"generated":{"line":1,"column":1987}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":169,"column":91},"generated":{"line":1,"column":1990}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":169,"column":61},"generated":{"line":1,"column":1994}},{"source":"../../../src/lib/layer-manager.ts","name":"id","original":{"line":169,"column":67},"generated":{"line":1,"column":1996}},{"source":"../../../src/lib/layer-manager.ts","name":"indexOf","original":{"line":169,"column":70},"generated":{"line":1,"column":1999}},{"source":"../../../src/lib/layer-manager.ts","name":"layerId","original":{"line":169,"column":78},"generated":{"line":1,"column":2007}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":170,"column":8},"generated":{"line":1,"column":2012}},{"source":"../../../src/lib/layer-manager.ts","name":"layers","original":{"line":170,"column":13},"generated":{"line":1,"column":2017}},{"source":"../../../src/lib/layer-manager.ts","name":"setProps","original":{"line":174,"column":2},"generated":{"line":1,"column":2024}},{"source":"../../../src/lib/layer-manager.ts","name":"props","original":{"line":174,"column":11},"generated":{"line":1,"column":2033}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":175,"column":8},"generated":{"line":1,"column":2036}},{"source":"../../../src/lib/layer-manager.ts","name":"props","original":{"line":175,"column":19},"generated":{"line":1,"column":2046}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":176,"column":6},"generated":{"line":1,"column":2050}},{"source":"../../../src/lib/layer-manager.ts","name":"_debug","original":{"line":176,"column":11},"generated":{"line":1,"column":2055}},{"source":"../../../src/lib/layer-manager.ts","name":"props","original":{"line":176,"column":20},"generated":{"line":1,"column":2062}},{"source":"../../../src/lib/layer-manager.ts","name":"debug","original":{"line":176,"column":26},"generated":{"line":1,"column":2064}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":180,"column":8},"generated":{"line":1,"column":2071}},{"source":"../../../src/lib/layer-manager.ts","name":"props","original":{"line":180,"column":22},"generated":{"line":1,"column":2084}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":181,"column":6},"generated":{"line":1,"column":2088}},{"source":"../../../src/lib/layer-manager.ts","name":"context","original":{"line":181,"column":11},"generated":{"line":1,"column":2093}},{"source":"../../../src/lib/layer-manager.ts","name":"userData","original":{"line":181,"column":19},"generated":{"line":1,"column":2101}},{"source":"../../../src/lib/layer-manager.ts","name":"props","original":{"line":181,"column":30},"generated":{"line":1,"column":2110}},{"source":"../../../src/lib/layer-manager.ts","name":"userData","original":{"line":181,"column":36},"generated":{"line":1,"column":2112}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":185,"column":8},"generated":{"line":1,"column":2122}},{"source":"../../../src/lib/layer-manager.ts","name":"props","original":{"line":185,"column":20},"generated":{"line":1,"column":2133}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":186,"column":6},"generated":{"line":1,"column":2137}},{"source":"../../../src/lib/layer-manager.ts","name":"_nextLayers","original":{"line":186,"column":11},"generated":{"line":1,"column":2142}},{"source":"../../../src/lib/layer-manager.ts","name":"props","original":{"line":186,"column":25},"generated":{"line":1,"column":2154}},{"source":"../../../src/lib/layer-manager.ts","name":"layers","original":{"line":186,"column":31},"generated":{"line":1,"column":2156}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":189,"column":8},"generated":{"line":1,"column":2164}},{"source":"../../../src/lib/layer-manager.ts","name":"props","original":{"line":189,"column":21},"generated":{"line":1,"column":2176}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":190,"column":6},"generated":{"line":1,"column":2180}},{"source":"../../../src/lib/layer-manager.ts","name":"context","original":{"line":190,"column":11},"generated":{"line":1,"column":2185}},{"source":"../../../src/lib/layer-manager.ts","name":"onError","original":{"line":190,"column":19},"generated":{"line":1,"column":2193}},{"source":"../../../src/lib/layer-manager.ts","name":"props","original":{"line":190,"column":29},"generated":{"line":1,"column":2201}},{"source":"../../../src/lib/layer-manager.ts","name":"onError","original":{"line":190,"column":35},"generated":{"line":1,"column":2203}},{"source":"../../../src/lib/layer-manager.ts","name":"setLayers","original":{"line":195,"column":2},"generated":{"line":1,"column":2212}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayers","original":{"line":195,"column":12},"generated":{"line":1,"column":2222}},{"source":"../../../src/lib/layer-manager.ts","name":"reason","original":{"line":195,"column":35},"generated":{"line":1,"column":2224}},{"source":"../../../src/lib/layer-manager.ts","name":"debug","original":{"line":196,"column":4},"generated":{"line":1,"column":2228}},{"source":"../../../src/lib/layer-manager.ts","name":"debug","original":{"line":196,"column":4},"generated":{"line":1,"column":2230}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":196,"column":9},"generated":{"line":1,"column":2232}},{"source":"../../../src/lib/layer-manager.ts","name":"TRACE_SET_LAYERS","original":{"line":196,"column":10},"generated":{"line":1,"column":2241}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":196,"column":28},"generated":{"line":1,"column":2243}},{"source":"../../../src/lib/layer-manager.ts","name":"reason","original":{"line":196,"column":34},"generated":{"line":1,"column":2248}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayers","original":{"line":196,"column":42},"generated":{"line":1,"column":2250}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":198,"column":4},"generated":{"line":1,"column":2253}},{"source":"../../../src/lib/layer-manager.ts","name":"_lastRenderedLayers","original":{"line":198,"column":9},"generated":{"line":1,"column":2258}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayers","original":{"line":198,"column":31},"generated":{"line":1,"column":2278}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":200,"column":4},"generated":{"line":1,"column":2280}},{"source":"../../../src/lib/layer-manager.ts","name":"flatLayers","original":{"line":200,"column":10},"generated":{"line":1,"column":2286}},{"source":"../../../src/lib/layer-manager.ts","name":"flatten","original":{"line":200,"column":23},"generated":{"line":1,"column":2289}},{"source":"../../../src/lib/layer-manager.ts","name":"flatten","original":{"line":200,"column":23},"generated":{"line":1,"column":2291}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":200,"column":30},"generated":{"line":1,"column":2293}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayers","original":{"line":200,"column":31},"generated":{"line":1,"column":2302}},{"source":"../../../src/lib/layer-manager.ts","name":"Boolean","original":{"line":200,"column":42},"generated":{"line":1,"column":2304}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":202,"column":4},"generated":{"line":1,"column":2313}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":202,"column":9},"generated":{"line":1,"column":2317}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":202,"column":15},"generated":{"line":1,"column":2323}},{"source":"../../../src/lib/layer-manager.ts","name":"flatLayers","original":{"line":202,"column":24},"generated":{"line":1,"column":2328}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":203,"column":6},"generated":{"line":1,"column":2330}},{"source":"../../../src/lib/layer-manager.ts","name":"context","original":{"line":203,"column":12},"generated":{"line":1,"column":2332}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":203,"column":22},"generated":{"line":1,"column":2340}},{"source":"../../../src/lib/layer-manager.ts","name":"context","original":{"line":203,"column":27},"generated":{"line":1,"column":2345}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":206,"column":4},"generated":{"line":1,"column":2353}},{"source":"../../../src/lib/layer-manager.ts","name":"_updateLayers","original":{"line":206,"column":9},"generated":{"line":1,"column":2358}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":206,"column":23},"generated":{"line":1,"column":2372}},{"source":"../../../src/lib/layer-manager.ts","name":"layers","original":{"line":206,"column":28},"generated":{"line":1,"column":2377}},{"source":"../../../src/lib/layer-manager.ts","name":"flatLayers","original":{"line":206,"column":36},"generated":{"line":1,"column":2384}},{"source":"../../../src/lib/layer-manager.ts","name":"updateLayers","original":{"line":210,"column":2},"generated":{"line":1,"column":2387}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":214,"column":4},"generated":{"line":1,"column":2402}},{"source":"../../../src/lib/layer-manager.ts","name":"reason","original":{"line":214,"column":10},"generated":{"line":1,"column":2408}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":214,"column":19},"generated":{"line":1,"column":2410}},{"source":"../../../src/lib/layer-manager.ts","name":"needsUpdate","original":{"line":214,"column":24},"generated":{"line":1,"column":2415}},{"source":"../../../src/lib/layer-manager.ts","name":"reason","original":{"line":215,"column":8},"generated":{"line":1,"column":2429}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":216,"column":6},"generated":{"line":1,"column":2433}},{"source":"../../../src/lib/layer-manager.ts","name":"setNeedsRedraw","original":{"line":216,"column":11},"generated":{"line":1,"column":2438}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":216,"column":6},"generated":{"line":1,"column":2453}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":216,"column":6},"generated":{"line":1,"column":2473}},{"source":"../../../src/lib/layer-manager.ts","name":"reason","original":{"line":216,"column":46},"generated":{"line":1,"column":2480}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":218,"column":6},"generated":{"line":1,"column":2484}},{"source":"../../../src/lib/layer-manager.ts","name":"setLayers","original":{"line":218,"column":11},"generated":{"line":1,"column":2489}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":218,"column":21},"generated":{"line":1,"column":2499}},{"source":"../../../src/lib/layer-manager.ts","name":"_nextLayers","original":{"line":218,"column":26},"generated":{"line":1,"column":2504}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":218,"column":41},"generated":{"line":1,"column":2517}},{"source":"../../../src/lib/layer-manager.ts","name":"_lastRenderedLayers","original":{"line":218,"column":46},"generated":{"line":1,"column":2522}},{"source":"../../../src/lib/layer-manager.ts","name":"reason","original":{"line":218,"column":67},"generated":{"line":1,"column":2542}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":221,"column":4},"generated":{"line":1,"column":2546}},{"source":"../../../src/lib/layer-manager.ts","name":"_nextLayers","original":{"line":221,"column":9},"generated":{"line":1,"column":2551}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":221,"column":23},"generated":{"line":1,"column":2563}},{"source":"../../../src/lib/layer-manager.ts","name":"_handleError","original":{"line":236,"column":10},"generated":{"line":1,"column":2568}},{"source":"../../../src/lib/layer-manager.ts","name":"stage","original":{"line":236,"column":23},"generated":{"line":1,"column":2581}},{"source":"../../../src/lib/layer-manager.ts","name":"error","original":{"line":236,"column":38},"generated":{"line":1,"column":2583}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":236,"column":52},"generated":{"line":1,"column":2585}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":237,"column":4},"generated":{"line":1,"column":2588}},{"source":"../../../src/lib/layer-manager.ts","name":"raiseError","original":{"line":237,"column":10},"generated":{"line":1,"column":2590}},{"source":"../../../src/lib/layer-manager.ts","name":"error","original":{"line":237,"column":21},"generated":{"line":1,"column":2601}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":237,"column":4},"generated":{"line":1,"column":2603}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":237,"column":4},"generated":{"line":1,"column":2606}},{"source":"../../../src/lib/layer-manager.ts","name":"stage","original":{"line":237,"column":31},"generated":{"line":1,"column":2613}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":237,"column":4},"generated":{"line":1,"column":2615}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":237,"column":4},"generated":{"line":1,"column":2623}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":237,"column":43},"generated":{"line":1,"column":2630}},{"source":"../../../src/lib/layer-manager.ts","name":"_updateLayers","original":{"line":243,"column":10},"generated":{"line":1,"column":2634}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayers","original":{"line":243,"column":24},"generated":{"line":1,"column":2648}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayers","original":{"line":243,"column":44},"generated":{"line":1,"column":2650}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":245,"column":4},"generated":{"line":1,"column":2653}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayerMap","original":{"line":245,"column":10},"generated":{"line":1,"column":2659}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":245,"column":59},"generated":{"line":1,"column":2661}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":246,"column":4},"generated":{"line":1,"column":2664}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":246,"column":9},"generated":{"line":1,"column":2668}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayer","original":{"line":246,"column":15},"generated":{"line":1,"column":2674}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayers","original":{"line":246,"column":27},"generated":{"line":1,"column":2679}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayerMap","original":{"line":247,"column":10},"generated":{"line":1,"column":2681}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayer","original":{"line":247,"column":22},"generated":{"line":1,"column":2683}},{"source":"../../../src/lib/layer-manager.ts","name":"id","original":{"line":247,"column":31},"generated":{"line":1,"column":2685}},{"source":"../../../src/lib/layer-manager.ts","name":"log","original":{"line":248,"column":8},"generated":{"line":1,"column":2689}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":248,"column":11},"generated":{"line":1,"column":2691}},{"source":"../../../src/lib/layer-manager.ts","name":"warn","original":{"line":248,"column":12},"generated":{"line":1,"column":2699}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":248,"column":8},"generated":{"line":1,"column":2704}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":248,"column":8},"generated":{"line":1,"column":2740}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayer","original":{"line":248,"column":53},"generated":{"line":1,"column":2747}},{"source":"../../../src/lib/layer-manager.ts","name":"id","original":{"line":248,"column":62},"generated":{"line":1,"column":2749}},{"source":"../../../src/lib/layer-manager.ts","name":"log","original":{"line":248,"column":8},"generated":{"line":1,"column":2753}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayerMap","original":{"line":250,"column":8},"generated":{"line":1,"column":2756}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayer","original":{"line":250,"column":20},"generated":{"line":1,"column":2758}},{"source":"../../../src/lib/layer-manager.ts","name":"id","original":{"line":250,"column":29},"generated":{"line":1,"column":2760}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayer","original":{"line":250,"column":35},"generated":{"line":1,"column":2764}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":255,"column":4},"generated":{"line":1,"column":2766}},{"source":"../../../src/lib/layer-manager.ts","name":"generatedLayers","original":{"line":255,"column":10},"generated":{"line":1,"column":2772}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":255,"column":37},"generated":{"line":1,"column":2774}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":258,"column":4},"generated":{"line":1,"column":2777}},{"source":"../../../src/lib/layer-manager.ts","name":"_updateSublayersRecursively","original":{"line":258,"column":9},"generated":{"line":1,"column":2782}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayers","original":{"line":258,"column":37},"generated":{"line":1,"column":2810}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayerMap","original":{"line":258,"column":48},"generated":{"line":1,"column":2812}},{"source":"../../../src/lib/layer-manager.ts","name":"generatedLayers","original":{"line":258,"column":61},"generated":{"line":1,"column":2814}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":261,"column":4},"generated":{"line":1,"column":2817}},{"source":"../../../src/lib/layer-manager.ts","name":"_finalizeOldLayers","original":{"line":261,"column":9},"generated":{"line":1,"column":2822}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayerMap","original":{"line":261,"column":28},"generated":{"line":1,"column":2841}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":263,"column":4},"generated":{"line":1,"column":2844}},{"source":"../../../src/lib/layer-manager.ts","name":"needsUpdate","original":{"line":263,"column":8},"generated":{"line":1,"column":2848}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":263,"column":38},"generated":{"line":1,"column":2851}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":264,"column":4},"generated":{"line":1,"column":2853}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":264,"column":9},"generated":{"line":1,"column":2857}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":264,"column":15},"generated":{"line":1,"column":2863}},{"source":"../../../src/lib/layer-manager.ts","name":"generatedLayers","original":{"line":264,"column":24},"generated":{"line":1,"column":2868}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":265,"column":6},"generated":{"line":1,"column":2870}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":265,"column":10},"generated":{"line":1,"column":2873}},{"source":"../../../src/lib/layer-manager.ts","name":"hasUniformTransition","original":{"line":265,"column":16},"generated":{"line":1,"column":2875}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":265,"column":40},"generated":{"line":1,"column":2898}},{"source":"../../../src/lib/layer-manager.ts","name":"needsUpdate","original":{"line":266,"column":8},"generated":{"line":1,"column":2899}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":266,"column":19},"generated":{"line":1,"column":2901}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":266,"column":19},"generated":{"line":1,"column":2926}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":266,"column":47},"generated":{"line":1,"column":2933}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":267,"column":8},"generated":{"line":1,"column":2936}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":271,"column":4},"generated":{"line":1,"column":2942}},{"source":"../../../src/lib/layer-manager.ts","name":"_needsUpdate","original":{"line":271,"column":9},"generated":{"line":1,"column":2947}},{"source":"../../../src/lib/layer-manager.ts","name":"needsUpdate","original":{"line":271,"column":24},"generated":{"line":1,"column":2960}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":272,"column":4},"generated":{"line":1,"column":2962}},{"source":"../../../src/lib/layer-manager.ts","name":"layers","original":{"line":272,"column":9},"generated":{"line":1,"column":2967}},{"source":"../../../src/lib/layer-manager.ts","name":"generatedLayers","original":{"line":272,"column":18},"generated":{"line":1,"column":2974}},{"source":"../../../src/lib/layer-manager.ts","name":"_updateSublayersRecursively","original":{"line":277,"column":10},"generated":{"line":1,"column":2976}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayers","original":{"line":278,"column":4},"generated":{"line":1,"column":3004}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayerMap","original":{"line":279,"column":4},"generated":{"line":1,"column":3006}},{"source":"../../../src/lib/layer-manager.ts","name":"generatedLayers","original":{"line":280,"column":4},"generated":{"line":1,"column":3008}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":282,"column":4},"generated":{"line":1,"column":3011}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":282,"column":9},"generated":{"line":1,"column":3015}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":282,"column":15},"generated":{"line":1,"column":3021}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayers","original":{"line":282,"column":27},"generated":{"line":1,"column":3026}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":282,"column":38},"generated":{"line":1,"column":3028}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":283,"column":6},"generated":{"line":1,"column":3029}},{"source":"../../../src/lib/layer-manager.ts","name":"context","original":{"line":283,"column":15},"generated":{"line":1,"column":3031}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":283,"column":25},"generated":{"line":1,"column":3039}},{"source":"../../../src/lib/layer-manager.ts","name":"context","original":{"line":283,"column":30},"generated":{"line":1,"column":3044}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":286,"column":6},"generated":{"line":1,"column":3052}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayer","original":{"line":286,"column":12},"generated":{"line":1,"column":3058}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayerMap","original":{"line":286,"column":23},"generated":{"line":1,"column":3060}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":286,"column":35},"generated":{"line":1,"column":3062}},{"source":"../../../src/lib/layer-manager.ts","name":"id","original":{"line":286,"column":44},"generated":{"line":1,"column":3064}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":287,"column":23},"generated":{"line":1,"column":3068}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayer","original":{"line":287,"column":10},"generated":{"line":1,"column":3075}},{"source":"../../../src/lib/layer-manager.ts","name":"log","original":{"line":289,"column":8},"generated":{"line":1,"column":3078}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":289,"column":11},"generated":{"line":1,"column":3080}},{"source":"../../../src/lib/layer-manager.ts","name":"warn","original":{"line":289,"column":12},"generated":{"line":1,"column":3088}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":289,"column":8},"generated":{"line":1,"column":3093}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":289,"column":8},"generated":{"line":1,"column":3129}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":289,"column":53},"generated":{"line":1,"column":3136}},{"source":"../../../src/lib/layer-manager.ts","name":"id","original":{"line":289,"column":62},"generated":{"line":1,"column":3138}},{"source":"../../../src/lib/layer-manager.ts","name":"log","original":{"line":289,"column":8},"generated":{"line":1,"column":3142}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayerMap","original":{"line":292,"column":6},"generated":{"line":1,"column":3145}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":292,"column":18},"generated":{"line":1,"column":3147}},{"source":"../../../src/lib/layer-manager.ts","name":"id","original":{"line":292,"column":27},"generated":{"line":1,"column":3149}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":292,"column":33},"generated":{"line":1,"column":3153}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":294,"column":6},"generated":{"line":1,"column":3158}},{"source":"../../../src/lib/layer-manager.ts","name":"sublayers","original":{"line":294,"column":10},"generated":{"line":1,"column":3162}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":294,"column":38},"generated":{"line":1,"column":3164}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":297,"column":6},"generated":{"line":1,"column":3169}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":298,"column":12},"generated":{"line":1,"column":3173}},{"source":"../../../src/lib/layer-manager.ts","name":"_debug","original":{"line":298,"column":17},"generated":{"line":1,"column":3178}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayer","original":{"line":298,"column":27},"generated":{"line":1,"column":3186}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":298,"column":40},"generated":{"line":1,"column":3190}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":299,"column":10},"generated":{"line":1,"column":3193}},{"source":"../../../src/lib/layer-manager.ts","name":"validateProps","original":{"line":299,"column":19},"generated":{"line":1,"column":3195}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayer","original":{"line":302,"column":13},"generated":{"line":1,"column":3211}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":305,"column":10},"generated":{"line":1,"column":3214}},{"source":"../../../src/lib/layer-manager.ts","name":"_transferLayerState","original":{"line":305,"column":15},"generated":{"line":1,"column":3219}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayer","original":{"line":305,"column":35},"generated":{"line":1,"column":3239}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":305,"column":45},"generated":{"line":1,"column":3241}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":306,"column":10},"generated":{"line":1,"column":3244}},{"source":"../../../src/lib/layer-manager.ts","name":"_updateLayer","original":{"line":306,"column":15},"generated":{"line":1,"column":3249}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":306,"column":28},"generated":{"line":1,"column":3262}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":303,"column":10},"generated":{"line":1,"column":3266}},{"source":"../../../src/lib/layer-manager.ts","name":"_initializeLayer","original":{"line":303,"column":15},"generated":{"line":1,"column":3271}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":303,"column":32},"generated":{"line":1,"column":3288}},{"source":"../../../src/lib/layer-manager.ts","name":"generatedLayers","original":{"line":308,"column":8},"generated":{"line":1,"column":3291}},{"source":"../../../src/lib/layer-manager.ts","name":"push","original":{"line":308,"column":24},"generated":{"line":1,"column":3293}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":308,"column":29},"generated":{"line":1,"column":3298}},{"source":"../../../src/lib/layer-manager.ts","name":"sublayers","original":{"line":311,"column":8},"generated":{"line":1,"column":3301}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":311,"column":20},"generated":{"line":1,"column":3303}},{"source":"../../../src/lib/layer-manager.ts","name":"isComposite","original":{"line":311,"column":29},"generated":{"line":1,"column":3305}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":311,"column":44},"generated":{"line":1,"column":3317}},{"source":"../../../src/lib/layer-manager.ts","name":"getSubLayers","original":{"line":311,"column":72},"generated":{"line":1,"column":3319}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":311,"column":89},"generated":{"line":1,"column":3334}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":313,"column":8},"generated":{"line":1,"column":3339}},{"source":"../../../src/lib/layer-manager.ts","name":"err","original":{"line":313,"column":15},"generated":{"line":1,"column":3345}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":314,"column":8},"generated":{"line":1,"column":3348}},{"source":"../../../src/lib/layer-manager.ts","name":"_handleError","original":{"line":314,"column":13},"generated":{"line":1,"column":3353}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":314,"column":26},"generated":{"line":1,"column":3366}},{"source":"../../../src/lib/layer-manager.ts","name":"err","original":{"line":314,"column":38},"generated":{"line":1,"column":3377}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":314,"column":52},"generated":{"line":1,"column":3379}},{"source":"../../../src/lib/layer-manager.ts","name":"sublayers","original":{"line":317,"column":10},"generated":{"line":1,"column":3382}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":318,"column":8},"generated":{"line":1,"column":3385}},{"source":"../../../src/lib/layer-manager.ts","name":"_updateSublayersRecursively","original":{"line":318,"column":13},"generated":{"line":1,"column":3390}},{"source":"../../../src/lib/layer-manager.ts","name":"sublayers","original":{"line":318,"column":41},"generated":{"line":1,"column":3418}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayerMap","original":{"line":318,"column":52},"generated":{"line":1,"column":3420}},{"source":"../../../src/lib/layer-manager.ts","name":"generatedLayers","original":{"line":318,"column":65},"generated":{"line":1,"column":3422}},{"source":"../../../src/lib/layer-manager.ts","name":"_finalizeOldLayers","original":{"line":325,"column":10},"generated":{"line":1,"column":3426}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayerMap","original":{"line":325,"column":29},"generated":{"line":1,"column":3445}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":326,"column":4},"generated":{"line":1,"column":3448}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":326,"column":9},"generated":{"line":1,"column":3452}},{"source":"../../../src/lib/layer-manager.ts","name":"layerId","original":{"line":326,"column":15},"generated":{"line":1,"column":3458}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayerMap","original":{"line":326,"column":26},"generated":{"line":1,"column":3463}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":326,"column":39},"generated":{"line":1,"column":3465}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":327,"column":6},"generated":{"line":1,"column":3466}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":327,"column":12},"generated":{"line":1,"column":3472}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayerMap","original":{"line":327,"column":20},"generated":{"line":1,"column":3474}},{"source":"../../../src/lib/layer-manager.ts","name":"layerId","original":{"line":327,"column":32},"generated":{"line":1,"column":3476}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":328,"column":10},"generated":{"line":1,"column":3479}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":329,"column":8},"generated":{"line":1,"column":3482}},{"source":"../../../src/lib/layer-manager.ts","name":"_finalizeLayer","original":{"line":329,"column":13},"generated":{"line":1,"column":3487}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":329,"column":28},"generated":{"line":1,"column":3502}},{"source":"../../../src/lib/layer-manager.ts","name":"_initializeLayer","original":{"line":337,"column":10},"generated":{"line":1,"column":3506}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":337,"column":27},"generated":{"line":1,"column":3523}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":338,"column":4},"generated":{"line":1,"column":3526}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":339,"column":6},"generated":{"line":1,"column":3530}},{"source":"../../../src/lib/layer-manager.ts","name":"_initialize","original":{"line":339,"column":12},"generated":{"line":1,"column":3532}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":340,"column":6},"generated":{"line":1,"column":3546}},{"source":"../../../src/lib/layer-manager.ts","name":"lifecycle","original":{"line":340,"column":12},"generated":{"line":1,"column":3548}},{"source":"../../../src/lib/layer-manager.ts","name":"LIFECYCLE","original":{"line":340,"column":24},"generated":{"line":1,"column":3558}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":340,"column":33},"generated":{"line":1,"column":3560}},{"source":"../../../src/lib/layer-manager.ts","name":"INITIALIZED","original":{"line":340,"column":34},"generated":{"line":1,"column":3570}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":341,"column":6},"generated":{"line":1,"column":3582}},{"source":"../../../src/lib/layer-manager.ts","name":"err","original":{"line":341,"column":13},"generated":{"line":1,"column":3588}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":342,"column":6},"generated":{"line":1,"column":3591}},{"source":"../../../src/lib/layer-manager.ts","name":"_handleError","original":{"line":342,"column":11},"generated":{"line":1,"column":3596}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":342,"column":24},"generated":{"line":1,"column":3609}},{"source":"../../../src/lib/layer-manager.ts","name":"err","original":{"line":342,"column":42},"generated":{"line":1,"column":3626}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":342,"column":56},"generated":{"line":1,"column":3628}},{"source":"../../../src/lib/layer-manager.ts","name":"_transferLayerState","original":{"line":348,"column":10},"generated":{"line":1,"column":3632}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayer","original":{"line":348,"column":30},"generated":{"line":1,"column":3652}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":348,"column":47},"generated":{"line":1,"column":3654}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":349,"column":4},"generated":{"line":1,"column":3657}},{"source":"../../../src/lib/layer-manager.ts","name":"_transferState","original":{"line":349,"column":13},"generated":{"line":1,"column":3659}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayer","original":{"line":349,"column":28},"generated":{"line":1,"column":3674}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":350,"column":4},"generated":{"line":1,"column":3677}},{"source":"../../../src/lib/layer-manager.ts","name":"lifecycle","original":{"line":350,"column":13},"generated":{"line":1,"column":3679}},{"source":"../../../src/lib/layer-manager.ts","name":"LIFECYCLE","original":{"line":350,"column":25},"generated":{"line":1,"column":3689}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":350,"column":34},"generated":{"line":1,"column":3691}},{"source":"../../../src/lib/layer-manager.ts","name":"MATCHED","original":{"line":350,"column":35},"generated":{"line":1,"column":3701}},{"source":"../../../src/lib/layer-manager.ts","name":"newLayer","original":{"line":352,"column":8},"generated":{"line":1,"column":3709}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayer","original":{"line":352,"column":21},"generated":{"line":1,"column":3713}},{"source":"../../../src/lib/layer-manager.ts","name":"oldLayer","original":{"line":353,"column":6},"generated":{"line":1,"column":3717}},{"source":"../../../src/lib/layer-manager.ts","name":"lifecycle","original":{"line":353,"column":15},"generated":{"line":1,"column":3719}},{"source":"../../../src/lib/layer-manager.ts","name":"LIFECYCLE","original":{"line":353,"column":27},"generated":{"line":1,"column":3729}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":353,"column":36},"generated":{"line":1,"column":3731}},{"source":"../../../src/lib/layer-manager.ts","name":"AWAITING_GC","original":{"line":353,"column":37},"generated":{"line":1,"column":3741}},{"source":"../../../src/lib/layer-manager.ts","name":"_updateLayer","original":{"line":358,"column":10},"generated":{"line":1,"column":3754}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":358,"column":23},"generated":{"line":1,"column":3767}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":359,"column":4},"generated":{"line":1,"column":3770}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":360,"column":6},"generated":{"line":1,"column":3774}},{"source":"../../../src/lib/layer-manager.ts","name":"_update","original":{"line":360,"column":12},"generated":{"line":1,"column":3776}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":361,"column":6},"generated":{"line":1,"column":3786}},{"source":"../../../src/lib/layer-manager.ts","name":"err","original":{"line":361,"column":13},"generated":{"line":1,"column":3792}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":362,"column":6},"generated":{"line":1,"column":3795}},{"source":"../../../src/lib/layer-manager.ts","name":"_handleError","original":{"line":362,"column":11},"generated":{"line":1,"column":3800}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":362,"column":24},"generated":{"line":1,"column":3813}},{"source":"../../../src/lib/layer-manager.ts","name":"err","original":{"line":362,"column":34},"generated":{"line":1,"column":3822}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":362,"column":48},"generated":{"line":1,"column":3824}},{"source":"../../../src/lib/layer-manager.ts","name":"_finalizeLayer","original":{"line":367,"column":10},"generated":{"line":1,"column":3828}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":367,"column":25},"generated":{"line":1,"column":3843}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":368,"column":4},"generated":{"line":1,"column":3846}},{"source":"../../../src/lib/layer-manager.ts","name":"_needsRedraw","original":{"line":368,"column":9},"generated":{"line":1,"column":3851}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":368,"column":24},"generated":{"line":1,"column":3864}},{"source":"../../../src/lib/layer-manager.ts","name":"_needsRedraw","original":{"line":368,"column":29},"generated":{"line":1,"column":3869}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":368,"column":24},"generated":{"line":1,"column":3883}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":368,"column":24},"generated":{"line":1,"column":3896}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":368,"column":58},"generated":{"line":1,"column":3903}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":370,"column":4},"generated":{"line":1,"column":3906}},{"source":"../../../src/lib/layer-manager.ts","name":"lifecycle","original":{"line":370,"column":10},"generated":{"line":1,"column":3908}},{"source":"../../../src/lib/layer-manager.ts","name":"LIFECYCLE","original":{"line":370,"column":22},"generated":{"line":1,"column":3918}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":370,"column":31},"generated":{"line":1,"column":3920}},{"source":"../../../src/lib/layer-manager.ts","name":"AWAITING_FINALIZATION","original":{"line":370,"column":32},"generated":{"line":1,"column":3930}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":372,"column":4},"generated":{"line":1,"column":3952}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":373,"column":6},"generated":{"line":1,"column":3956}},{"source":"../../../src/lib/layer-manager.ts","name":"_finalize","original":{"line":373,"column":12},"generated":{"line":1,"column":3958}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":374,"column":6},"generated":{"line":1,"column":3970}},{"source":"../../../src/lib/layer-manager.ts","name":"lifecycle","original":{"line":374,"column":12},"generated":{"line":1,"column":3972}},{"source":"../../../src/lib/layer-manager.ts","name":"LIFECYCLE","original":{"line":374,"column":24},"generated":{"line":1,"column":3982}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":374,"column":33},"generated":{"line":1,"column":3984}},{"source":"../../../src/lib/layer-manager.ts","name":"FINALIZED","original":{"line":374,"column":34},"generated":{"line":1,"column":3994}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":375,"column":6},"generated":{"line":1,"column":4004}},{"source":"../../../src/lib/layer-manager.ts","name":"err","original":{"line":375,"column":13},"generated":{"line":1,"column":4010}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":376,"column":6},"generated":{"line":1,"column":4013}},{"source":"../../../src/lib/layer-manager.ts","name":"_handleError","original":{"line":376,"column":11},"generated":{"line":1,"column":4018}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":376,"column":24},"generated":{"line":1,"column":4031}},{"source":"../../../src/lib/layer-manager.ts","name":"err","original":{"line":376,"column":40},"generated":{"line":1,"column":4046}},{"source":"../../../src/lib/layer-manager.ts","name":"layer","original":{"line":376,"column":54},"generated":{"line":1,"column":4048}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":4053}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":4061}},{"source":"../../../src/lib/layer-manager.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":4069}}],"sources":{"../../../src/lib/layer-manager.ts":"// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {Timeline} from '@luma.gl/core';\nimport {LIFECYCLE} from '../lifecycle/constants';\nimport log from '../utils/log';\nimport debug from '../debug';\nimport {flatten} from '../utils/flatten';\nimport {Stats} from '@probe.gl/stats';\nimport ResourceManager from './resource/resource-manager';\n\nimport Viewport from '../viewports/viewport';\nimport {createProgramManager} from '../shaderlib';\n\nimport type Layer from './layer';\nimport type CompositeLayer from './composite-layer';\nimport type Deck from './deck';\nimport type {ProgramManager} from '@luma.gl/engine';\n\nconst TRACE_SET_LAYERS = 'layerManager.setLayers';\nconst TRACE_ACTIVATE_VIEWPORT = 'layerManager.activateViewport';\n\nexport type LayerContext = {\n  layerManager: LayerManager;\n  resourceManager: ResourceManager;\n  deck?: Deck;\n  gl: WebGLRenderingContext;\n  programManager: ProgramManager;\n  stats: Stats;\n  viewport: Viewport;\n  timeline: Timeline;\n  mousePosition: {x: number; y: number} | null;\n  userData: any;\n  onError?: <PropsT>(error: Error, source: Layer<PropsT>) => void;\n};\n\nexport type LayersList = (Layer | undefined | false | null | LayersList)[];\n\nexport default class LayerManager {\n  layers: Layer[];\n  context: LayerContext;\n  resourceManager: ResourceManager;\n\n  private _lastRenderedLayers: LayersList = [];\n  private _needsRedraw: string | false = false;\n  private _needsUpdate: string | false = false;\n  private _nextLayers: LayersList | null = null;\n  private _debug: boolean = false;\n\n  // eslint-disable-next-line\n  constructor(\n    gl,\n    {\n      deck,\n      stats,\n      viewport,\n      timeline\n    }: {\n      deck?: Deck;\n      stats?: Stats;\n      viewport?: Viewport;\n      timeline?: Timeline;\n    } = {}\n  ) {\n    // Currently deck.gl expects the DeckGL.layers array to be different\n    // whenever React rerenders. If the same layers array is used, the\n    // LayerManager's diffing algorithm will generate a fatal error and\n    // break the rendering.\n\n    // `this._lastRenderedLayers` stores the UNFILTERED layers sent\n    // down to LayerManager, so that `layers` reference can be compared.\n    // If it's the same across two React render calls, the diffing logic\n    // will be skipped.\n    this.layers = [];\n    this.resourceManager = new ResourceManager({gl, protocol: 'deck://'});\n\n    this.context = {\n      mousePosition: null,\n      userData: {},\n      layerManager: this,\n      gl,\n      deck,\n      // Enabling luma.gl Program caching using private API (_cachePrograms)\n      programManager: gl && createProgramManager(gl),\n      stats: stats || new Stats({id: 'deck.gl'}),\n      // Make sure context.viewport is not empty on the first layer initialization\n      viewport: viewport || new Viewport({id: 'DEFAULT-INITIAL-VIEWPORT'}), // Current viewport, exposed to layers for project* function\n      timeline: timeline || new Timeline(),\n      resourceManager: this.resourceManager,\n      onError: undefined\n    };\n\n    Object.seal(this);\n  }\n\n  /** Method to call when the layer manager is not needed anymore. */\n  finalize() {\n    this.resourceManager.finalize();\n    // Finalize all layers\n    for (const layer of this.layers) {\n      this._finalizeLayer(layer);\n    }\n  }\n\n  /** Check if a redraw is needed */\n  needsRedraw(\n    opts: {\n      /** Reset redraw flags to false after the call */\n      clearRedrawFlags: boolean;\n    } = {clearRedrawFlags: false}\n  ): string | false {\n    let redraw = this._needsRedraw;\n    if (opts.clearRedrawFlags) {\n      this._needsRedraw = false;\n    }\n\n    // This layers list doesn't include sublayers, relying on composite layers\n    for (const layer of this.layers) {\n      // Call every layer to clear their flags\n      const layerNeedsRedraw = layer.getNeedsRedraw(opts);\n      redraw = redraw || layerNeedsRedraw;\n    }\n\n    return redraw;\n  }\n\n  /** Check if a deep update of all layers is needed */\n  needsUpdate(): string | false {\n    if (this._nextLayers && this._nextLayers !== this._lastRenderedLayers) {\n      // New layers array may be the same as the old one if `setProps` is called by React\n      return 'layers changed';\n    }\n    return this._needsUpdate;\n  }\n\n  /** Layers will be redrawn (in next animation frame) */\n  setNeedsRedraw(reason: string): void {\n    this._needsRedraw = this._needsRedraw || reason;\n  }\n\n  /** Layers will be updated deeply (in next animation frame)\n    Potentially regenerating attributes and sub layers */\n  setNeedsUpdate(reason: string): void {\n    this._needsUpdate = this._needsUpdate || reason;\n  }\n\n  /** Gets a list of currently rendered layers. Optionally filter by id. */\n  getLayers({layerIds}: {layerIds?: string[]} = {}): Layer[] {\n    // Filtering by layerId compares beginning of strings, so that sublayers will be included\n    // Dependes on the convention of adding suffixes to the parent's layer name\n    return layerIds\n      ? this.layers.filter(layer => layerIds.find(layerId => layer.id.indexOf(layerId) === 0))\n      : this.layers;\n  }\n\n  /** Set props needed for layer rendering and picking. */\n  setProps(props: any): void {\n    if ('debug' in props) {\n      this._debug = props.debug;\n    }\n\n    // A way for apps to add data to context that can be accessed in layers\n    if ('userData' in props) {\n      this.context.userData = props.userData;\n    }\n\n    // New layers will be processed in `updateLayers` in the next update cycle\n    if ('layers' in props) {\n      this._nextLayers = props.layers;\n    }\n\n    if ('onError' in props) {\n      this.context.onError = props.onError;\n    }\n  }\n\n  /** Supply a new layer list, initiating sublayer generation and layer matching */\n  setLayers(newLayers: LayersList, reason?: string): void {\n    debug(TRACE_SET_LAYERS, this, reason, newLayers);\n\n    this._lastRenderedLayers = newLayers;\n\n    const flatLayers = flatten(newLayers, Boolean) as Layer[];\n\n    for (const layer of flatLayers) {\n      layer.context = this.context;\n    }\n\n    this._updateLayers(this.layers, flatLayers);\n  }\n\n  /** Update layers from last cycle if `setNeedsUpdate()` has been called */\n  updateLayers(): void {\n    // NOTE: For now, even if only some layer has changed, we update all layers\n    // to ensure that layer id maps etc remain consistent even if different\n    // sublayers are rendered\n    const reason = this.needsUpdate();\n    if (reason) {\n      this.setNeedsRedraw(`updating layers: ${reason}`);\n      // Force a full update\n      this.setLayers(this._nextLayers || this._lastRenderedLayers, reason);\n    }\n    // Updated, clear the backlog\n    this._nextLayers = null;\n  }\n\n  //\n  // INTERNAL METHODS\n  //\n\n  /** Make a viewport \"current\" in layer context, updating viewportChanged flags */\n  activateViewport = (viewport: Viewport) => {\n    debug(TRACE_ACTIVATE_VIEWPORT, this, viewport);\n    if (viewport) {\n      this.context.viewport = viewport;\n    }\n  };\n\n  private _handleError(stage: string, error: Error, layer: Layer) {\n    layer.raiseError(error, `${stage} of ${layer}`);\n  }\n\n  // TODO - mark layers with exceptions as bad and remove from rendering cycle?\n  /** Match all layers, checking for caught errors\n    to avoid having an exception in one layer disrupt other layers */\n  private _updateLayers(oldLayers: Layer[], newLayers: Layer[]): void {\n    // Create old layer map\n    const oldLayerMap: {[layerId: string]: Layer | null} = {};\n    for (const oldLayer of oldLayers) {\n      if (oldLayerMap[oldLayer.id]) {\n        log.warn(`Multiple old layers with same id ${oldLayer.id}`)();\n      } else {\n        oldLayerMap[oldLayer.id] = oldLayer;\n      }\n    }\n\n    // Allocate array for generated layers\n    const generatedLayers: Layer[] = [];\n\n    // Match sublayers\n    this._updateSublayersRecursively(newLayers, oldLayerMap, generatedLayers);\n\n    // Finalize unmatched layers\n    this._finalizeOldLayers(oldLayerMap);\n\n    let needsUpdate: string | false = false;\n    for (const layer of generatedLayers) {\n      if (layer.hasUniformTransition()) {\n        needsUpdate = `Uniform transition in ${layer}`;\n        break;\n      }\n    }\n\n    this._needsUpdate = needsUpdate;\n    this.layers = generatedLayers;\n  }\n\n  /* eslint-disable complexity,max-statements */\n  // Note: adds generated layers to `generatedLayers` array parameter\n  private _updateSublayersRecursively(\n    newLayers: Layer[],\n    oldLayerMap: {[layerId: string]: Layer | null},\n    generatedLayers: Layer[]\n  ) {\n    for (const newLayer of newLayers) {\n      newLayer.context = this.context;\n\n      // Given a new coming layer, find its matching old layer (if any)\n      const oldLayer = oldLayerMap[newLayer.id];\n      if (oldLayer === null) {\n        // null, rather than undefined, means this id was originally there\n        log.warn(`Multiple new layers with same id ${newLayer.id}`)();\n      }\n      // Remove the old layer from candidates, as it has been matched with this layer\n      oldLayerMap[newLayer.id] = null;\n\n      let sublayers: Layer[] | null = null;\n\n      // We must not generate exceptions until after layer matching is complete\n      try {\n        if (this._debug && oldLayer !== newLayer) {\n          newLayer.validateProps();\n        }\n\n        if (!oldLayer) {\n          this._initializeLayer(newLayer);\n        } else {\n          this._transferLayerState(oldLayer, newLayer);\n          this._updateLayer(newLayer);\n        }\n        generatedLayers.push(newLayer);\n\n        // Call layer lifecycle method: render sublayers\n        sublayers = newLayer.isComposite ? (newLayer as CompositeLayer).getSubLayers() : null;\n        // End layer lifecycle method: render sublayers\n      } catch (err) {\n        this._handleError('matching', err as Error, newLayer); // Record first exception\n      }\n\n      if (sublayers) {\n        this._updateSublayersRecursively(sublayers, oldLayerMap, generatedLayers);\n      }\n    }\n  }\n  /* eslint-enable complexity,max-statements */\n\n  // Finalize any old layers that were not matched\n  private _finalizeOldLayers(oldLayerMap: {[layerId: string]: Layer | null}): void {\n    for (const layerId in oldLayerMap) {\n      const layer = oldLayerMap[layerId];\n      if (layer) {\n        this._finalizeLayer(layer);\n      }\n    }\n  }\n\n  // / EXCEPTION SAFE LAYER ACCESS\n\n  /** Safely initializes a single layer, calling layer methods */\n  private _initializeLayer(layer: Layer): void {\n    try {\n      layer._initialize();\n      layer.lifecycle = LIFECYCLE.INITIALIZED;\n    } catch (err) {\n      this._handleError('initialization', err as Error, layer);\n      // TODO - what should the lifecycle state be here? LIFECYCLE.INITIALIZATION_FAILED?\n    }\n  }\n\n  /** Transfer state from one layer to a newer version */\n  private _transferLayerState(oldLayer: Layer, newLayer: Layer): void {\n    newLayer._transferState(oldLayer);\n    newLayer.lifecycle = LIFECYCLE.MATCHED;\n\n    if (newLayer !== oldLayer) {\n      oldLayer.lifecycle = LIFECYCLE.AWAITING_GC;\n    }\n  }\n\n  /** Safely updates a single layer, cleaning all flags */\n  private _updateLayer(layer: Layer): void {\n    try {\n      layer._update();\n    } catch (err) {\n      this._handleError('update', err as Error, layer);\n    }\n  }\n\n  /** Safely finalizes a single layer, removing all resources */\n  private _finalizeLayer(layer: Layer): void {\n    this._needsRedraw = this._needsRedraw || `finalized ${layer}`;\n\n    layer.lifecycle = LIFECYCLE.AWAITING_FINALIZATION;\n\n    try {\n      layer._finalize();\n      layer.lifecycle = LIFECYCLE.FINALIZED;\n    } catch (err) {\n      this._handleError('finalization', err as Error, layer);\n    }\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"e6dd1f2beceaa393ad476d0182125df1","cacheData":{"env":{}}}