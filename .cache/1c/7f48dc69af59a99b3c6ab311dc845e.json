{"id":"hMy0","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/effects/lighting/sun-light.js.map","includedInParent":true,"mtime":1688284130514},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/package.json","includedInParent":true,"mtime":1688284130514},{"name":"@babel/runtime/helpers/esm/defineProperty","loc":{"line":1,"column":28,"index":28},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/effects/lighting/sun-light.js","resolved":"/project/deck-gl-examples-01/node_modules/@babel/runtime/helpers/esm/defineProperty.js"},{"name":"./directional-light","loc":{"line":2,"column":33,"index":106},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/effects/lighting/sun-light.js","resolved":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/effects/lighting/directional-light.js"},{"name":"@math.gl/sun","loc":{"line":3,"column":32,"index":161},"parent":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/effects/lighting/sun-light.js","resolved":"/project/deck-gl-examples-01/node_modules/@math.gl/sun/dist/esm/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=r(require(\"@babel/runtime/helpers/esm/defineProperty\")),t=require(\"./directional-light\"),i=require(\"@math.gl/sun\");function r(e){return e&&e.__esModule?e:{default:e}}class s extends t.DirectionalLight{constructor(t){super(t),(0,e.default)(this,\"timestamp\",void 0),this.timestamp=t.timestamp}getProjectedLight({layer:e}){const{viewport:t}=e.context;if(t.resolution&&t.resolution>0){const[e,t,r]=(0,i.getSunDirection)(this.timestamp,0,0);this.direction=[e,-r,t]}else{const{latitude:e,longitude:r}=t;this.direction=(0,i.getSunDirection)(this.timestamp,e,r)}return this}}exports.default=s;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":0}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":13}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":20}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":35}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":43}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":56}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":57}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":64}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":68}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":76}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":89}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":91}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":95}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":97}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":99}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":107}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":153}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":155}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":163}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":186}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":188}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":196}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":212}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":221}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":223}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":226}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":233}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":236}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":238}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":249}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":251}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":252}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":260}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":15},"generated":{"line":1,"column":263}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"SunLight","original":{"line":26,"column":21},"generated":{"line":1,"column":269}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"DirectionalLight","original":{"line":26,"column":38},"generated":{"line":1,"column":279}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":15},"generated":{"line":1,"column":281}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"constructor","original":{"line":29,"column":2},"generated":{"line":1,"column":298}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"opts","original":{"line":29,"column":14},"generated":{"line":1,"column":310}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":1,"column":313}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"opts","original":{"line":30,"column":10},"generated":{"line":1,"column":319}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":29,"column":37},"generated":{"line":1,"column":323}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":29,"column":37},"generated":{"line":1,"column":325}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":29,"column":37},"generated":{"line":1,"column":327}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":29,"column":37},"generated":{"line":1,"column":336}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":29,"column":37},"generated":{"line":1,"column":341}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":29,"column":37},"generated":{"line":1,"column":358}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":361}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"timestamp","original":{"line":32,"column":9},"generated":{"line":1,"column":366}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"opts","original":{"line":32,"column":21},"generated":{"line":1,"column":376}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"timestamp","original":{"line":32,"column":26},"generated":{"line":1,"column":378}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"getProjectedLight","original":{"line":35,"column":2},"generated":{"line":1,"column":388}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":35,"column":20},"generated":{"line":1,"column":407}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"layer","original":{"line":35,"column":21},"generated":{"line":1,"column":413}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":1,"column":417}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":36,"column":10},"generated":{"line":1,"column":423}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"viewport","original":{"line":36,"column":11},"generated":{"line":1,"column":432}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"layer","original":{"line":36,"column":23},"generated":{"line":1,"column":435}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"context","original":{"line":36,"column":29},"generated":{"line":1,"column":437}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":445}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"viewport","original":{"line":37,"column":20},"generated":{"line":1,"column":448}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"resolution","original":{"line":37,"column":29},"generated":{"line":1,"column":450}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"viewport","original":{"line":37,"column":43},"generated":{"line":1,"column":462}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"resolution","original":{"line":37,"column":52},"generated":{"line":1,"column":464}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":37,"column":65},"generated":{"line":1,"column":475}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":39,"column":17},"generated":{"line":1,"column":477}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":41,"column":6},"generated":{"line":1,"column":478}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"x","original":{"line":41,"column":13},"generated":{"line":1,"column":484}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"y","original":{"line":41,"column":16},"generated":{"line":1,"column":486}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"z","original":{"line":41,"column":19},"generated":{"line":1,"column":488}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"getSunDirection","original":{"line":41,"column":24},"generated":{"line":1,"column":492}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"getSunDirection","original":{"line":41,"column":24},"generated":{"line":1,"column":494}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":41,"column":39},"generated":{"line":1,"column":496}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":41,"column":40},"generated":{"line":1,"column":513}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"timestamp","original":{"line":41,"column":45},"generated":{"line":1,"column":518}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":41,"column":56},"generated":{"line":1,"column":528}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":41,"column":59},"generated":{"line":1,"column":530}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":42,"column":6},"generated":{"line":1,"column":533}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"direction","original":{"line":42,"column":11},"generated":{"line":1,"column":538}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":42,"column":23},"generated":{"line":1,"column":548}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"x","original":{"line":42,"column":24},"generated":{"line":1,"column":549}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"z","original":{"line":42,"column":28},"generated":{"line":1,"column":552}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"y","original":{"line":42,"column":31},"generated":{"line":1,"column":554}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":561}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":45,"column":6},"generated":{"line":1,"column":562}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":45,"column":12},"generated":{"line":1,"column":568}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"latitude","original":{"line":45,"column":13},"generated":{"line":1,"column":577}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":45,"column":12},"generated":{"line":1,"column":579}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"longitude","original":{"line":45,"column":23},"generated":{"line":1,"column":589}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"viewport","original":{"line":45,"column":36},"generated":{"line":1,"column":592}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":46,"column":6},"generated":{"line":1,"column":594}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"direction","original":{"line":46,"column":11},"generated":{"line":1,"column":599}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"getSunDirection","original":{"line":46,"column":23},"generated":{"line":1,"column":610}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"getSunDirection","original":{"line":46,"column":23},"generated":{"line":1,"column":612}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":46,"column":38},"generated":{"line":1,"column":614}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":46,"column":39},"generated":{"line":1,"column":631}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"timestamp","original":{"line":46,"column":44},"generated":{"line":1,"column":636}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"latitude","original":{"line":46,"column":55},"generated":{"line":1,"column":646}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":"longitude","original":{"line":46,"column":65},"generated":{"line":1,"column":648}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":1,"column":651}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":49,"column":11},"generated":{"line":1,"column":658}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":664}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":672}},{"source":"../../../../src/effects/lighting/sun-light.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":1,"column":680}}],"sources":{"../../../../src/effects/lighting/sun-light.ts":"import {DirectionalLight} from './directional-light';\nimport {getSunDirection} from '@math.gl/sun';\n\nimport type Layer from '../../lib/layer';\n\nexport type SunLightOptions = {\n  id?: string;\n  /** Light color, [r, g, b] in the 0-255 range\n   * @default [255, 255, 255]\n   */\n  color?: number[];\n  /** Light intensity, higher number is brighter\n   * @default 1.0\n   */\n  intensity?: number;\n  /**\n   * The time at which to position the sun. Either a Date object or a timestamp (milliseconds elapsed since unix time 0)\n   */\n  timestamp: number | Date;\n  /** (Experimental) render shadows casted by this light\n   * @default false\n   */\n  _shadow?: boolean;\n};\n\nexport default class SunLight extends DirectionalLight {\n  timestamp: number | Date;\n\n  constructor(opts: SunLightOptions) {\n    super(opts);\n\n    this.timestamp = opts.timestamp;\n  }\n\n  getProjectedLight({layer}: {layer: Layer}): DirectionalLight {\n    const {viewport} = layer.context;\n    const isGlobe = viewport.resolution && viewport.resolution > 0;\n\n    if (isGlobe) {\n      // Rotate vector to align with the direction of the globe projection (up at lon:0,lat:0 is [0, -1, 0])\n      const [x, y, z] = getSunDirection(this.timestamp, 0, 0);\n      this.direction = [x, -z, y];\n    } else {\n      // @ts-expect-error longitude and latitude are not defined on all viewports\n      const {latitude, longitude} = viewport;\n      this.direction = getSunDirection(this.timestamp, latitude, longitude);\n    }\n\n    return this;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"e15d4252b48d0a2d5f4fd0fd2e558288","cacheData":{"env":{}}}