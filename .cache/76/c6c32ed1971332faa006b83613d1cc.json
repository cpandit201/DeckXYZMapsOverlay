{"id":"dX8M","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/dist/esm/lib/picking/pick-info.js.map","includedInParent":true,"mtime":1688284130514},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@deck.gl/core/package.json","includedInParent":true,"mtime":1688284130514}],"generated":{"js":"\"use strict\";function e({pickInfo:e,viewports:o,pixelRatio:i,x:t,y:r,z:c}){let l,d=o[0];if(o.length>1&&(d=n((null==e?void 0:e.pickedViewports)||o,{x:t,y:r})),d){const e=[t-d.x,r-d.y];void 0!==c&&(e[2]=c),l=d.unproject(e)}return{color:null,layer:null,viewport:d,index:-1,picked:!1,x:t,y:r,pixel:[t,r],coordinate:l,devicePixel:e&&\"pickedX\"in e?[e.pickedX,e.pickedY]:void 0,pixelRatio:i}}function o(o){const{pickInfo:n,lastPickedInfo:t,mode:r,layers:c}=o,{pickedColor:l,pickedLayer:d,pickedObjectIndex:p}=n,s=d?[d]:[];if(\"hover\"===r){const e=t.index,o=t.layerId,i=d?d.props.id:null;if(i!==o||p!==e){if(i!==o){const e=c.find(e=>e.props.id===o);e&&s.unshift(e)}t.layerId=i,t.index=p,t.info=null}}const f=e(o),u=new Map;return u.set(null,f),s.forEach(e=>{let o={...f};e===d&&(o.color=l,o.index=p,o.picked=!0);const n=(o=i({layer:e,info:o,mode:r})).layer;e===d&&\"hover\"===r&&(t.info=o),u.set(n.id,o),\"hover\"===r&&n.updateAutoHighlight(o)}),u}function i({layer:e,info:o,mode:i}){for(;e&&o;){const n=o.layer||null;o.sourceLayer=n,o.layer=e,o=e.getPickingInfo({info:o,mode:i,sourceLayer:n}),e=e.parent}return o}function n(e,o){for(let i=e.length-1;i>=0;i--){const n=e[i];if(n.containsPixel(o))return n}return e[0]}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getEmptyPickingInfo=e,exports.getLayerPickingInfo=i,exports.processPickInfo=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":50,"column":7},"generated":{"line":1,"column":13}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"getEmptyPickingInfo","original":{"line":50,"column":16},"generated":{"line":1,"column":22}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":50,"column":36},"generated":{"line":1,"column":25}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickInfo","original":{"line":51,"column":2},"generated":{"line":1,"column":34}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":50,"column":36},"generated":{"line":1,"column":36}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"viewports","original":{"line":52,"column":2},"generated":{"line":1,"column":46}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":50,"column":36},"generated":{"line":1,"column":48}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pixelRatio","original":{"line":53,"column":2},"generated":{"line":1,"column":59}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":50,"column":36},"generated":{"line":1,"column":61}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"x","original":{"line":54,"column":2},"generated":{"line":1,"column":63}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":50,"column":36},"generated":{"line":1,"column":65}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"y","original":{"line":55,"column":2},"generated":{"line":1,"column":67}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":50,"column":36},"generated":{"line":1,"column":69}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"z","original":{"line":56,"column":2},"generated":{"line":1,"column":71}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":1,"column":75}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"coordinate","original":{"line":72,"column":6},"generated":{"line":1,"column":79}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedViewport","original":{"line":67,"column":6},"generated":{"line":1,"column":81}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"viewports","original":{"line":67,"column":23},"generated":{"line":1,"column":83}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":67,"column":33},"generated":{"line":1,"column":85}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":73,"column":2},"generated":{"line":1,"column":88}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"viewports","original":{"line":68,"column":6},"generated":{"line":1,"column":91}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"length","original":{"line":68,"column":16},"generated":{"line":1,"column":93}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":68,"column":25},"generated":{"line":1,"column":100}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedViewport","original":{"line":70,"column":4},"generated":{"line":1,"column":104}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"getViewportFromCoordinates","original":{"line":70,"column":21},"generated":{"line":1,"column":106}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickInfo","original":{"line":70,"column":48},"generated":{"line":1,"column":109}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickInfo","original":{"line":70,"column":48},"generated":{"line":1,"column":115}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":70,"column":48},"generated":{"line":1,"column":122}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickInfo","original":{"line":70,"column":48},"generated":{"line":1,"column":124}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedViewports","original":{"line":70,"column":58},"generated":{"line":1,"column":126}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"viewports","original":{"line":70,"column":77},"generated":{"line":1,"column":144}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":70,"column":88},"generated":{"line":1,"column":146}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"x","original":{"line":70,"column":89},"generated":{"line":1,"column":147}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"x","original":{"line":70,"column":89},"generated":{"line":1,"column":149}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"y","original":{"line":70,"column":92},"generated":{"line":1,"column":151}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"y","original":{"line":70,"column":92},"generated":{"line":1,"column":153}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedViewport","original":{"line":73,"column":6},"generated":{"line":1,"column":158}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":73,"column":22},"generated":{"line":1,"column":160}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":1,"column":161}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"point","original":{"line":74,"column":10},"generated":{"line":1,"column":167}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":74,"column":18},"generated":{"line":1,"column":169}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"x","original":{"line":74,"column":19},"generated":{"line":1,"column":170}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedViewport","original":{"line":74,"column":23},"generated":{"line":1,"column":172}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"x","original":{"line":74,"column":38},"generated":{"line":1,"column":174}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"y","original":{"line":74,"column":41},"generated":{"line":1,"column":176}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedViewport","original":{"line":74,"column":45},"generated":{"line":1,"column":178}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"y","original":{"line":74,"column":60},"generated":{"line":1,"column":180}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"undefined","original":{"line":75,"column":14},"generated":{"line":1,"column":188}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"z","original":{"line":75,"column":8},"generated":{"line":1,"column":192}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"point","original":{"line":76,"column":6},"generated":{"line":1,"column":196}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":76,"column":12},"generated":{"line":1,"column":198}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"z","original":{"line":76,"column":17},"generated":{"line":1,"column":201}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"coordinate","original":{"line":78,"column":4},"generated":{"line":1,"column":204}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedViewport","original":{"line":78,"column":17},"generated":{"line":1,"column":206}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"unproject","original":{"line":78,"column":32},"generated":{"line":1,"column":208}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"point","original":{"line":78,"column":42},"generated":{"line":1,"column":218}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":221}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":81,"column":9},"generated":{"line":1,"column":227}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"color","original":{"line":82,"column":4},"generated":{"line":1,"column":228}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":82,"column":11},"generated":{"line":1,"column":234}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":83,"column":4},"generated":{"line":1,"column":239}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":83,"column":11},"generated":{"line":1,"column":245}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"viewport","original":{"line":84,"column":4},"generated":{"line":1,"column":250}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedViewport","original":{"line":84,"column":14},"generated":{"line":1,"column":259}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"index","original":{"line":85,"column":4},"generated":{"line":1,"column":261}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":85,"column":12},"generated":{"line":1,"column":268}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"picked","original":{"line":86,"column":4},"generated":{"line":1,"column":270}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":86,"column":12},"generated":{"line":1,"column":278}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"x","original":{"line":87,"column":4},"generated":{"line":1,"column":280}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"x","original":{"line":87,"column":4},"generated":{"line":1,"column":282}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"y","original":{"line":88,"column":4},"generated":{"line":1,"column":284}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"y","original":{"line":88,"column":4},"generated":{"line":1,"column":286}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pixel","original":{"line":89,"column":4},"generated":{"line":1,"column":288}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":89,"column":11},"generated":{"line":1,"column":294}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"x","original":{"line":89,"column":12},"generated":{"line":1,"column":295}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"y","original":{"line":89,"column":15},"generated":{"line":1,"column":297}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"coordinate","original":{"line":90,"column":4},"generated":{"line":1,"column":300}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"coordinate","original":{"line":90,"column":4},"generated":{"line":1,"column":311}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"devicePixel","original":{"line":91,"column":4},"generated":{"line":1,"column":313}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickInfo","original":{"line":92,"column":6},"generated":{"line":1,"column":325}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":92,"column":18},"generated":{"line":1,"column":328}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickInfo","original":{"line":92,"column":31},"generated":{"line":1,"column":340}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":93,"column":10},"generated":{"line":1,"column":342}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickInfo","original":{"line":93,"column":11},"generated":{"line":1,"column":343}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedX","original":{"line":93,"column":20},"generated":{"line":1,"column":345}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickInfo","original":{"line":93,"column":39},"generated":{"line":1,"column":353}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedY","original":{"line":93,"column":48},"generated":{"line":1,"column":355}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"undefined","original":{"line":94,"column":10},"generated":{"line":1,"column":369}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pixelRatio","original":{"line":95,"column":4},"generated":{"line":1,"column":371}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pixelRatio","original":{"line":95,"column":4},"generated":{"line":1,"column":382}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":101,"column":7},"generated":{"line":1,"column":385}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"processPickInfo","original":{"line":101,"column":16},"generated":{"line":1,"column":394}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"opts","original":{"line":101,"column":32},"generated":{"line":1,"column":396}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":116,"column":2},"generated":{"line":1,"column":399}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":116,"column":8},"generated":{"line":1,"column":405}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickInfo","original":{"line":116,"column":9},"generated":{"line":1,"column":414}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":116,"column":8},"generated":{"line":1,"column":416}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedInfo","original":{"line":116,"column":19},"generated":{"line":1,"column":431}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":116,"column":8},"generated":{"line":1,"column":433}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"mode","original":{"line":116,"column":35},"generated":{"line":1,"column":438}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":116,"column":8},"generated":{"line":1,"column":440}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layers","original":{"line":116,"column":41},"generated":{"line":1,"column":447}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"opts","original":{"line":116,"column":51},"generated":{"line":1,"column":450}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":117,"column":8},"generated":{"line":1,"column":453}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedColor","original":{"line":117,"column":9},"generated":{"line":1,"column":465}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":117,"column":8},"generated":{"line":1,"column":467}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedLayer","original":{"line":117,"column":22},"generated":{"line":1,"column":479}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":117,"column":8},"generated":{"line":1,"column":481}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedObjectIndex","original":{"line":117,"column":35},"generated":{"line":1,"column":499}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickInfo","original":{"line":117,"column":56},"generated":{"line":1,"column":502}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"affectedLayers","original":{"line":119,"column":8},"generated":{"line":1,"column":504}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedLayer","original":{"line":119,"column":25},"generated":{"line":1,"column":506}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":119,"column":39},"generated":{"line":1,"column":508}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedLayer","original":{"line":119,"column":40},"generated":{"line":1,"column":509}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":119,"column":55},"generated":{"line":1,"column":512}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":121,"column":2},"generated":{"line":1,"column":515}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":121,"column":15},"generated":{"line":1,"column":518}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"mode","original":{"line":121,"column":6},"generated":{"line":1,"column":528}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":121,"column":24},"generated":{"line":1,"column":530}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":123,"column":4},"generated":{"line":1,"column":531}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedPixelIndex","original":{"line":123,"column":10},"generated":{"line":1,"column":537}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedInfo","original":{"line":123,"column":33},"generated":{"line":1,"column":539}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"index","original":{"line":123,"column":48},"generated":{"line":1,"column":541}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedLayerId","original":{"line":124,"column":10},"generated":{"line":1,"column":547}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedInfo","original":{"line":124,"column":30},"generated":{"line":1,"column":549}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layerId","original":{"line":124,"column":45},"generated":{"line":1,"column":551}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedLayerId","original":{"line":125,"column":10},"generated":{"line":1,"column":559}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedLayer","original":{"line":125,"column":26},"generated":{"line":1,"column":561}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedLayer","original":{"line":125,"column":40},"generated":{"line":1,"column":563}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"props","original":{"line":125,"column":52},"generated":{"line":1,"column":565}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"id","original":{"line":125,"column":58},"generated":{"line":1,"column":571}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":125,"column":63},"generated":{"line":1,"column":574}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":128,"column":4},"generated":{"line":1,"column":579}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedLayerId","original":{"line":128,"column":8},"generated":{"line":1,"column":582}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedLayerId","original":{"line":128,"column":26},"generated":{"line":1,"column":586}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedObjectIndex","original":{"line":128,"column":47},"generated":{"line":1,"column":589}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedPixelIndex","original":{"line":128,"column":69},"generated":{"line":1,"column":593}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":128,"column":91},"generated":{"line":1,"column":595}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":129,"column":6},"generated":{"line":1,"column":596}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedLayerId","original":{"line":129,"column":10},"generated":{"line":1,"column":599}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedLayerId","original":{"line":129,"column":28},"generated":{"line":1,"column":603}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":129,"column":47},"generated":{"line":1,"column":605}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":133,"column":8},"generated":{"line":1,"column":606}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedLayer","original":{"line":133,"column":14},"generated":{"line":1,"column":612}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layers","original":{"line":133,"column":32},"generated":{"line":1,"column":614}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"find","original":{"line":133,"column":39},"generated":{"line":1,"column":616}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":133,"column":44},"generated":{"line":1,"column":621}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":133,"column":53},"generated":{"line":1,"column":624}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"props","original":{"line":133,"column":59},"generated":{"line":1,"column":626}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"id","original":{"line":133,"column":65},"generated":{"line":1,"column":632}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedLayerId","original":{"line":133,"column":72},"generated":{"line":1,"column":637}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedLayer","original":{"line":134,"column":12},"generated":{"line":1,"column":640}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"affectedLayers","original":{"line":136,"column":10},"generated":{"line":1,"column":643}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"unshift","original":{"line":136,"column":25},"generated":{"line":1,"column":645}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedLayer","original":{"line":136,"column":33},"generated":{"line":1,"column":653}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedInfo","original":{"line":141,"column":6},"generated":{"line":1,"column":656}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layerId","original":{"line":141,"column":21},"generated":{"line":1,"column":658}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedLayerId","original":{"line":141,"column":31},"generated":{"line":1,"column":666}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedInfo","original":{"line":142,"column":6},"generated":{"line":1,"column":668}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"index","original":{"line":142,"column":21},"generated":{"line":1,"column":670}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedObjectIndex","original":{"line":142,"column":29},"generated":{"line":1,"column":676}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedInfo","original":{"line":143,"column":6},"generated":{"line":1,"column":678}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":143,"column":21},"generated":{"line":1,"column":680}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":143,"column":28},"generated":{"line":1,"column":685}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":147,"column":2},"generated":{"line":1,"column":691}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"baseInfo","original":{"line":147,"column":8},"generated":{"line":1,"column":697}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"getEmptyPickingInfo","original":{"line":147,"column":19},"generated":{"line":1,"column":699}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"opts","original":{"line":147,"column":39},"generated":{"line":1,"column":701}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"infos","original":{"line":153,"column":8},"generated":{"line":1,"column":704}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":153,"column":16},"generated":{"line":1,"column":706}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"Map","original":{"line":153,"column":20},"generated":{"line":1,"column":710}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":183,"column":2},"generated":{"line":1,"column":714}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"infos","original":{"line":156,"column":2},"generated":{"line":1,"column":721}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"set","original":{"line":156,"column":8},"generated":{"line":1,"column":723}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":156,"column":12},"generated":{"line":1,"column":727}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"baseInfo","original":{"line":156,"column":18},"generated":{"line":1,"column":732}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"affectedLayers","original":{"line":158,"column":2},"generated":{"line":1,"column":735}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"forEach","original":{"line":158,"column":17},"generated":{"line":1,"column":737}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":158,"column":25},"generated":{"line":1,"column":745}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":159,"column":4},"generated":{"line":1,"column":749}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":159,"column":8},"generated":{"line":1,"column":753}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":159,"column":15},"generated":{"line":1,"column":755}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"baseInfo","original":{"line":159,"column":19},"generated":{"line":1,"column":759}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":161,"column":8},"generated":{"line":1,"column":762}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedLayer","original":{"line":161,"column":18},"generated":{"line":1,"column":766}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":162,"column":6},"generated":{"line":1,"column":770}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"color","original":{"line":162,"column":11},"generated":{"line":1,"column":772}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedColor","original":{"line":162,"column":19},"generated":{"line":1,"column":778}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":163,"column":6},"generated":{"line":1,"column":780}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"index","original":{"line":163,"column":11},"generated":{"line":1,"column":782}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedObjectIndex","original":{"line":163,"column":19},"generated":{"line":1,"column":788}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":164,"column":6},"generated":{"line":1,"column":790}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"picked","original":{"line":164,"column":11},"generated":{"line":1,"column":792}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":164,"column":20},"generated":{"line":1,"column":800}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":168,"column":4},"generated":{"line":1,"column":803}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"rootLayer","original":{"line":168,"column":10},"generated":{"line":1,"column":809}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":167,"column":4},"generated":{"line":1,"column":812}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"getLayerPickingInfo","original":{"line":167,"column":11},"generated":{"line":1,"column":814}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":167,"column":31},"generated":{"line":1,"column":816}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":167,"column":32},"generated":{"line":1,"column":817}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":167,"column":32},"generated":{"line":1,"column":823}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":167,"column":39},"generated":{"line":1,"column":825}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":167,"column":39},"generated":{"line":1,"column":830}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"mode","original":{"line":167,"column":45},"generated":{"line":1,"column":832}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"mode","original":{"line":167,"column":45},"generated":{"line":1,"column":837}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":168,"column":27},"generated":{"line":1,"column":842}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":170,"column":8},"generated":{"line":1,"column":848}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pickedLayer","original":{"line":170,"column":18},"generated":{"line":1,"column":852}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":170,"column":42},"generated":{"line":1,"column":855}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"mode","original":{"line":170,"column":33},"generated":{"line":1,"column":865}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"lastPickedInfo","original":{"line":171,"column":6},"generated":{"line":1,"column":869}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":171,"column":21},"generated":{"line":1,"column":871}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":171,"column":28},"generated":{"line":1,"column":876}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"infos","original":{"line":176,"column":4},"generated":{"line":1,"column":879}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"set","original":{"line":176,"column":10},"generated":{"line":1,"column":881}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"rootLayer","original":{"line":176,"column":14},"generated":{"line":1,"column":885}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"id","original":{"line":176,"column":24},"generated":{"line":1,"column":887}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":176,"column":28},"generated":{"line":1,"column":890}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":178,"column":17},"generated":{"line":1,"column":893}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"mode","original":{"line":178,"column":8},"generated":{"line":1,"column":903}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"rootLayer","original":{"line":179,"column":6},"generated":{"line":1,"column":906}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"updateAutoHighlight","original":{"line":179,"column":16},"generated":{"line":1,"column":908}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":179,"column":36},"generated":{"line":1,"column":928}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"infos","original":{"line":183,"column":9},"generated":{"line":1,"column":933}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":187,"column":7},"generated":{"line":1,"column":935}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"getLayerPickingInfo","original":{"line":187,"column":16},"generated":{"line":1,"column":944}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":187,"column":36},"generated":{"line":1,"column":947}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":188,"column":2},"generated":{"line":1,"column":953}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":187,"column":36},"generated":{"line":1,"column":955}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":189,"column":2},"generated":{"line":1,"column":960}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":187,"column":36},"generated":{"line":1,"column":962}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"mode","original":{"line":190,"column":2},"generated":{"line":1,"column":967}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":196,"column":2},"generated":{"line":1,"column":971}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":196,"column":9},"generated":{"line":1,"column":976}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":196,"column":18},"generated":{"line":1,"column":979}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":196,"column":24},"generated":{"line":1,"column":982}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":201,"column":4},"generated":{"line":1,"column":983}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"sourceLayer","original":{"line":201,"column":10},"generated":{"line":1,"column":989}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":201,"column":24},"generated":{"line":1,"column":991}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":201,"column":29},"generated":{"line":1,"column":993}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":201,"column":38},"generated":{"line":1,"column":1000}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":202,"column":4},"generated":{"line":1,"column":1005}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"sourceLayer","original":{"line":202,"column":9},"generated":{"line":1,"column":1007}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"sourceLayer","original":{"line":202,"column":23},"generated":{"line":1,"column":1019}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":203,"column":4},"generated":{"line":1,"column":1021}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":203,"column":9},"generated":{"line":1,"column":1023}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":203,"column":17},"generated":{"line":1,"column":1029}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":207,"column":4},"generated":{"line":1,"column":1031}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":207,"column":11},"generated":{"line":1,"column":1033}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"getPickingInfo","original":{"line":207,"column":17},"generated":{"line":1,"column":1035}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":207,"column":32},"generated":{"line":1,"column":1050}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":207,"column":33},"generated":{"line":1,"column":1051}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":207,"column":33},"generated":{"line":1,"column":1056}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"mode","original":{"line":207,"column":39},"generated":{"line":1,"column":1058}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"mode","original":{"line":207,"column":39},"generated":{"line":1,"column":1063}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"sourceLayer","original":{"line":207,"column":45},"generated":{"line":1,"column":1065}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"sourceLayer","original":{"line":207,"column":45},"generated":{"line":1,"column":1077}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":208,"column":4},"generated":{"line":1,"column":1081}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"layer","original":{"line":208,"column":12},"generated":{"line":1,"column":1083}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"parent","original":{"line":208,"column":18},"generated":{"line":1,"column":1085}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":210,"column":2},"generated":{"line":1,"column":1092}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"info","original":{"line":210,"column":9},"generated":{"line":1,"column":1099}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":216,"column":0},"generated":{"line":1,"column":1101}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"getViewportFromCoordinates","original":{"line":216,"column":9},"generated":{"line":1,"column":1110}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"viewports","original":{"line":217,"column":2},"generated":{"line":1,"column":1112}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pixel","original":{"line":218,"column":2},"generated":{"line":1,"column":1114}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":221,"column":2},"generated":{"line":1,"column":1117}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":221,"column":7},"generated":{"line":1,"column":1121}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"i","original":{"line":221,"column":11},"generated":{"line":1,"column":1125}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"viewports","original":{"line":221,"column":15},"generated":{"line":1,"column":1127}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"length","original":{"line":221,"column":25},"generated":{"line":1,"column":1129}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":221,"column":34},"generated":{"line":1,"column":1136}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"i","original":{"line":221,"column":37},"generated":{"line":1,"column":1138}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":221,"column":42},"generated":{"line":1,"column":1141}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"i","original":{"line":221,"column":45},"generated":{"line":1,"column":1143}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":221,"column":50},"generated":{"line":1,"column":1147}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":222,"column":4},"generated":{"line":1,"column":1148}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"viewport","original":{"line":222,"column":10},"generated":{"line":1,"column":1154}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"viewports","original":{"line":222,"column":21},"generated":{"line":1,"column":1156}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"i","original":{"line":222,"column":31},"generated":{"line":1,"column":1158}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":223,"column":4},"generated":{"line":1,"column":1161}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"viewport","original":{"line":223,"column":8},"generated":{"line":1,"column":1164}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"containsPixel","original":{"line":223,"column":17},"generated":{"line":1,"column":1166}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"pixel","original":{"line":223,"column":31},"generated":{"line":1,"column":1180}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":224,"column":6},"generated":{"line":1,"column":1183}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"viewport","original":{"line":224,"column":13},"generated":{"line":1,"column":1190}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":227,"column":2},"generated":{"line":1,"column":1192}},{"source":"../../../../src/lib/picking/pick-info.ts","name":"viewports","original":{"line":227,"column":9},"generated":{"line":1,"column":1199}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":227,"column":19},"generated":{"line":1,"column":1201}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1204}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1211}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1226}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1234}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1247}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1248}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1255}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1259}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1267}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1287}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1289}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1297}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1317}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1319}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1327}},{"source":"../../../../src/lib/picking/pick-info.ts","name":null,"original":{"line":228,"column":1},"generated":{"line":1,"column":1343}}],"sources":{"../../../../src/lib/picking/pick-info.ts":"// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport type Layer from '../layer';\nimport type Viewport from '../../viewports/viewport';\nimport type {PickedPixel} from './query-object';\n\nexport interface PickingInfo {\n  color: Uint8Array | null;\n  layer: Layer | null;\n  sourceLayer?: Layer | null;\n  viewport?: Viewport;\n  index: number;\n  picked: boolean;\n  object?: any;\n  x: number;\n  y: number;\n  pixel?: [number, number];\n  coordinate?: number[];\n  devicePixel?: [number, number];\n  pixelRatio: number;\n}\n\nexport interface GetPickingInfoParams {\n  info: PickingInfo;\n  mode: string;\n  sourceLayer: Layer | null;\n}\n\n/** Generates some basic information of the picking action: x, y, coordinates etc.\n * Regardless if anything is picked\n */\nexport function getEmptyPickingInfo({\n  pickInfo,\n  viewports,\n  pixelRatio,\n  x,\n  y,\n  z\n}: {\n  pickInfo?: PickedPixel;\n  viewports: Viewport[];\n  pixelRatio: number;\n  x: number;\n  y: number;\n  z?: number;\n}): PickingInfo {\n  // If more than one viewports are used in the picking pass, locate the viewport that\n  // drew the picked pixel\n  let pickedViewport = viewports[0];\n  if (viewports.length > 1) {\n    // Find the viewport that contain the picked pixel\n    pickedViewport = getViewportFromCoordinates(pickInfo?.pickedViewports || viewports, {x, y});\n  }\n  let coordinate: number[] | undefined;\n  if (pickedViewport) {\n    const point = [x - pickedViewport.x, y - pickedViewport.y];\n    if (z !== undefined) {\n      point[2] = z;\n    }\n    coordinate = pickedViewport.unproject(point);\n  }\n\n  return {\n    color: null,\n    layer: null,\n    viewport: pickedViewport,\n    index: -1,\n    picked: false,\n    x,\n    y,\n    pixel: [x, y],\n    coordinate,\n    devicePixel:\n      pickInfo && 'pickedX' in pickInfo\n        ? [pickInfo.pickedX as number, pickInfo.pickedY as number]\n        : undefined,\n    pixelRatio\n  };\n}\n\n/* eslint-disable max-depth */\n/** Generates the picking info of a picking operation */\nexport function processPickInfo(opts: {\n  pickInfo: PickedPixel;\n  lastPickedInfo: {\n    index: number;\n    layerId: string | null;\n    info: PickingInfo | null;\n  };\n  mode: string;\n  layers: Layer[];\n  viewports: Viewport[];\n  pixelRatio: number;\n  x: number;\n  y: number;\n  z?: number;\n}): Map<string | null, PickingInfo> {\n  const {pickInfo, lastPickedInfo, mode, layers} = opts;\n  const {pickedColor, pickedLayer, pickedObjectIndex} = pickInfo;\n\n  const affectedLayers = pickedLayer ? [pickedLayer] : [];\n\n  if (mode === 'hover') {\n    // only invoke onHover events if picked object has changed\n    const lastPickedPixelIndex = lastPickedInfo.index;\n    const lastPickedLayerId = lastPickedInfo.layerId;\n    const pickedLayerId = pickedLayer ? pickedLayer.props.id : null;\n\n    // proceed only if picked object changed\n    if (pickedLayerId !== lastPickedLayerId || pickedObjectIndex !== lastPickedPixelIndex) {\n      if (pickedLayerId !== lastPickedLayerId) {\n        // We cannot store a ref to lastPickedLayer in the context because\n        // the state of an outdated layer is no longer valid\n        // and the props may have changed\n        const lastPickedLayer = layers.find(layer => layer.props.id === lastPickedLayerId);\n        if (lastPickedLayer) {\n          // Let leave event fire before enter event\n          affectedLayers.unshift(lastPickedLayer);\n        }\n      }\n\n      // Update layer manager context\n      lastPickedInfo.layerId = pickedLayerId;\n      lastPickedInfo.index = pickedObjectIndex;\n      lastPickedInfo.info = null;\n    }\n  }\n\n  const baseInfo = getEmptyPickingInfo(opts);\n\n  // Use a Map to store all picking infos.\n  // The following two forEach loops are the result of\n  // https://github.com/visgl/deck.gl/issues/443\n  // Please be very careful when changing this pattern\n  const infos = new Map();\n\n  // Make sure infos always contain something even if no layer is affected\n  infos.set(null, baseInfo);\n\n  affectedLayers.forEach(layer => {\n    let info = {...baseInfo};\n\n    if (layer === pickedLayer) {\n      info.color = pickedColor;\n      info.index = pickedObjectIndex;\n      info.picked = true;\n    }\n\n    info = getLayerPickingInfo({layer, info, mode});\n    const rootLayer = info.layer as Layer;\n\n    if (layer === pickedLayer && mode === 'hover') {\n      lastPickedInfo.info = info;\n    }\n\n    // This guarantees that there will be only one copy of info for\n    // one composite layer\n    infos.set(rootLayer.id, info);\n\n    if (mode === 'hover') {\n      rootLayer.updateAutoHighlight(info);\n    }\n  });\n\n  return infos;\n}\n\n/** Walk up the layer composite chain to populate the info object */\nexport function getLayerPickingInfo({\n  layer,\n  info,\n  mode\n}: {\n  layer: Layer;\n  info: PickingInfo;\n  mode: string;\n}): PickingInfo {\n  while (layer && info) {\n    // For a composite layer, sourceLayer will point to the sublayer\n    // where the event originates from.\n    // It provides additional context for the composite layer's\n    // getPickingInfo() method to populate the info object\n    const sourceLayer = info.layer || null;\n    info.sourceLayer = sourceLayer;\n    info.layer = layer;\n    // layer.pickLayer() function requires a non-null ```layer.state```\n    // object to function properly. So the layer referenced here\n    // must be the \"current\" layer, not an \"out-dated\" / \"invalidated\" layer\n    info = layer.getPickingInfo({info, mode, sourceLayer});\n    layer = layer.parent as Layer;\n  }\n  return info;\n}\n\n/** Indentifies which viewport, if any corresponds to x and y\n   If multiple viewports contain the target pixel, last viewport drawn is returend\n   Returns first viewport if no match */\nfunction getViewportFromCoordinates(\n  viewports: Viewport[],\n  pixel: {x: number; y: number}\n): Viewport {\n  // find the last viewport that contains the pixel\n  for (let i = viewports.length - 1; i >= 0; i--) {\n    const viewport = viewports[i];\n    if (viewport.containsPixel(pixel)) {\n      return viewport;\n    }\n  }\n  return viewports[0];\n}\n"},"lineCount":null}},"error":null,"hash":"b9ca34fe321b1b136c5e383aca785429","cacheData":{"env":{}}}