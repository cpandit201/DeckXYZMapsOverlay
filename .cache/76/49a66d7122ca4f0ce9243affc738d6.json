{"id":"tqSD","dependencies":[{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/dist/esm/iterators/make-iterator/make-string-iterator.js.map","includedInParent":true,"mtime":1688284130527},{"name":"/project/deck-gl-examples-01/package.json","includedInParent":true,"mtime":1688495957541},{"name":"/project/deck-gl-examples-01/node_modules/@loaders.gl/core/package.json","includedInParent":true,"mtime":1688284130527}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.makeStringIterator=t;const e=262144;function*t(t,n){const o=(null==n?void 0:n.chunkSize)||e;let c=0;const r=new TextEncoder;for(;c<t.length;){const e=Math.min(t.length-c,o),n=t.slice(c,c+e);c+=e,yield r.encode(n)}}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":95}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":97}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"DEFAULT_CHUNK_SIZE","original":{"line":3,"column":6},"generated":{"line":1,"column":103}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":3,"column":27},"generated":{"line":1,"column":105}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":11,"column":7},"generated":{"line":1,"column":112}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"makeStringIterator","original":{"line":11,"column":17},"generated":{"line":1,"column":121}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"string","original":{"line":12,"column":2},"generated":{"line":1,"column":123}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"options","original":{"line":13,"column":2},"generated":{"line":1,"column":125}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":128}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"chunkSize","original":{"line":15,"column":8},"generated":{"line":1,"column":134}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"options","original":{"line":15,"column":20},"generated":{"line":1,"column":137}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"options","original":{"line":15,"column":20},"generated":{"line":1,"column":143}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":15,"column":27},"generated":{"line":1,"column":150}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"options","original":{"line":15,"column":20},"generated":{"line":1,"column":152}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"chunkSize","original":{"line":15,"column":29},"generated":{"line":1,"column":154}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"DEFAULT_CHUNK_SIZE","original":{"line":15,"column":42},"generated":{"line":1,"column":166}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":168}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"offset","original":{"line":17,"column":6},"generated":{"line":1,"column":172}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":17,"column":15},"generated":{"line":1,"column":174}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":176}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"textEncoder","original":{"line":18,"column":8},"generated":{"line":1,"column":182}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":18,"column":22},"generated":{"line":1,"column":184}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"TextEncoder","original":{"line":18,"column":26},"generated":{"line":1,"column":188}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":200}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"offset","original":{"line":19,"column":9},"generated":{"line":1,"column":205}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"string","original":{"line":19,"column":18},"generated":{"line":1,"column":207}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"length","original":{"line":19,"column":25},"generated":{"line":1,"column":209}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":19,"column":33},"generated":{"line":1,"column":217}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":1,"column":218}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"chunkLength","original":{"line":21,"column":10},"generated":{"line":1,"column":224}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"Math","original":{"line":21,"column":24},"generated":{"line":1,"column":226}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"min","original":{"line":21,"column":29},"generated":{"line":1,"column":231}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"string","original":{"line":21,"column":33},"generated":{"line":1,"column":235}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"length","original":{"line":21,"column":40},"generated":{"line":1,"column":237}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"offset","original":{"line":21,"column":49},"generated":{"line":1,"column":244}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"chunkSize","original":{"line":21,"column":57},"generated":{"line":1,"column":246}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"chunk","original":{"line":22,"column":10},"generated":{"line":1,"column":249}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"string","original":{"line":22,"column":18},"generated":{"line":1,"column":251}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"slice","original":{"line":22,"column":25},"generated":{"line":1,"column":253}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"offset","original":{"line":22,"column":31},"generated":{"line":1,"column":259}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"offset","original":{"line":22,"column":39},"generated":{"line":1,"column":261}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"chunkLength","original":{"line":22,"column":48},"generated":{"line":1,"column":263}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"offset","original":{"line":23,"column":4},"generated":{"line":1,"column":266}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"chunkLength","original":{"line":23,"column":14},"generated":{"line":1,"column":269}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"textEncoder","original":{"line":26,"column":10},"generated":{"line":1,"column":277}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"encode","original":{"line":26,"column":22},"generated":{"line":1,"column":279}},{"source":"../../../../src/iterators/make-iterator/make-string-iterator.ts","name":"chunk","original":{"line":26,"column":29},"generated":{"line":1,"column":286}}],"sources":{"../../../../src/iterators/make-iterator/make-string-iterator.ts":"import type {IteratorOptions} from './make-iterator';\n\nconst DEFAULT_CHUNK_SIZE = 256 * 1024;\n\n/**\n * Returns an iterator that breaks a big string into chunks and yields them one-by-one as ArrayBuffers\n * @param blob string to iterate over\n * @param options\n * @param options.chunkSize\n */\nexport function* makeStringIterator(\n  string: string,\n  options?: IteratorOptions\n): Iterable<ArrayBuffer> {\n  const chunkSize = options?.chunkSize || DEFAULT_CHUNK_SIZE;\n\n  let offset = 0;\n  const textEncoder = new TextEncoder();\n  while (offset < string.length) {\n    // Create a chunk of the right size\n    const chunkLength = Math.min(string.length - offset, chunkSize);\n    const chunk = string.slice(offset, offset + chunkLength);\n    offset += chunkLength;\n\n    // yield an ArrayBuffer chunk\n    yield textEncoder.encode(chunk);\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"c0f391eca6aa515f877204de50aeb37e","cacheData":{"env":{}}}